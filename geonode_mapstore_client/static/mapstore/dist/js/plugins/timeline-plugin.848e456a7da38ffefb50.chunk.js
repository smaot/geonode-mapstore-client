(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[24276],{580416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>a,OX:()=>u,sb:()=>c,K$:()=>l,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>d,oE:()=>y,Po:()=>m,qv:()=>v,cI:()=>b,g6:()=>g,I4:()=>h,l$:()=>O,Xv:()=>S,k3:()=>P,CQ:()=>w,R8:()=>E,HN:()=>j,sH:()=>T,c7:()=>R,_7:()=>A,eF:()=>L,O6:()=>I,ED:()=>D,RP:()=>k,sF:()=>_,VP:()=>N,He:()=>M,vO:()=>C,WO:()=>x,bh:()=>Z,MK:()=>H,ZF:()=>Y,tV:()=>V,Dv:()=>U,Yz:()=>z,kI:()=>G,XG:()=>W,A4:()=>F,Rp:()=>B,$o:()=>K,ct:()=>Q,oh:()=>X,$h:()=>q,ud:()=>J,Qr:()=>$,LR:()=>ee,nN:()=>te,UG:()=>ne,c9:()=>re,Xy:()=>oe});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",u="SORT_NODE",c="REMOVE_NODE",l="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",m="ADD_GROUP",v="REMOVE_LAYER",b="SHOW_SETTINGS",g="HIDE_SETTINGS",h="UPDATE_SETTINGS",O="REFRESH_LAYERS",S="LAYERS:UPDATE_LAYERS_DIMENSION",P="LAYERS_REFRESHED",w="LAYERS_REFRESH_ERROR",E="LAYERS:BROWSE_DATA",j="LAYERS:DOWNLOAD",T="LAYERS:CLEAR_LAYERS",R="LAYERS:SELECT_NODE",A="LAYERS:FILTER_LAYERS",L="LAYERS:SHOW_LAYER_METADATA",I="LAYERS:HIDE_LAYER_METADATA",D="LAYERS:UPDATE_SETTINGS_PARAMS";function k(e,t,n){return{type:b,node:e,nodeType:t,options:n}}function _(){return{type:g}}function N(e){return{type:h,options:e}}function M(e,t){return{type:r,newProperties:t,layer:e}}function C(e,t){return{type:o,layer:e,params:t}}function x(e,t){return{type:i,newProperties:t,group:e}}function Z(e,t,n){return{type:a,node:e,nodeType:t,status:!n}}function H(e,t){return{type:u,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function Y(e,t){return{type:c,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function V(e,t,n){return{type:l,node:e,nodeType:t,options:n}}function U(e,t,n){return{type:s,node:e,groupId:t,index:n}}function z(e){return{type:f,layerId:e}}function G(e,t){return{type:p,layerId:e,error:t}}function W(e,t,n){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:n}}function F(e){return{type:y,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function B(e,t,n){return{type:m,group:e,parent:t,options:n,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function K(e){return{type:v,layerId:e}}function Q(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:P,layers:e}}function q(e,t){return{type:w,layers:e,error:t}}function J(e,t,n,r){return{type:S,dimension:e,value:t,options:n,layers:r}}function $(e){return{type:E,layer:e}}function ee(e){return{type:j,layer:e}}function te(){return{type:T}}function ne(e,t,n){return{type:R,id:e,nodeType:t,ctrlKey:n}}function re(e,t){return{type:L,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:D,newParams:e,update:t}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>u,Qy:()=>c,IL:()=>l,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>d,TF:()=>y,Ls:()=>m,Ec:()=>v,Eu:()=>b,JJ:()=>g,nZ:()=>h,YD:()=>O,GI:()=>S,Jb:()=>P,Uh:()=>w,e$:()=>E,eh:()=>j,$j:()=>T,bJ:()=>R,Mk:()=>A,xy:()=>L,o6:()=>I,NH:()=>D,FP:()=>k,Mo:()=>_,sO:()=>N,Px:()=>M,hd:()=>C,y9:()=>x,Ju:()=>Z,BV:()=>H,SO:()=>Y,H0:()=>V,$X:()=>U,ou:()=>z,NE:()=>G,Lq:()=>W,aN:()=>F});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",u="PAN_TO",c="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",y="CREATION_ERROR_LAYER",m="UPDATE_VERSION",v="INIT_MAP",b="RESIZE_MAP",g="CHANGE_MAP_LIMITS",h="SET_MAP_RESOLUTIONS",O="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",P="MOUSE_MOVE",w="MOUSE_OUT",E="MAP:MAP_PLUGIN_LOAD",j="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",R="MAP:UPDATE_MAP_OPTIONS";function A(e,t,n,r){return{type:E,mapType:t,loading:e,loaded:n,error:r}}function L(e,t,n){return{type:l,pos:e,zoom:t,crs:n}}function I(e,t,n,o,i,a,u,c){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:a,viewerOptions:u,resolution:c}}function D(e){return{type:s,crs:e}}function k(e,t){return{type:o,point:e,layer:t}}function _(e){return{type:i,pointer:e}}function N(e,t){return{type:a,zoom:e,mapStateSource:t}}function M(e,t,n,r){return{type:c,extent:e,crs:t,maxZoom:n,options:r}}function C(e,t){return{type:p,style:e,mapStateSource:t}}function x(e){return{type:v,disableFeedbackMask:e}}function Z(){return{type:b}}function H(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:g,restrictedExtent:t,crs:n,minZoom:r}}function Y(e){return{type:h,resolutions:e}}var V=function(e,t){return{type:O,eventName:e,toolName:t}},U=function(e,t){return{type:S,eventName:e,toolName:t}},z=function(e){return{type:P,position:e}},G=function(){return{type:w}},W=function(e){return{type:j,orientation:e}},F=function(e){return{type:R,configUpdate:e}}},159979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(124852),o=n.n(r),i=n(352595),a=n(480681),u=n(957557),c=n.n(u),l=n(180307),s=n.n(l);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=["popoverOptions","keyProp"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}function v(e,t,n){return t=g(t),function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}const O=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),v(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(n,t),r=n,(u=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,u=n.keyProp,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,p);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,d({},c()(l,["renderPopover","tooltipId"]),{key:u,ref:function(e){t=e}})),o().createElement(i.Z,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.J2,r.props,r.content)))}}])&&y(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,u}(o().Component)}},975480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(124852),o=n.n(r);const i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,t=void 0===e?{display:"inline-block"}:e;return o().createElement("div",{style:t,className:"mapstore-inline-loader"})}},352595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(461365).Z)(n(480681).aV)},906724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(124852),o=n.n(r),i=n(867076),a=function(e,t,n){var r=n.maskContainerStyle,a=n.maskStyle,u=n.className,c=n.white;return function(n){return(0,i.nest)((function(n){return o().createElement("div",{className:"ms2-mask-container ".concat(u||""," ").concat(e(n)?"":"ms2-mask-empty"),style:r},n.children,e(n)?o().createElement("div",{className:"ms2-mask"+(c?" white-mask":""),style:a},t(n)):null)}),n)}};const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,u=n.white,c=void 0!==u&&u,l=n.maskContainerStyle,s=void 0===l?{}:l,f=n.maskStyle,p=void 0===f?{}:f,d=n.className;return o?a(e,t,{maskContainerStyle:s,maskStyle:p,className:d,white:c}):(0,i.branch)(e,a((function(){return!0}),t,{maskContainerStyle:s,maskStyle:p,white:c}))}},438482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(124852),o=n.n(r),i=n(23279),a=n.n(i),u=n(45697),c=n.n(u),l=n(180307),s=n.n(l),f=n(391033);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function y(e,t,n){return t=v(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}const O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,i=void 0!==r&&r;return function(e){var r;return r=function(r){function u(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),g(r=y(this,u,[e]),"findDomNode",(function(){if(!r.isMounded)return null;var e=s().findDOMNode(r);return e&&i&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)})),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.div=null,r.onResize=a()((function(){var e;return(e=r.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),r.ro=new f.Z((function(e){e.forEach((function(e){var t=e.contentRect,n=t.width,o=t.height,i=r.props.handleWidth&&r.width!==n,a=r.props.handleHeight&&r.height!==o;r.skipOnMount||!i&&!a||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,r),c=u,(l=[{key:"componentDidMount",value:function(){this.isMounded=!0,this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentDidUpdate",value:function(){this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return o().createElement(e,this.props)}}])&&d(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,l}(o().Component),g(r,"propTypes",{handleWidth:c().bool,handleHeight:c().bool,onResize:c().func}),g(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),r}}},218291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(124852),o=n.n(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,n=void 0===t?null:t;return function(t){return(0,r.forwardRef)((function(a,u){return void 0===e||e(a)?o().createElement(r.Suspense,{fallback:n},o().createElement(t,i({ref:u},a))):null}))}}},626325:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>W});var r=n(49977),o=n.n(r),i=n(747037),a=n.n(i),u=n(227361),c=n.n(u),l=n(91175),s=n.n(l),f=n(984596),p=n.n(f),d=n(441609),y=n.n(d),m=n(414293),v=n.n(m),b=n(730381),g=n.n(b),h=n(589919),O=n(801550),S=n(757676),P=n(57604),w=n(580416),E=n(197395),j=n(675110),T=n(997291),R=n(285148),A=n(55237),L=n(496361),I=n(50886),D=n(881808);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function _(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){var r;return r=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==k(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H="time",Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,T.Li)(e()),r=(0,T.uy)(e()),o=(0,T.Ry)(e()),i=(0,T.F3)(n)(e()),a="end"===(0,T.pW)(e());return[o,r,"time",x(x({limit:1},t),{},{fromEnd:a}),i]},V=function(e,t,n){var r=e();if((0,T.uy)(r)){var i=(0,T.pW)(r);return(0,I.A)(Y,!0,e,i,n).map((function(e){return(0,A.Qn)(e.filter((function(e){return!!e})),n,i)||n}))}var a=(0,R.aK)((0,j.CA)(r,t))(r);return o().Observable.of((0,A.Qn)(a,n)||n)},U=function(e){return a()(e)?e:e.toISOString()},z=function(e,t,n){var r,i,u=e.isFullRange,c=e.offsetTime;(i=(i=a()(t)?t.indexOf("--")>0?t.split("--"):t.indexOf(",")>0?t.split(","):[t]:t).reduce((function(e,t){return e.concat(t.split("/"))}),[])).length>2&&(i=[i[0],i[i.length-1]]);var l,s,f=(l=(null===(r=i)||void 0===r?void 0:r.filter((function(e){return!!e})))||[],s=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(l,s)||N(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],d=f[1],y=u&&null!=p?p:n,m=g()(432e6).diff(0),v=g()(new Date).add(m/5).toISOString(),b=u?null!=d?d:v:null!=c?c:v,h=g()(b).diff(g()(y)),O=g()(y).add(h).toISOString();return o().Observable.of((0,P.yR)(y)).concat(o().Observable.of((0,P.pF)(b))).concat(o().Observable.of((0,S.y3)({start:p,end:O})))},G=function(e,t){return(0,S.Nb)(c()((0,R.LS)(e),"[0].id"),t)};const W={updateTimelineDataOnMapLoad:function(e){return e.ofType(D.ok).filter((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;return!y()(e)})).switchMap((function(){var e,t,n,r,i,a,u,c=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,l=null==c||null===(e=c.timelineData)||void 0===e?void 0:e.selectedLayer,s=null==c||null===(t=c.dimensionData)||void 0===t?void 0:t.currentTime,f=null==c||null===(n=c.timelineData)||void 0===n?void 0:n.endValuesSupport,p=null==c||null===(r=c.timelineData)||void 0===r?void 0:r.snapRadioButtonEnabled,d=null==c||null===(i=c.timelineData)||void 0===i?void 0:i.layers;return(a=o().Observable).of.apply(a,_(y()(l)?[]:[(0,S.Nb)(l)]).concat(_(v()(f)?[]:[(0,S.Hz)(f)]),_(v()(p)?[]:[(0,S.Qq)(p)]),_(y()(d)?[]:[(0,S.bz)(d)]))).concat((u=o().Observable).of.apply(u,_(y()(s)?[(0,S.KI)()]:[])))}))},setTimelineCurrentTime:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.qx).throttleTime(100).switchMap((function(e){var t=e.time,r=e.group,i=n();return r?V(n,r,t).switchMap((function(e){var t=(0,T.YK)(i)||{},n=t.start,r=t.end,a=[];if(n&&r&&(g()(e).isBefore(n)||g()(e).isAfter(r))){var u=g()(r).diff(n);a=[(0,S.y3)({start:g()(e).subtract(u/2),end:g()(e).add(u/2)})]}return o().Observable.from([].concat(_(a),[(0,P.yR)(e)]))})).let((0,h.hP)((0,S.aA)(!1,!0),(0,S.aA)(!1,!1))):o().Observable.of((0,P.yR)(t))}))},settingInitialOffsetValue:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.JU).switchMap((function(e){var t=n(),r=(0,R.WT)(t),i=(0,T.YK)(t);if(e.enabled){var a=i||{},u=a.start,c=void 0===u?0:u,l=a.end,s=void 0===l?432e6:l,f=(0,R.ns)(t),p=g()(s).diff(c),d=i?g()(c).add(p/2).toISOString():g()(new Date).toISOString(),y=g()(r||d).add(p/5),m=e.enabled&&!r?o().Observable.of((0,P.yR)(d)):o().Observable.empty(),v=e.enabled&&!f||e.enabled&&g()(f).diff(r)<0?o().Observable.of((0,P.pF)(y.toISOString())):o().Observable.empty(),b=i?o().Observable.empty():o().Observable.of((0,S.y3)({start:g()(d).add(-1*p/2),end:g()(d).add(p/2)}));return m.concat(v).concat(b)}return o().Observable.of((0,P.pF)())}))},updateRangeDataOnRangeChange:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.Lv).merge(e.ofType(O.pP).filter((function(){return(0,T.cX)(n())})),e.ofType(S.w)).debounceTime(400).merge(e.ofType(P.XV).debounceTime(50)).switchMap((function(e){var t,r=!1===e.mapSync,i=(0,R.m$)(n())||{},a=Object.keys(i).filter((function(e){return i[e]&&i[e].domain&&(0,A._q)(i[e].domain)||(0,T.cX)(n())||r}));return(t=o().Observable).merge.apply(t,_(a.map((function(e){return function(e,t,n){var r=(0,T.YK)(n());if(!r){var i=(0,A.Q7)(t.domain);r={start:new Date(i[0]),end:new Date(i[1]||i[0])}}var a=(0,A.un)(r,20),u=a.range,l=a.resolution,f=(0,j.CA)(n(),e).name,d=(0,T.oo)(n()),y=Z({},H,"".concat(U(u.start),"/").concat(U(u.end)));return(0,L.ot)(t.source.url,f,H,Z({},H,"".concat(U(u.start),"/").concat(U(u.end))),l,(0,T.F3)(e)(n())).merge((0,L.i8)(t.source.url,f,y,x(x({},(0,T.F3)(e)(n())),{},{expandLimit:d}))).scan((function(e,t){return x(x({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,r=e.Domains,i=c()(s()(p()(c()(r,"DimensionDomain")||[]).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Identifier===H}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var a=i&&i.indexOf("--")<0&&i.split(",");return o().Observable.of({range:u,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:i?{values:a}:void 0})}))}(e,i[e],n).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return(0,S.cO)(e,n,r,o)})).startWith((0,S.aA)(e,!0)).catch((function(){return o().Observable.of((0,E.vU)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(o().Observable.of((0,S.aA)(e,!1)))}))))}))},syncTimelineGuideLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.cb).merge(e.ofType(w.sb,w.yS).withLatestFrom(e.ofType(S._V),(function(e,t){var r=t.layerId;return r&&!(0,T.rV)(n()).some((function(e){return e.id===r}))})).filter((function(e){return!!e}))).switchMap((function(){var e=n(),t=c()((0,T.rV)(e),"[0].id");return(0,T.en)(e)&&t?o().Observable.of((0,S.kq)(t)):o().Observable.empty()}))},snapTimeGuideLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S._V,S.Xe).filter((function(e){return(null==e?void 0:e.layerId)&&(0,T.en)(n())&&(null==e?void 0:e.snap)})).switchMap((function(e){var t=e.layerId;return V(n,t,(0,R.WT)(n())||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return(0,P.yR)(e)}))}))},onInitTimeLine:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.p).debounceTime(500).switchMap((function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=(0,T.uy)(r),a=t.initialMode,u=t.initialSnap;if("single"===a&&"now"===u)return(e=o().Observable).of.apply(e,_(y()(i)?[G(r)]:[]));if("range"===a&&!y()(u)){var c="fullRange"!==u;return o().Observable.of(y()(i)?G(r,c):(0,S.st)())}return o().Observable.empty()}))},setRangeOnInit:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.vf).switchMap((function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value,r=n(),o=(0,T.pW)(r),i=(0,T.Li)(r),a={isFullRange:[t,null===(e=(0,T.TQ)(r))||void 0===e?void 0:e.initialSnap].includes("fullRange"),offsetTime:(0,R.ns)(r)},u=((0,R.Qw)(i,"time")(r)||{}).domain,c=(0,R.WT)(r),l=function(e){return(0,I.A)(Y,!1,n,o,e)},s=function(e){return l().switchMap((function(t){return z(a,t,e)}))};if(!y()(u)&&!y()(c))return z(a,u,c);if(y()(u)&&!y()(c)||a.isFullRange)return s(c);var f=(new Date).toISOString();return l(f).switchMap((function(e){var t=(0,A.Qn)(e.filter((function(e){return!!e})),f,o)||f;return s(t)}))}))},rangeOnInitSelectLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.Xe).filter((function(){var e;return(0,R.RP)(n())||"range"===(null===(e=(0,T.TQ)(n()))||void 0===e?void 0:e.initialMode)})).switchMap((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).snap;return o().Observable.of((0,S.st)(v()(e)||e?"now":"fullRange"))}))},onUpdateLayerDimensionData:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(P.XV).filter((function(e){var t=e.data;return"time"===(null==t?void 0:t.name)&&!(0,T.Li)(n())})).switchMap((function(){var e,t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return y()(r)?o().Observable.empty():(e=o().Observable).of.apply(e,[(0,S.KI)()].concat(_(void 0===(0,T.Hc)(n())?[(0,S.Hz)("1.2"===(null==r||null===(t=r.source)||void 0===t?void 0:t.version))]:[])))}))},resetTimeline:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.Ud).switchMap((function(){var e,t=n(),r=(0,R.RP)(t),i=(0,T.Li)(t);if(r)return o().Observable.of(y()(i)?G(t,!1):(0,S.st)("fullRange"));var a=(0,T.YK)(t)||{},u=new Date,c=g()(a.end)>g()(u);return(e=o().Observable.of((0,S.HM)(u.toISOString(),i))).concat.apply(e,_(c?[]:[o().Observable.of((0,S.y3)({start:a.start,end:g()(u).add(432e6)}))]))}))},setTimeLayersSetting:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(S.p,w.sb,w.yS,w.K$).switchMap((function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=o().Observable.empty(),a=(0,T.Kf)(r)||[];if(!y()(t)&&!y()(a))return i;var u=null===(e=(0,R.AF)(r))||void 0===e?void 0:e.filter((function(e){return e.visibility}));if(!y()(u)){var l=u.map((function(e){var t=e.id,n=a.find((function(e){return e[t]}));return Z({},t,{hideInTimeline:!y()(n)&&c()(n,"".concat(t,".hideInTimeline"))})}));1===l.length&&(l=l.map((function(e){return Z({},c()(Object.keys(e),"[0]"),{hideInTimeline:!1})}))),i=o().Observable.of((0,S.bz)(l))}return i}))}}},180440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ne});var r=n(91175),o=n.n(r),i=n(747037),a=n.n(i),u=n(730381),c=n.n(u),l=n(727418),s=n.n(l),f=n(124852),p=n.n(f),d=n(480681),y=n(171703),m=n(867076),v=n(22222),b=n(57604),g=n(162187),h=n(757676),O=n(805346),S=n(815135),P=n(438482),w=n(80717),E=n(365295),j=n(285148),T=n(55105),R=n(176843),A=n(997291),L=n(513218),I=n.n(L),D=n(170735),k=n.n(D),_=n(414293),N=n.n(_),M=n(359704),C=n.n(M),x=n(218291),Z=n(784715),H=n(906724),Y=n(975480),V=n(92742),U=n.n(V),z=n(55237);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){var r;return r=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==G(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e,t){return c()(t).diff(e)>0};const Q=(0,m.withHandlers)({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,r=e.status,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.selectGroup,u=void 0===a?function(){}:a;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,a=e.group,c=e.what,l=e.event;if("PLAY"!==r)if("group-label"===c)a&&"PLAY"!==r&&u(a);else{var s=l&&l.target&&l.target.closest(".vis-custom-time"),f=s&&s.getAttribute("class"),p=f&&U()(f.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==p&&"endPlaybackTime"!==p&&i(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.currentTimeRange,u=void 0===a?{}:a,c=e.playbackRange,l=e.setPlaybackRange,s=void 0===l?function(){}:l,f=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,o=e.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(u.end?K(n,u.end)?i(n.toISOString(),null):(i(u.end),r(n.toISOString())):i(n.toISOString(),f)),"offsetTime"===o&&(K(t,n)?r(n.toISOString()):(i(n.toISOString()),r(t)));else{var a=F(F({},c),{},B({},o,n.toISOString())),l=(0,z.og)(a.startPlaybackTime,a.endPlaybackTime),p=l.start,d=l.end;K(p,d)&&s({startPlaybackTime:p,endPlaybackTime:d})}}}});function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==X(a)?a:a+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const te=(0,m.compose)((0,m.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,o=e.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat($(n),[J(J({id:"playback-range"},(0,z.og)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),(0,m.compose)((0,m.withHandlers)({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),(0,m.withPropsOnChange)(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,o=void 0===r?function(){}:r;return{options:J(J({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o(e),t(e)}})}})),(0,m.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,o=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat($(r),[J(J({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},(0,z.og)(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),(0,m.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,o=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&i?{offsetTime:i.end}:{}].reduce((function(e,t){return t?J(J({},e),t):J({},e)}),{})}})));var ne=n(308316);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==re(a)?a:a+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=(0,Z.oz)((function(e,t){return e===t||!N()(e)&&!N()(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(A.rV,(function(e){return e})),ue=(0,m.compose)((0,y.connect)((0,v.P1)(A.YK,A.__,ae,A.E2,ne.Pz,(function(e,t,n,r,o){return{viewRange:e,items:t,layers:n,loading:r,currentLocale:o}}))),(0,m.withPropsOnChange)((function(e,t){var n=e.layers,r=void 0===n?[]:n,o=e.loading,i=e.selectedLayer,a=e.currentLocale,u=t.layers,c=t.loading,l=t.selectedLayer,s=t.nextLocale,f=e.hideLayersName!==t.hideLayersName;return o!==c||i!==l||a!==s||f||r&&u&&r.length!==u.length||k()(r,u||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.id+e.title+e.name})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,r=e.loading,o=void 0===r?{}:r,i=e.selectedLayer,u=e.currentLocale;return{groups:n.map((function(e){var t;return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(I()(e.title)?null!==(t=e.title[u])&&void 0!==t?t:e.title.default:a()(e.title)&&e.title?e.title:e.name,"</div>")+"</div>"}}))}}))),ce=(0,m.compose)((0,y.connect)((0,v.P1)(j.WT,A.m_,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:h.HM,moveCurrentRange:b.PZ,setOffset:b.pF})),le=(0,m.compose)((0,y.connect)((0,v.zB)({playbackRange:R.KC,status:R.dS}),{setPlaybackRange:g.VS})),se=(0,m.compose)((0,y.connect)((0,v.P1)(A.Li,(function(e){return{selectedLayer:e}})),{selectGroup:h.kq})),fe=(0,m.compose)((0,y.connect)((function(){return{}}),{rangechangedHandler:h.y3}));const pe=(0,m.compose)(ce,le,se,Q,fe,ue,(0,m.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return c()(e).utc()}}}),(0,m.withPropsOnChange)(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:ie(ie({},e.options),n)}})),(0,m.withPropsOnChange)(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),(0,m.withPropsOnChange)(["items"],(function(e){var t=e.items,n=e.options,r=C()(t,{className:"interval"});return{options:ie(ie({},n),r&&{stack:!0})}})),te,(0,H.Z)((function(e){var t=e.loading;return t&&t.timeline}),(function(){return p().createElement("div",{style:{margin:"auto",fontWeight:"bold"}},p().createElement(Y.Z,{style:{display:"inline-block",verticalAlign:"middle"}}),p().createElement(O.Z,{msgId:"loading"}))}),{white:!0}))((0,x.Z)()((0,f.lazy)((function(){return Promise.all([n.e(94855),n.e(14328)]).then(n.bind(n,790346))}))));var de=n(49977),ye=n.n(de),me=n(159979),ve=n(38560);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==be(a)?a:a+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=(0,m.compose)((0,m.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:p().createElement("span",null,p().createElement(d.gG,{glyph:"time"})," ",p().createElement("strong",null,p().createElement(O.Z,{msgId:"timeline.collapsed.title"})))},content:p().createElement(O.Z,{msgId:"timeline.collapsed.tooltip"})}}),(0,m.mapPropsStream)((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return ye().Observable.timer(5e3).startWith({popoverOptions:t}).concat(ye().Observable.of({}))})).startWith({})}(e),(function(e,t){return Oe(Oe({},e),t)}))})),(0,m.branch)((function(e){return e.popoverOptions}),me.Z,S.Z))(ve.Z);const Pe=(0,m.compose)((0,y.connect)((0,v.P1)(A.zb,A.qJ,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:h.w2}),(0,m.branch)((function(e){return!e.visible}),m.renderNothing),(0,m.withHandlers)({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),(0,m.withProps)((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return p().createElement(Se,ge({},e,{bsSize:"xsmall"}),p().createElement(d.gG,{glyph:"time"}))}));var we=n(624262),Ee=n(532425);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==je(a)?a:a+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=(0,S.Z)(ve.Z),Ie=function(e){return a()(e)&&-1!==e.indexOf("%")},De=function(e){return parseInt(e,10)/100},ke=function(e,t){return c()(t).diff(e)>0},_e=(0,m.compose)((0,y.connect)((0,v.P1)(A.pn,A.rV,j.WT,A.m_,j.RP,R.KC,R.dS,A.YK,(function(e){var t;return void 0!==(null===(t=e.timeline)||void 0===t?void 0:t.loader)}),A.Li,(function(e,t,n,r,o,i,a,u,c,l){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:u,timelineIsReady:c,selectedLayer:l}})),{setCurrentTime:h.HM,onOffsetEnabled:h.PQ,setOffset:b.pF,setPlaybackRange:g.VS,moveRangeTo:h.y3,onInit:h._e,reset:h.FE}),(0,m.branch)((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),m.renderNothing),(0,m.withState)("options","setOptions",(function(e){return{collapsed:!e.expandedPanel}})),(0,y.connect)((0,v.P1)(A.cX,(function(e){return{mapSync:e}})),{toggleMapSync:h.Z7}),(0,m.compose)((0,m.compose)((0,m.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),(0,P.Z)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,m.defaultProps)({showHiddenLayers:!1,expandLimit:20,snapType:"start",endValuesSupport:void 0,style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,y.connect)((0,v.P1)((function(e){return(0,T.ic)(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),(0,m.withProps)((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,u=r.left,c=void 0===u?0:u,l=r.right,s=void 0===l?0:l;if(s=Ie(s)&&De(s)*t||s,c=Ie(c)&&De(c)*t||c,t){var f=t-s-c-i-a;return{hide:f<410,compactToolbar:f<880,style:Ae(Ae(Ae({},n),r),{},{minWidth:410})}}return{style:Ae(Ae(Ae({},n),r),{},{minWidth:410})}})),(0,m.branch)((function(e){return e.hide}),m.renderNothing),(0,m.setDisplayName)("TimelinePlugin")))((function(e){var t=e.items,n=e.options,r=e.setOptions,i=e.mapSync,a=e.toggleMapSync,u=void 0===a?function(){}:a,l=e.currentTime,s=e.setCurrentTime,y=e.offsetEnabled,m=e.onOffsetEnabled,v=e.currentTimeRange,b=e.setOffset,g=e.style,h=e.status,S=e.viewRange,P=e.moveRangeTo,j=e.compactToolbar,T=e.showHiddenLayers,R=e.expandLimit,A=e.snapType,L=e.endValuesSupport,I=e.onInit,D=void 0===I?function(){}:I,k=e.layers,_=e.timelineIsReady,N=e.initialMode,M=void 0===N?"single":N,C=e.initialSnap,x=void 0===C?"now":C,Z=e.resetButton,H=e.reset,Y=void 0===H?function(){}:H,V=e.selectedLayer;(0,f.useEffect)((function(){D({showHiddenLayers:T,expandLimit:R,snapType:A,endValuesSupport:L,initialMode:M,initialSnap:x})}),[D]);var U=n.hideLayersName,z=n.collapsed,G=o()(t&&t.filter((function(e){return"playback"===e.name}))),W=G&&G.plugin,F=function(e,t,n,r){var o=c()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==c()(e).add(-1*o).toString()&&n.end.toString()!==c()(e).add(o).toString()&&P({start:c()(e).add(-1*o),end:c()(e).add(o)}),"range-start"===t||"range-end"===t){var i=c()(r.end).diff(r.start),a=c()(r.start).add(i/2);P(i/2<=o?{start:c()(a).add(-1*o),end:c()(a).add(o)}:{start:c()(a).add(-1*i*5/2),end:c()(a).add(5*i/2)})}};return p().createElement("div",{style:Ae(Ae({position:"absolute",marginBottom:35,marginLeft:100},g),{},{right:z?"auto":g.right||0}),className:"timeline-plugin".concat(U?" hide-layers-name":"").concat(y?" with-time-offset":""," ").concat((0,we.ab)(k)?"":"hidden")},y&&p().createElement(E.Z,{clickable:!z,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==h&&F(e,t,S,v)},tooltip:p().createElement(O.Z,{msgId:"timeline.rangeStart"}),showButtons:!0,date:l||v&&v.start,onUpdate:function(e){return(v&&ke(e,v.end)||!v)&&"PLAY"!==h&&s(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),p().createElement("div",{className:"timeline-plugin-toolbar".concat(j?" ms-collapsed":"")},y&&v?p().createElement(E.Z,{clickable:!z,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==h&&F(e,t,S,v)},tooltip:p().createElement(O.Z,{msgId:"timeline.rangeEnd"}),date:v.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==h&&ke(l,e)&&b(e)}}):p().createElement(E.Z,{clickable:!z,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==h&&F(e,t,S)},tooltip:p().createElement(O.Z,{msgId:"timeline.currentTime"}),date:l||v&&v.start,onUpdate:function(e){return(v&&ke(e,v.end)||!v)&&"PLAY"!==h&&s(e)}}),p().createElement("div",{className:"timeline-plugin-btn-group"},p().createElement(w.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:p().createElement(O.Z,{msgId:U?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:U?"primary":"success",visible:!z,active:!U,onClick:function(){return r(Ae(Ae({},n),{},{hideLayersName:!U}))}},{glyph:"time-offset",bsStyle:y?"success":"primary",active:y,disabled:"PLAY"===h,tooltip:p().createElement(O.Z,{msgId:y?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==h&&m(!y)}},{glyph:"viewport-filter",tooltip:p().createElement(O.Z,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return u(!i)}},{glyph:y?"resize-horizontal":"time",visible:!!Z,tooltip:p().createElement(O.Z,{msgId:"timeline.reset.".concat(y?"range":V?"singleNearest":"singleNow")}),bsStyle:"primary",onClick:Y}]}),W&&p().createElement(W,Te({},G,{settingsStyle:{right:z||j?40:"unset"}}))),p().createElement(Le,{onClick:function(){return r(Ae(Ae({},n),{},{collapsed:!z}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:p().createElement(O.Z,{msgId:z?"timeline.expand":"timeline.collapse"})},p().createElement(d.gG,{glyph:z?"chevron-up":"chevron-down"}))),!_&&p().createElement("div",{className:"timeline-loader"},p().createElement(Ee.Z,{size:50})),!z&&p().createElement(pe,{offsetEnabled:y,playbackEnabled:!0,hideLayersName:U,timelineLayers:k}))}));const Ne={TimelinePlugin:s()(_e,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:p().createElement(Pe,null),position:0}}),reducers:{dimension:n(937307).Z,timeline:n(455545).Z},epics:n(626325).ZP}},455545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(580416),o=n(782904),i=n(757676),a=n(881808),u=n(162187),c=n(761868),l=n(328583),s=n.n(l),f=n(535937),p=n.n(f),d=n(218721),y=n.n(d);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==m(a)?a:a+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1,snapType:"start",snapRadioButtonEnabled:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.M5:return(0,c.t8)("settings.collapsed",t.collapsed,e);case i.w:return(0,c.t8)("settings.mapSync",t.mapSync,e);case i.lz:return(0,c.t8)("settings.snapType",t.snapType,e);case i.Wb:return(0,c.t8)("settings.endValuesSupport",t.endValuesSupport,e);case i.Lv:return(0,c.t8)("range",{start:t.start,end:t.end},e);case i.iv:return(0,c.t8)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.br:return t.layerId?(0,c.t8)("loading[".concat(t.layerId,"]"),t.loading,e):(0,c.t8)("loading.timeline",t.loading,e);case i._V:var n=e;return n=(0,c.t8)("selectedLayer",t.layerId,n),(0,c.t8)("settings",b(b({},n.settings),{},{snapType:"start",snapRadioButtonEnabled:!1}),n);case i.AE:case u.AN:var l,f=null!==(l=t.timeIntervalData)&&void 0!==l?l:t.snapRadioButtonEnabled;return(0,c.t8)("settings.snapRadioButtonEnabled",f,e);case i.Xe:return(0,c.t8)("selectedLayer",t.layerId,e);case r.sb:var d=e;return s()({},e,{rangeData:y()(d.rangeData,t.node)?p()(d.rangeData,(function(e,n){return n!==t.node})):d.rangeData,loading:y()(d.rangeData,t.node)?p()(d.loading,(function(e,n){return n!==t.node})):d.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.l:return s()({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0,layers:void 0});case i.p:var m,v,g=null==e||null===(m=e.settings)||void 0===m?void 0:m.endValuesSupport,h=null==e||null===(v=e.settings)||void 0===v?void 0:v.snapRadioButtonEnabled,O=null==t?void 0:t.config;return(0,c.t8)("settings",b(b({},e.settings),{},{showHiddenLayers:O.showHiddenLayers,expandLimit:O.expandLimit,snapType:O.snapType,endValuesSupport:null!=g?g:O.endValuesSupport,snapRadioButtonEnabled:null!=h?h:O.snapRadioButtonEnabled,initialMode:O.initialMode,initialSnap:O.initialSnap}),e);case a.ok:var S,P,w,E;return b(b({},e),{},{settings:b(b({},e.settings),{},{endValuesSupport:null==t||null===(S=t.config)||void 0===S||null===(P=S.timelineData)||void 0===P?void 0:P.endValuesSupport,snapRadioButtonEnabled:null==t||null===(w=t.config)||void 0===w||null===(E=w.timelineData)||void 0===E?void 0:E.snapRadioButtonEnabled})});case i.xp:return(0,c.t8)("layers",t.layers,e);case i.i9:return(0,c.t8)("layers",(e.layers||[]).map((function(e){var n;return null!==(n=Object.keys(e))&&void 0!==n&&n.find((function(e){return e===t.id}))?(0,c.t8)("".concat(t.id),{hideInTimeline:!t.checked},e):e})),e);default:return e}}},285148:(e,t,n)=>{"use strict";n.d(t,{Qw:()=>b,jo:()=>h,m$:()=>O,AF:()=>S,LS:()=>P,WT:()=>w,ns:()=>E,RP:()=>j,aK:()=>T,oP:()=>R});var r=n(675110),o=n(55237),i=n(22222),a=n(227361),u=n.n(a),c=n(313311),l=n.n(c);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){var r;return r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==s(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){return function(n){return u()(n,"dimension.data[".concat(t,"][").concat(e,"]"))}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return l()(e.dimensions||[],{name:t})},h=function(e,t){return function(n){return b(e.id,t)(n)||g(e,t)}},O=function(e){return(0,r.l2)(e).reduce((function(t,n){var r=h(n,"time")(e);return r?m(m({},t),{},v({},n.id,r)):t}),{})},S=function(e){return(0,r.l2)(e).filter((function(e){return g(e,"time")}))},P=function(e){return(0,r.l2)(e).filter((function(e){return e.visibility&&g(e,"time")}))},w=function(e){var t=u()(e,"dimension.currentTime");return t&&t.split("/")[0]},E=function(e){return u()(e,"dimension.offsetTime")},j=function(e){return!!E(e)},T=((0,i.P1)(O,(function(e){return Object.keys(e).reduce((function(t,n){return[].concat(f(t),f(e[n]&&e[n].values||[]))}),[]).sort()||[]})),function(e){return function(t){return f(u()(h(e,"time")(t),"values",[])).sort()}}),R=function(e,t){var n=b(t,"time")(e),r=n&&n.domain&&n.domain.split("--");if(r&&2===r.length)return r&&{start:r[0],end:r[1]};var i,a,u=n&&n.domain&&n.domain.split(",");if(u&&u.length>0){var c=(i=(0,o.tz)(u),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(i,a)||p(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{start:c[0],end:c[1]}}return null}},55105:(e,t,n)=>{"use strict";n.d(t,{Ss:()=>y,Nr:()=>m,QJ:()=>v,ic:()=>b,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>S,Fc:()=>P,gQ:()=>w});var r=n(91175),o=n.n(r),i=n(288306),a=n.n(i),u=n(800827),c=n(552259),l=n(737275);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){var r;return r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==s(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){return e.maplayout&&e.maplayout.layout||{}},m=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},v=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},b=a()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(e),o=v(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},d({},t,n&&null!==(i=o[t])&&void 0!==i?i:r[t]))}),{})||{}}),(function(e,t,n){return JSON.stringify(y(e))+JSON.stringify(v(e))+JSON.stringify(t)+(n?"_isDock":"")})),g=function(e){var t;return!(null===(t=y(e))||void 0===t||!t.rightPanel)},h=function(e){var t,n=l.ZP.getConfigProp("mapLayout")||c.Ur;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=y(e);return!!o()(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==n?void 0:n.bottom.sm)&&void 0!==t?t:0,type:"not"}])},O=function(e){var t=(0,u.Od)(e),n=m(e);return n&&t&&t.size&&{left:(0,c.pb)(n.left,t.size.width),bottom:(0,c.pb)(n.bottom,t.size.height),right:(0,c.pb)(n.right,t.size.width),top:(0,c.pb)(n.top,t.size.height)}},S=function(e){var t,n;return null!==(t=null==e||null===(n=e.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==t?t:{left:[],right:[]}},P=function(e){return b(e,{height:!0,right:!0},!0)},w=function(e){return b(e,{right:!0},!0)}},997291:(e,t,n)=>{"use strict";n.d(t,{YK:()=>P,TQ:()=>w,oo:()=>E,zb:()=>j,en:()=>T,pW:()=>R,ei:()=>A,Hc:()=>L,cX:()=>I,__:()=>k,E2:()=>_,Li:()=>N,fP:()=>M,uy:()=>C,gB:()=>x,Ry:()=>Z,m_:()=>H,dJ:()=>Y,Kf:()=>V,A7:()=>U,rV:()=>z,qJ:()=>G,pn:()=>W,F3:()=>F});var r=n(227361),o=n.n(r),i=n(91175),a=n.n(i),u=n(22222),c=n(784715),l=n(916651),s=n(55237),f=n(285148),p=n(800827),d=n(675110);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){var r;return r=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==y(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return o()(e,"timeline.range")},w=function(e){return o()(e,"timeline.settings")},E=function(e){return o()(w(e),"expandLimit")||10},j=function(e){return o()(w(e),"collapsed")},T=function(e){return o()(w(e),"autoSelect")},R=function(e){return o()(w(e),"snapType")||"start"},A=function(e){return o()(w(e),"snapRadioButtonEnabled")||!1},L=function(e){return o()(w(e),"endValuesSupport")},I=function(e){return o()(w(e),"mapSync")},D=function(e,t){return(e||[]).reduce((function(e,n){return[].concat(m(e),m(function(e,t){var n=h(e.split("/"),3),r=n[0],o=n[1],i=n[2];if(i&&"0"!==i){var a=(0,s.Xu)({start:r,end:o,duration:i},t),u=a.count,c=a.start,l=a.end;return u>50?[{start:r,end:o,duration:i,type:"range",content:"".concat(u," items")}]:(0,s.tr)({start:c,end:l,duration:i}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[b({start:new Date(r),end:new Date(o||r),type:o?"range":"point"},o&&{className:"interval"})]}(n,t)))}),[]).filter((function(e){return e&&e.start}))},k=(0,c.y1)(f.m$,P,(function(e){return o()(e,"timeline.rangeData")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(Object.keys(e).map((function(r){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return D(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var n=h(e.histogram.domain.split("/"),3),r=n[0],o=n[1],i=n[2],a=Math.max.apply(Math,m(e.histogram.values)),u=(0,s.jb)({start:r,end:o,duration:i});return e.histogram.values.map((function(e,t){return b(b({},u[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/a,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]}(n,t):e&&e.values||e&&e.domain&&!(0,s._q)(e.domain)?D(e.values||e.domain.split(","),t):[]}(e[r],t,n[r]).map((function(){return b(b({content:" "},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{group:r})}))})).reduce((function(e,t){return[].concat(m(e),m(t))}),[]))})),_=function(e){return o()(e,"timeline.loading")},N=function(e){return o()(e,"timeline.selectedLayer")},M=function(e){return(0,d.CA)(e,N(e))},C=function(e){var t;return null===(t=M(e))||void 0===t?void 0:t.name},x=function(e){var t;return(null===(t=M(e))||void 0===t?void 0:t.dimensions)&&a()(M(e).dimensions.filter((function(e){return"time"===e.name})))},Z=function(e){return o()(x(e),"source.url")},H=(0,u.P1)(f.WT,f.ns,(function(e,t){return{start:e,end:t}})),Y=function(e){return(0,f.oP)(e,N(e))},V=function(e){return o()(e,"timeline.layers")},U=function(e){return(V(e)||[]).map((function(t){var n=o()(Object.keys(t),"[0]"),r=(0,d.Sj)(e,n);return b(b({},t[n]),{},{title:r,id:n})}))},z=function(e){var t=(0,f.AF)(e),n=U(e)||[];return n.length?t.filter((function(e){var t;return!(null!=n&&null!==(t=n.find((function(t){return t.id===(null==e?void 0:e.id)})))&&void 0!==t&&t.hideInTimeline)})):t},G=(0,u.P1)(z,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0})),W=function(e){return!j(e)&&G(e)},F=function(e){return function(t){var n=((0,p.Od)(t)||{}).bbox;if(!n)return{};var r=(0,f.Qw)(e,"time")(t),i=o()(r,"source.version"),a=Object.keys(n.bounds).reduce((function(e,t){return b(b({},e),{},g({},t,parseFloat(n.bounds[t])))}),{});if(!a||!I(t))return{};if("1.2"!==i){var u=(0,f.Qw)(e,"space")(t),c=o()(u,"domain.CRS");if(!c||!a||!I(t))return{};var s=h((0,l.reprojectBbox)(a,(0,p.uy)(t),c),4),d=s[0],y=s[1],m=s[2],v=s[3];return m<d&&"EPSG:4326"===c&&(m+=360),{bbox:"".concat(d,",").concat(y,",").concat(m,",").concat(v),crs:c}}var O=a.minx,S=a.miny,P=a.maxx,w=a.maxy,E=n.crs;return{bbox:"".concat(O,",").concat(S,",").concat(P,",").concat(w,",").concat(E)}}}},441761:(e,t,n)=>{var r=n(644239),o=n(637005);e.exports=function(e){return o(e)&&"[object Date]"==r(e)}},18190:e=>{var t=Math.floor;e.exports=function(e,n){var r="";if(!e||n<1||n>9007199254740991)return r;do{n%2&&(r+=e),(n=t(n/2))&&(e+=e)}while(n);return r}},105076:(e,t,n)=>{var r=n(989881);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},378302:(e,t,n)=>{var r=n(18190),o=n(880531),i=n(440180),a=n(862689),u=n(788016),c=n(683140),l=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?r(t,e):t;var s=r(t,l(e/u(t)));return a(t)?i(c(s),0,e).join(""):s.slice(0,e)}},23279:(e,t,n)=>{var r=n(513218),o=n(707771),i=n(14841),a=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,s,f,p,d,y=0,m=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=c,r=l;return c=l=void 0,y=t,f=e.apply(r,n)}function h(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-y>=s}function O(){var e=o();if(h(e))return S(e);p=setTimeout(O,function(e){var n=t-(e-d);return v?u(n,s-(e-y)):n}(e))}function S(e){return p=void 0,b&&c?g(e):(c=l=void 0,f)}function P(){var e=o(),n=h(e);if(c=arguments,l=this,d=e,n){if(void 0===p)return function(e){return y=e,p=setTimeout(O,t),m?g(e):f}(d);if(v)return clearTimeout(p),p=setTimeout(O,t),g(d)}return void 0===p&&(p=setTimeout(O,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,s=(v="maxWait"in n)?a(i(n.maxWait)||0,t):s,b="trailing"in n?!!n.trailing:b),P.cancel=function(){void 0!==p&&clearTimeout(p),y=0,c=d=l=p=void 0},P.flush=function(){return void 0===p?f:S(o())},P}},170735:(e,t,n)=>{var r=n(920731),o=n(121078),i=n(267206),a=n(105976),u=n(229246),c=n(610928),l=a((function(e,t){var n=c(t);return u(n)&&(n=void 0),u(e)?r(e,o(t,1,u,!0),i(n,2)):[]}));e.exports=l},647960:(e,t,n)=>{var r=n(441761),o=n(307518),i=n(531167),a=i&&i.isDate,u=a?o(a):r;e.exports=u},707771:(e,t,n)=>{var r=n(555639);e.exports=function(){return r.Date.now()}},532475:(e,t,n)=>{var r=n(378302),o=n(788016),i=n(640554),a=n(479833);e.exports=function(e,t,n){e=a(e);var u=(t=i(t))?o(e):0;return t&&u<t?r(t-u,n)+e:e}},313880:(e,t,n)=>{var r=n(479833);e.exports=function(){var e=arguments,t=r(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},359704:(e,t,n)=>{var r=n(282908),o=n(267206),i=n(105076),a=n(701469),u=n(816612);e.exports=function(e,t,n){var c=a(e)?r:i;return n&&u(e,t,n)&&(t=void 0),c(e,o(t,3))}},819081:(e,t,n)=>{"use strict";e.exports=n(1174)}}]);