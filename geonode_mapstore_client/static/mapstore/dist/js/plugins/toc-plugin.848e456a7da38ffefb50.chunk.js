(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6895],{881808:(e,t,n)=>{"use strict";n.d(t,{eD:()=>r,AM:()=>o,ok:()=>i,Gg:()=>l,nT:()=>u,TL:()=>a,KS:()=>c,EB:()=>s,DZ:()=>f,Aw:()=>p,V_:()=>y,H0:()=>d,jW:()=>m,JZ:()=>b,fQ:()=>v,HK:()=>O,YO:()=>g,I6:()=>h});var r="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",l="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",a="MAP_INFO_LOAD_START",c="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",y="MAP:RESET_MAP_SAVE_ERROR";function d(e,t,n){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:n}}function m(e,t){return{type:l,error:e,mapId:t}}function b(e,t,n,r,i){return{type:o,configName:e,mapId:t,config:n,mapInfo:r,overrideConfig:i}}function v(e,t){return{type:c,mapId:t,info:e,merge:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function O(e,t){return{type:s,mapId:e,error:t}}function g(e){return{type:a,mapId:e}}function h(e){return{type:u,mapId:e}}},580416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>l,OX:()=>u,sb:()=>a,K$:()=>c,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>y,oE:()=>d,Po:()=>m,qv:()=>b,cI:()=>v,g6:()=>O,I4:()=>g,l$:()=>h,Xv:()=>E,k3:()=>S,CQ:()=>P,R8:()=>w,HN:()=>j,sH:()=>T,c7:()=>A,_7:()=>R,eF:()=>I,O6:()=>C,ED:()=>_,RP:()=>x,sF:()=>L,VP:()=>N,He:()=>G,vO:()=>D,WO:()=>M,bh:()=>k,MK:()=>Z,ZF:()=>F,tV:()=>U,Dv:()=>Y,Yz:()=>H,kI:()=>B,XG:()=>z,A4:()=>$,Rp:()=>V,$o:()=>W,ct:()=>K,oh:()=>X,$h:()=>J,ud:()=>q,Qr:()=>Q,LR:()=>ee,nN:()=>te,UG:()=>ne,c9:()=>re,Xy:()=>oe});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",l="TOGGLE_NODE",u="SORT_NODE",a="REMOVE_NODE",c="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",y="LAYER_ERROR",d="ADD_LAYER",m="ADD_GROUP",b="REMOVE_LAYER",v="SHOW_SETTINGS",O="HIDE_SETTINGS",g="UPDATE_SETTINGS",h="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",w="LAYERS:BROWSE_DATA",j="LAYERS:DOWNLOAD",T="LAYERS:CLEAR_LAYERS",A="LAYERS:SELECT_NODE",R="LAYERS:FILTER_LAYERS",I="LAYERS:SHOW_LAYER_METADATA",C="LAYERS:HIDE_LAYER_METADATA",_="LAYERS:UPDATE_SETTINGS_PARAMS";function x(e,t,n){return{type:v,node:e,nodeType:t,options:n}}function L(){return{type:O}}function N(e){return{type:g,options:e}}function G(e,t){return{type:r,newProperties:t,layer:e}}function D(e,t){return{type:o,layer:e,params:t}}function M(e,t){return{type:i,newProperties:t,group:e}}function k(e,t,n){return{type:l,node:e,nodeType:t,status:!n}}function Z(e,t){return{type:u,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function F(e,t){return{type:a,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function U(e,t,n){return{type:c,node:e,nodeType:t,options:n}}function Y(e,t,n){return{type:s,node:e,groupId:t,index:n}}function H(e){return{type:f,layerId:e}}function B(e,t){return{type:p,layerId:e,error:t}}function z(e,t,n){return{type:y,layerId:e,tilesCount:t,tilesErrorCount:n}}function $(e){return{type:d,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function V(e,t,n){return{type:m,group:e,parent:t,options:n,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function W(e){return{type:b,layerId:e}}function K(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:S,layers:e}}function J(e,t){return{type:P,layers:e,error:t}}function q(e,t,n,r){return{type:E,dimension:e,value:t,options:n,layers:r}}function Q(e){return{type:w,layer:e}}function ee(e){return{type:j,layer:e}}function te(){return{type:T}}function ne(e,t,n){return{type:A,id:e,nodeType:t,ctrlKey:n}}function re(e,t){return{type:I,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:_,newParams:e,update:t}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>l,uv:()=>u,Qy:()=>a,IL:()=>c,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>y,TF:()=>d,Ls:()=>m,Ec:()=>b,Eu:()=>v,JJ:()=>O,nZ:()=>g,YD:()=>h,GI:()=>E,Jb:()=>S,Uh:()=>P,e$:()=>w,eh:()=>j,$j:()=>T,bJ:()=>A,Mk:()=>R,xy:()=>I,o6:()=>C,NH:()=>_,FP:()=>x,Mo:()=>L,sO:()=>N,Px:()=>G,hd:()=>D,y9:()=>M,Ju:()=>k,BV:()=>Z,SO:()=>F,H0:()=>U,$X:()=>Y,ou:()=>H,NE:()=>B,Lq:()=>z,aN:()=>$});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",l="CHANGE_ZOOM_LVL",u="PAN_TO",a="ZOOM_TO_EXTENT",c="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",d="CREATION_ERROR_LAYER",m="UPDATE_VERSION",b="INIT_MAP",v="RESIZE_MAP",O="CHANGE_MAP_LIMITS",g="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",E="UNREGISTER_EVENT_LISTENER",S="MOUSE_MOVE",P="MOUSE_OUT",w="MAP:MAP_PLUGIN_LOAD",j="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",A="MAP:UPDATE_MAP_OPTIONS";function R(e,t,n,r){return{type:w,mapType:t,loading:e,loaded:n,error:r}}function I(e,t,n){return{type:c,pos:e,zoom:t,crs:n}}function C(e,t,n,o,i,l,u,a){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:l,viewerOptions:u,resolution:a}}function _(e){return{type:s,crs:e}}function x(e,t){return{type:o,point:e,layer:t}}function L(e){return{type:i,pointer:e}}function N(e,t){return{type:l,zoom:e,mapStateSource:t}}function G(e,t,n,r){return{type:a,extent:e,crs:t,maxZoom:n,options:r}}function D(e,t){return{type:p,style:e,mapStateSource:t}}function M(e){return{type:b,disableFeedbackMask:e}}function k(){return{type:v}}function Z(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:O,restrictedExtent:t,crs:n,minZoom:r}}function F(e){return{type:g,resolutions:e}}var U=function(e,t){return{type:h,eventName:e,toolName:t}},Y=function(e,t){return{type:E,eventName:e,toolName:t}},H=function(e){return{type:S,position:e}},B=function(){return{type:P}},z=function(e){return{type:j,orientation:e}},$=function(e){return{type:A,configUpdate:e}}},572688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(124852),o=n.n(r),i=n(45697),l=n.n(i),u=n(38560),a=n(843614),c=n(472986),s=n.n(c);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function d(e,t,n){return t=b(t),function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function O(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O(e=d(this,t,[].concat(r)),"onConfirm",(function(){e.props.onConfirm()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=o().createElement("span",{role:"footer"},o().createElement("div",{style:{float:"left"}}),o().createElement(u.Z,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:function(){e.onConfirm()}},this.props.running?o().createElement(s(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?o().createElement(u.Z,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):o().createElement("span",null)),n=this.props.body;return o().createElement(a.Z,p({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),o().createElement(a.Z.Header,{key:"dialogHeader",closeButton:!0},o().createElement(a.Z.Title,null,this.props.titleText)),o().createElement(a.Z.Body,null,n),o().createElement(a.Z.Footer,null,t))}}])&&y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);O(h,"propTypes",{className:l().string,show:l().bool,options:l().object,onConfirm:l().func,onClose:l().func,closeGlyph:l().string,style:l().object,buttonSize:l().string,includeCloseButton:l().bool,body:l().oneOfType([l().string,l().element]),titleText:l().oneOfType([l().string,l().element]),confirmText:l().oneOfType([l().string,l().element]),cancelText:l().oneOfType([l().string,l().element]),running:l().bool}),O(h,"defaultProps",{onConfirm:function(){},onClose:function(){},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"});const E=h},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(480681),o=n(124852),i=n.n(o),l=n(294184),u=n.n(l),a=["disabled","className","onClick"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var s=n(815135);const f=(p=r.zx,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,l=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a);return i().createElement(p,c({ref:t,className:n?u()("disabled",r):r,onClick:function(){n||l.apply(void 0,arguments)}},s),s.children)})));var p;(0,s.Z)(r.zx)},843614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(727418),o=n.n(r),i=n(480681),l=n(461365);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(i.u_);const m=o()((0,l.Z)(d),{Body:i.u_.Body,Dialog:i.u_.Dialog,Footer:i.u_.Footer,Header:i.u_.Header,Title:i.u_.Title})},399534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(461365),o=n(356936);const i=(0,r.Z)(o.h_)},993451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(86638),o=n(285547),i=n(45697),l=n.n(i),u=n(984596),a=n.n(u),c=n(701469),s=n.n(c),f=n(414293),p=n.n(f),y=n(747037),d=n.n(y),m=n(867076),b=["messages","locale"];function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){var r;return r=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==v(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"msgId";return(0,m.compose)((0,m.getContext)({messages:l().object,locale:l().string}),(0,m.mapProps)((function(i){var l=i.messages,u=i.locale,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(i,b);return g(g({},c),a()(e).reduce(function(e,t,n){var i=t.messages,l=t.locale,u=t.mode;return function(){var t=arguments.length>1?arguments[1]:void 0;return g(g({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},h({},t,"msgId"===u?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(t))return t.map((function(o){var i=(0,r.S$)(e,o[n]||d()(o)&&o||"");return g(g({},o),{},h({},n,p()(i)?t:i))}));var o=t?(0,r.S$)(e,t):t;return p()(o)?t:o}(i,e[t],n):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(e))return e.map((function(r){var i=(0,o.Z)(r[n]||d()(r)&&r||"",t);return g(g({},r),{},h({},n,p()(i)?e:i))}));var r=(0,o.Z)(e,t);return p()(r)?e:r}(e[t],l,n)))}}(c,{locale:u,messages:l,mode:n},t),{}))})))}},247691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>st});var r=n(124852),o=n.n(r),i=n(480681),l=n(171703),u=n(580416),a=n(675110),c=n(274621),s=n(308316),f=n(800827),p=n(38842),y=n(322843),d=n(784715),m=n(624262),b=n(815430),v=n(618446),O=n.n(v),g=n(598611),h=n.n(g);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==E(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=n(490173),R=n(944908),I=n.n(R),C=n(801550),_=n(805346),x=n(813292),L=n.n(x),N=["onZoomTo","status","itemComponent","selectedNodes","statusTypes"];function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==G(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function e(t){return null!=t&&t.nodes?function(e){if(Array.isArray(e))return M(e)}(n=((null==t?void 0:t.nodes)||[]).map(e).flat())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():t;var n};const U=(0,l.connect)((function(){return{}}),{onZoomTo:C.Px})((function(e){var t,n=e.onZoomTo,r=e.status,i=e.itemComponent,l=e.selectedNodes,u=e.statusTypes,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,N),c=i;if([u.LAYER,u.GROUP,u.LAYERS,u.GROUPS,u.BOTH].includes(r)){var s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t;if("vector"===e.type&&!e.bbox&&null!=e&&null!==(t=e.features)&&void 0!==t&&t.length){var n=L()({type:"FeatureCollection",features:e.features});return Z(Z({},e),{},{bbox:{bounds:{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]},crs:"EPSG:4326"}})}return e}))}(F({nodes:l.map((function(e){return null==e?void 0:e.node}))})).filter((function(e){return null==e?void 0:e.bbox})),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=I()(e.map((function(e){var t;return null==e||null===(t=e.bbox)||void 0===t?void 0:t.crs})).filter((function(e){return!!e})));return 1===t.length?t[0]:""}(s);if(!f)return null;var p=f&&A.default.defs(f),y=(t=s.filter((function(e){return e.bbox})).map((function(e){return Z(Z({},e.bbox),{},{bounds:{minx:parseFloat(e.bbox.bounds.minx),miny:parseFloat(e.bbox.bounds.miny),maxx:parseFloat(e.bbox.bounds.maxx),maxy:parseFloat(e.bbox.bounds.maxy)}})}))).length>1?t.reduce((function(e,t){return{bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs}}),t[0]):t[0];return y?o().createElement(c,D({},a,{glyph:"zoom-to",style:p?{opacity:1,cursor:"pointer"}:{opacity:.5,cursor:"default"},labelId:s.length>1?"toc.toolZoomToLayersTooltip":"toc.toolZoomToLayerTooltip",tooltip:p?o().createElement(_.Z,{msgId:s.length>1?"toc.toolZoomToLayersTooltip":"toc.toolZoomToLayerTooltip"}):o().createElement(_.Z,{msgId:"toc.epsgNotSupported",msgParams:{epsg:f||" "}}),onClick:p?function(){return n(y.bounds,y.crs)}:function(){}})):null}return null}));var Y=["onShow","onReload","status","itemComponent","selectedNodes","statusTypes"];function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const B=(0,l.connect)((function(){return{}}),{onShow:u.He,onReload:u.ct})((function(e){var t=e.onShow,n=e.onReload,r=e.status,i=e.itemComponent,l=e.selectedNodes,u=e.statusTypes,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Y),c=i;if([u.LAYER,u.LAYERS].includes(r)){var s=l.filter((function(e){var t;return"Error"===(null==e||null===(t=e.node)||void 0===t?void 0:t.loadingError)}));if(null==s||!s.length)return null;var f=s.some((function(e){var t;return!(null==e||null===(t=e.node)||void 0===t||!t.loading)}));return o().createElement(c,H({},a,{glyph:"refresh",disabled:f,labelId:s.length>1?"toc.toolReloadLayersTooltip":"toc.toolReloadLayerTooltip",tooltipId:s.length>1?"toc.toolReloadLayersTooltip":"toc.toolReloadLayerTooltip",onClick:function(){s.map((function(e){return e.node})).forEach((function(e){t(e.id,{visibility:!0}),n(e.id)}))}}))}return null}));var z=n(572688),$=n(399534),V=["onRemove","status","itemComponent","selectedNodes","statusTypes","nodeTypes","config","rootGroupId"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function K(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function e(t){return[].concat(K(null!=t&&t.id?[t]:[]),K(((null==t?void 0:t.nodes)||[]).map(e).flat()))},Q=(0,l.connect)((function(){return{}}),{onRemove:u.ZF})((function(e){var t,n,i,l=e.onRemove,u=e.status,a=e.itemComponent,c=e.selectedNodes,s=e.statusTypes,f=e.nodeTypes,p=e.config,y=e.rootGroupId,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,V),m=a,b=(n=(0,r.useState)(null),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(n,i)||X(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=b[0],O=b[1];if((null==c||null===(t=c[0])||void 0===t?void 0:t.id)===y)return null;if(!1===p.activateRemoveLayer&&[s.LAYER,s.LAYERS].includes(u))return null;if(!1===p.activateRemoveGroup&&[s.GROUP,s.GROUPS].includes(u))return null;var g=[s.GROUP,s.GROUPS,s.BOTH].includes(u),h=s.LAYER===u;return o().createElement(o().Fragment,null,[s.LAYER,s.LAYERS,s.GROUP,s.GROUPS,s.BOTH].includes(u)?o().createElement(m,W({},d,{glyph:"trash",active:v,labelId:g?"toc.toolTrashGroupTooltip":h?"toc.toolTrashLayerTooltip":"toc.toolTrashLayersTooltip",tooltipId:g?"toc.toolTrashGroupTooltip":h?"toc.toolTrashLayerTooltip":"toc.toolTrashLayersTooltip",onClick:function(){return O({nodes:c.map((function(e){return e.node}))})}})):null,o().createElement($.Z,null,o().createElement(z.Z,{options:{animation:!1,className:"modal-fixed"},show:!!v,onHide:function(){return O(null)},onClose:function(){return O(null)},onConfirm:function(){var e=(v||{}).nodes;q({id:null,nodes:e}).forEach((function(e){l(e.id,null!=e&&e.nodes?f.GROUP:f.LAYER)})),O(null)},titleText:g?o().createElement(_.Z,{msgId:"layerProperties.deleteLayerGroup"}):o().createElement(_.Z,{msgId:"layerProperties.deleteLayer"}),confirmText:o().createElement(_.Z,{msgId:"layerProperties.delete"}),cancelText:o().createElement(_.Z,{msgId:"cancel"}),body:g?o().createElement(_.Z,{msgId:"layerProperties.deleteLayerGroupMessage"}):o().createElement(_.Z,{msgId:"layerProperties.deleteLayerMessage"})})))}));const ee=Q;function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var ne=["status","onChange","itemComponent","selectedNodes","statusTypes","nodeTypes","rootGroupId"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==te(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return[].concat(le(null!=t&&t.id?[t]:[]),le((n(t)&&(null==t?void 0:t.nodes)||[]).map((function(t){return e(t,n)})).flat()))};const ce=(0,l.connect)((function(){return{}}),{onChange:u.tV})((function(e){var t=e.status,n=e.onChange,r=e.itemComponent,i=e.selectedNodes,l=e.statusTypes,u=e.nodeTypes,a=e.rootGroupId,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ne),s=r;if([l.GROUP].includes(t)){var f,p,y,d,m=null==i?void 0:i[0];return o().createElement(o().Fragment,null,!(null!=m&&null!==(f=m.node)&&void 0!==f&&f.nodesMutuallyExclusive)&&o().createElement(s,re({},c,{labelId:"toc.toolGroupShowAllChildren",glyph:"checkbox-on",onClick:function(){ae(ie(ie({},null==m?void 0:m.node),{},{id:null}),(function(e){return!(null!=e&&e.nodesMutuallyExclusive)})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!0})}))}})),!(null!=m&&null!==(p=m.node)&&void 0!==p&&p.nodesMutuallyExclusive)&&o().createElement(s,re({},c,{labelId:"toc.toolGroupHideAllChildren",glyph:"checkbox-off",onClick:function(){ae(ie(ie({},null==m?void 0:m.node),{},{id:null}),(function(e){return!(null!=e&&e.nodesMutuallyExclusive)})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!1})}))}})),m.id!==a&&o().createElement(s,re({},c,{labelId:null!=m&&null!==(y=m.node)&&void 0!==y&&y.nodesMutuallyExclusive?"toc.deactivateToolGroupMutuallyExclusive":"toc.activateToolGroupMutuallyExclusive",glyph:null!=m&&null!==(d=m.node)&&void 0!==d&&d.nodesMutuallyExclusive?"radio-on":"radio-off",onClick:function(){var e,t,r=!(null!=m&&null!==(e=m.node)&&void 0!==e&&e.nodesMutuallyExclusive);r&&null!=m&&null!==(t=m.node)&&void 0!==t&&t.nodes&&m.node.nodes.forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!1})})),n(null==m?void 0:m.id,null==m?void 0:m.type,{nodesMutuallyExclusive:r})}})),o().createElement(s,re({},c,{labelId:"toc.toolGroupCollapseAllChildren",glyph:"next",onClick:function(){ae(ie(ie({},null==m?void 0:m.node),{},{id:null})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{expanded:!1})}))}})),o().createElement(s,re({},c,{labelId:"toc.toolGroupExpandAllChildren",glyph:"bottom",onClick:function(){ae(ie(ie({},null==m?void 0:m.node),{},{id:null})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{expanded:!0})}))}})),o().createElement("hr",null))}return null}));var se="TOC:UPDATE_CONFIG",fe=function(e){return{type:se,payload:e}},pe=["itemComponent","selectedNodes","rootGroupId","onUpdateTOCConfig","config"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var de=(0,l.connect)((function(){return{}}),{onUpdateTOCConfig:fe})((function(e){var t=e.itemComponent,n=e.selectedNodes,r=e.rootGroupId,i=e.onUpdateTOCConfig,l=e.config,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pe),a=t,c=null==n?void 0:n[0];return(null==c?void 0:c.id)===r||null!=u&&u.menuItem?o().createElement(o().Fragment,null,o().createElement(a,ye({},u,{labelId:l.defaultOpen?"toc.closeOnMapInitialization":"toc.openOnMapInitialization",glyph:l.defaultOpen?"arrow-left":"arrow-right",onClick:function(){i({defaultOpen:!l.defaultOpen})}})),o().createElement(a,ye({},u,{labelId:null!=l&&l.theme?"toc.defaultTheme":"toc.legendTheme",glyph:"list",onClick:function(){i({theme:null!=l&&l.theme?void 0:"legend"})}})),o().createElement(a,ye({},u,{labelId:null!=l&&l.showFullTitle?"toc.hideFullTitle":"toc.showFullTitle",glyph:"font",onClick:function(){i({showFullTitle:!(null!=l&&l.showFullTitle)})}})),o().createElement(a,ye({},u,{labelId:null!=l&&l.hideOpacitySlider?"toc.showOpacitySlider":"toc.hideOpacitySlider",glyph:"adjust",onClick:function(){i({hideOpacitySlider:!(null!=l&&l.hideOpacitySlider)})}})),!(null!=l&&l.hideOpacitySlider)&&o().createElement(a,ye({},u,{labelId:null!=l&&l.showOpacityTooltip?"toc.hideOpacityTooltip":"toc.showOpacityTooltip",glyph:"tag",onClick:function(){i({showOpacityTooltip:!(null!=l&&l.showOpacityTooltip)})}})),o().createElement("hr",null)):null}));const me=de;var be=n(815135),ve=n(38560);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Oe(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=(0,be.Z)(ve.Z);const Pe=function(e){var t=e.contextMenu,n=e.onClick,r=e.label,l=e.labelId,u=e.glyph,a=e.buttonProps,c=e.tooltipId,s=e.tooltip,f=e.active,p=e.style,y=e.className,d=e.disabled;return e.menuItem?o().createElement(i.sN,{active:f,disabled:d,onClick:n},u?o().createElement(o().Fragment,null,o().createElement(i.gG,{glyph:u})):null,l||c?o().createElement(_.Z,{msgId:l||c}):r||be.Z):t?o().createElement("button",{className:f?"active":"",disabled:d,onClick:n},u?o().createElement(o().Fragment,null,o().createElement(i.gG,{glyph:u})):null,l?o().createElement(_.Z,{msgId:l}):r):o().createElement(Se,ge({},a,{style:Ee(Ee({},null==a?void 0:a.style),p),className:[null==a?void 0:a.className,y].join(" "),disabled:d,active:f,tooltipId:c,tooltip:s,onClick:n}),o().createElement(i.gG,{glyph:u}))};function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=we(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==we(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||Ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const _e=function(e){var t=e.items,n=void 0===t?[]:t,l=e.settingsItems,u=void 0===l?[]:l,a=e.selectedNodes,c=void 0===a?[]:a,s=e.buttonProps,f=void 0===s?{className:"toc-toolbar-button",bsStyle:"primary"}:s,p=e.nodeTypes,y=void 0===p?m.$P:p,d=e.rootGroupId,v=void 0===d?m.oR:d,O=e.defaultGroupId,g=void 0===O?m.tE:O,h=e.statusTypes,E=void 0===h?b.Sk:h,S=e.config,P=void 0===S?{}:S,w=(0,r.useRef)(),j=Re((0,r.useState)(),2),T=j[0],A=j[1],R=c.filter((function(e){return e.type===y.GROUP})).map((function(e){return e.node})),I=c.filter((function(e){return e.type===y.LAYER})).map((function(e){return e.node})),C={buttonProps:f,selectedLayers:I,selectedGroups:R,selectedNodes:c,status:null!=c&&c.length?1===(null==c?void 0:c.length)?1===(null==R?void 0:R.length)?E.GROUP:E.LAYER:null!=R&&R.length&&null!=I&&I.length?E.BOTH:null!=R&&R.length?E.GROUPS:E.LAYERS:E.DESELECT,statusTypes:E,nodeTypes:y,rootGroupId:v,defaultGroupId:g,itemComponent:Pe,config:P};(0,r.useEffect)((function(){var e=new MutationObserver((function(){var e,t=w.current.clientWidth,n=w.current.scrollWidth;if(t<n){var r=function(e,t){return e.filter((function(e,n){return n<=t})).reduce((function(e,t){return e+t}),0)},o=(e=w.current.children,function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.clientWidth})).map((function(e,t,n){return[r(n,t-1),t,e]})).find((function(e){var n=Re(e,3);return n[0]+n[2]>t}));return A(o)}return A()}));return e.observe(w.current,{childList:!0,subtree:!0}),function(){e.disconnect()}}),[]);var _=n.filter((function(e){var t=e.selector;return(void 0===t?function(){return!0}:t)(C)})),x=Re(T||[],2),L=x[0],N=x[1];return o().createElement("div",{className:"ms-toc-toolbar-container",style:{display:"flex",position:"relative"}},o().createElement("div",{className:"ms-toc-toolbar",style:{overflow:"hidden",display:"flex",flex:1}},o().createElement("div",{className:"ms-toc-toolbar-content",ref:w,style:{overflow:"hidden",textWrap:"nowrap"}},_.map((function(e,t){var n=e.Component,r=e.name;return o().createElement("div",{key:null!=r?r:"item-".concat(t),style:Ae({display:"inline-block"},N&&t>=N&&{visibility:"hidden"})},o().createElement(n,C))}))),o().createElement("div",{className:"ms-toc-toolbar-dropdown"},o().createElement(i.Lt,{id:"ms-toc-toolbar-dropdown",pullRight:!0,style:Ae({position:"absolute",left:L},void 0===N&&{visibility:"hidden"})},o().createElement(i.Lt.Toggle,{noCaret:!0},o().createElement(i.gG,{glyph:"option-vertical"})),o().createElement(i.Lt.Menu,null,void 0!==N&&_.filter((function(e,t){return t>=N})).map((function(e,t){var n=e.Component,r=e.name;return o().createElement(n,je({key:null!=r?r:"item-".concat(t)},C,{menuItem:!0}))})))))),null!=u&&u.length?o().createElement(i.Lt,{id:"ms-toc-toolbar-settings",pullRight:!0},o().createElement(i.Lt.Toggle,{noCaret:!0},o().createElement(i.gG,{glyph:"cog"})),o().createElement(i.Lt.Menu,null,u.map((function(e,t){var n=e.Component,r=e.name;return o().createElement(n,je({key:null!=r?r:"item-".concat(t)},C,{menuItem:!0}))})))):null)};var xe=n(462104),Le=n(180307),Ne=n(737275),Ge=n(623560),De=n.n(Ge);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Me(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const He=function(e){var t=e.items,n=void 0===t?[]:t,i=e.value,l=e.onClick,u=void 0===l?function(){}:l,a=e.onClose,c=void 0===a?function(){}:a,s=e.show,f=e.position,p=e.containerNode,y=void 0===p?function(){return document.querySelector("."+((0,Ne.u8)("themePrefix")||"ms2")+" > div")||document.body}:p,d=e.statusTypes,v=void 0===d?b.Sk:d,O=e.nodeTypes,g=void 0===O?m.$P:O,h=e.rootGroupId,E=void 0===h?m.oR:h,S=e.defaultGroupId,P=void 0===S?m.tE:S,w=e.config,j=De()(y)?y():y,T=(0,r.useRef)(),A=Ue((0,r.useState)({}),2),R=A[0],I=A[1];(0,r.useEffect)((function(){function e(e){var t;(null==T||null===(t=T.current)||void 0===t?void 0:t.contains)&&!T.current.contains(e.target)&&c()}return window.addEventListener("pointerdown",e),function(){window.removeEventListener("pointerdown",e)}}),[T]),(0,r.useLayoutEffect)((function(){if(f){var e,t=Ue(f,2),n=t[0],r=t[1],o=window.innerWidth,i=window.innerHeight,l=null==T||null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect(),u=l.height,a=l.width,c=r+u>i?"-100%":"0";I({transform:"translate(".concat(n+a>o?"-100%":"0",", ").concat(c,")"),top:r,left:n})}}),[f]);var C,_={selectedNodes:[i],status:(C=null==i?void 0:i.type)===g.LAYER?v.LAYER:C===g.GROUP?v.GROUP:null,statusTypes:v,nodeTypes:g,rootGroupId:E,defaultGroupId:P,config:w,itemComponent:Pe};return(0,Le.createPortal)(o().createElement("div",{ref:T,className:"ms-context-menu",style:Fe(Fe({},R),{},{position:"fixed",display:s?"flex":"none",flexDirection:"column",zIndex:5e3}),onClick:u},n.filter((function(e){var t=e.selector;return(void 0===t?function(){return!0}:t)(_)})).map((function(e){var t=e.name,n=e.Component;return o().createElement(n,ke({key:t},_,{contextMenu:!0}))}))),j)};var Be=n(552259),ze=n(93152),$e=n(993451),Ve=n(658422),We=n(881808);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=Ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Ke(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=n(782904);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Qe(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=(0,be.Z)(i.zx),ut=(0,$e.Z)("placeholder")(i.NI);(0,Ve.Fd)("toc",(function(e){var t;return null==e||null===(t=e.toc)||void 0===t?void 0:t.config}));var at=(0,d.oz)(O())((function(e){return e.controls&&e.controls.toolbar&&"toc"===e.controls.toolbar.active}),a.Bt,a.l2,a.NP,c.np,f.Od,f.Zs,s.Pz,s.KV,p.wk,(function(e){var t=(0,f.Od)(e),n=(null==t?void 0:t.resolutions)||(0,Be.MR)()||[];return{resolutions:n,resolution:n[Math.round(null==t?void 0:t.zoom)]}}),ze.Ai,(function(e,t){var n,r,o,i,l,u,c,s,f,p=(null==e||null===(n=e.toc)||void 0===n?void 0:n.config)||{},y=(0,a.l2)(e).filter((function(e){return"background"!==e.group}));return{init:p.init,defaultOpen:null!==(r=p.defaultOpen)&&void 0!==r?r:null==t?void 0:t.defaultOpen,theme:null!==(o=p.theme)&&void 0!==o?o:null==t?void 0:t.theme,hideOpacitySlider:null!==(i=null!==(l=p.hideOpacitySlider)&&void 0!==l?l:null==t?void 0:t.hideOpacitySlider)&&void 0!==i?i:null==t?void 0:t.activateOpacityTool,showFullTitle:null!==(u=p.showFullTitle)&&void 0!==u?u:null==t?void 0:t.showFullTitle,showOpacityTooltip:null!==(c=null!==(s=p.showOpacityTooltip)&&void 0!==s?s:null==t?void 0:t.showOpacityTooltip)&&void 0!==c?c:!(null!=t&&t.hideOpacityTooltip),activateFilterLayer:!!y.length&&(null===(f=null==t?void 0:t.activateFilterLayer)||void 0===f||f)}}),(function(e,t,n,r,o,i,l,u,a,c,s,f,p){var y=s.resolutions,d=s.resolution;return{enabled:e,tree:t,selectedNodes:(0,b.HC)(r,n,t),user:o,title:l,currentLocale:u,language:c?a:null,scales:(0,Be.yu)(i&&i.projection||"EPSG:3857",i&&i.mapOptions&&i.mapOptions.view&&i.mapOptions.view.DPI||null),zoom:null==i?void 0:i.zoom,resolutions:y,resolution:d,visualizationMode:f,defaultOpen:p.defaultOpen,theme:p.theme,hideOpacitySlider:p.hideOpacitySlider,init:p.init,showFullTitle:p.showFullTitle,showOpacityTooltip:p.showOpacityTooltip,activateFilterLayer:p.activateFilterLayer}})),ct=(0,l.connect)(at,{onSort:u.Dv,onChange:u.tV,onSelectNode:u.UG,onOpen:qe.Xg.bind(null,"drawer","enabled",!0),onResetInit:fe.bind(null,{init:!1})})((function(e,t){var n,l=e.tree,u=e.onSort,a=void 0===u?function(){}:u,c=e.onChange,s=void 0===c?function(){}:c,f=e.onSelectNode,p=void 0===f?function(){}:f,d=e.groupNodeComponent,v=e.layerNodeComponent,O=e.items,g=void 0===O?[]:O,E=e.selectedNodes,P=e.addLayersPermissions,T=void 0===P||P,A=e.removeLayersPermissions,R=void 0===A||A,I=e.sortingPermissions,C=void 0===I||I,x=e.addGroupsPermissions,L=void 0===x||x,N=e.removeGroupsPermissions,G=void 0===N||N,D=e.layerInfoToolPermissions,M=void 0!==D&&D,k=e.activateRemoveLayer,Z=void 0===k||k,F=e.activateSortLayer,Y=void 0===F||F,H=e.activateRemoveGroup,z=void 0===H||H,$=e.activateAddLayerButton,V=void 0===$||$,W=e.activateAddGroupButton,K=void 0===W||W,X=e.activateLayerInfoTool,J=void 0===X||X,q=e.user,Q=e.title,te=e.activateFilterLayer,ne=void 0===te||te,re=e.activateMapTitle,oe=void 0===re||re,ie=e.activateToolsContainer,le=void 0===ie||ie,ue=e.activateZoomTool,ae=void 0===ue||ue,se=e.hideOpacitySlider,fe=void 0!==se&&se,pe=e.hideSettings,ye=e.activateTitleTooltip,de=void 0===ye||ye,be=e.activateLegendTool,ve=void 0===be||be,Oe=e.showOpacityTooltip,ge=void 0===Oe||Oe,he=e.defaultOpen,Ee=e.theme,Se=e.showFullTitle,Pe=e.groupOptions,we=void 0===Pe?{}:Pe,je=e.layerOptions,Te=void 0===je?{}:je,Ae=e.currentLocale,Re=e.language,Ie=e.scales,Ce=e.zoom,Le=e.resolution,Ne=e.resolutions,Ge=e.visualizationMode,De=e.toolbarButtonProps,Me=e.init,ke=e.onOpen,Ze=e.onResetInit,Fe=function(e,t){var n=q&&"ADMIN"===q.role||!1;return!(!e&&!n)&&t},Ue=(0,b.js)(l),Ye={activateAddLayerButton:Fe(T,V),activateRemoveLayer:Fe(R,Z),sortable:Fe(C,Y),activateAddGroupButton:Fe(L,K),activateRemoveGroup:Fe(G,z),activateLayerInfoTool:Fe(M,J),singleDefaultGroup:Ue,hideOpacitySlider:fe,defaultOpen:he,theme:Ee,showFullTitle:Se,showOpacityTooltip:ge},Be=t.loadedPlugins,ze=function(e){var t=e.items,n=e.loadedPlugins,i=e.loaderComponent,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=(0,r.useRef)({});u.current={items:t,loadedPlugins:n,loaderComponent:i};var a=t.map((function(e){return e.name})).join(","),c=h()(Object.keys(n||{}),","),s=(0,r.useMemo)((function(){return function(e){return j(e.items).sort((function(e,t){return e.position>t.position?1:-1})).map((function(t){return w(w({},t),{},{Component:t.Component?function(e){var n=t.Component;return o().createElement(n,S({key:t.id},e,t.cfg,{pluginCfg:t.cfg,items:t.items||[]}))}:(0,y.KB)(t,e.loadedPlugins,e.loaderComponent||o().createElement("div",null))})}))||[]}(u.current)}),[c,a].concat(j(l)));return s}({items:[].concat(rt(ae?[{name:"TOCZoomToMenuItem",target:"context-menu",Component:U,position:4},{name:"TOCZoomToMenuItem",target:"toolbar",Component:U,position:4}]:[]),[{name:"TOCReloadLayersMenuItem",target:"context-menu",Component:B,position:9},{name:"TOCRemoveNodesButton",target:"toolbar",Component:ee,position:8},{name:"TOCRemoveNodesMenuItem",target:"context-menu",Component:ee,position:8},{name:"TOCGroupOptionsMenuItem",target:"context-menu",Component:ce,position:1}],rt(pe?[]:[{name:"TOCSettings",target:"context-menu",Component:me,position:0}]),rt(g)),loadedPlugins:Be}),$e=rt(ze).sort((function(e,t){return e.position>t.position?1:-1})),Ve=$e.filter((function(e){return"context-menu"===e.target})),We=$e.filter((function(e){return"toolbar"===e.target})),Ke=$e.filter((function(e){return"node-tool"===e.target})),Xe=$e.filter((function(e){return"node"===e.target})),Je=nt((0,r.useState)(""),2),qe=Je[0],Qe=Je[1],et=nt((0,r.useState)(null),2),ot=et[0],it=et[1];(0,r.useEffect)((function(){Me&&he&&(ke(),Ze())}),[Me]);var at=Ue?null==l||null===(n=l[0])||void 0===n?void 0:n.nodes:l,ct=0===(null==at?void 0:at.length);return o().createElement("div",{className:"ms-toc-container".concat(ct?" empty":""),onContextMenu:function(e){e.preventDefault(),it({id:m.oR,type:m.$P.GROUP,node:Ue?l[0]:{id:null,nodes:l},position:[e.clientX,e.clientY]})}},o().createElement("div",{className:"ms-toc-header"},oe&&Q?o().createElement("div",{className:"ms-toc-title"},o().createElement(i.gG,{glyph:"1-map"})," ",Q," "):null,ne?o().createElement("div",{className:"ms-toc-filter"},o().createElement(i.cw,null,o().createElement(i.BZ,null,o().createElement(ut,{placeholder:"toc.filterPlaceholder",value:qe,onChange:function(e){var t;return Qe(null==e||null===(t=e.target)||void 0===t?void 0:t.value)}}),qe?o().createElement(i.BZ.Button,null,o().createElement(lt,{tooltipId:"toc.clearFilter",onClick:function(){return Qe("")}},o().createElement(i.gG,{glyph:"1-close"}))):o().createElement(i.BZ.Addon,null,o().createElement(i.gG,{glyph:"filter"}))))):null,le?o().createElement(_e,{items:We,selectedNodes:E,statusTypes:b.Sk,nodeTypes:m.$P,rootGroupId:m.oR,defaultGroupId:m.tE,config:Ye,buttonProps:De,settingsItems:[{name:"TOCSettings",Component:me}]}):null),o().createElement(xe.d,{tree:l,filterText:qe,onSort:a,onChange:s,groupNodeComponent:d,layerNodeComponent:v,contextMenu:ot,theme:Ee,className:(null==ot?void 0:ot.id)===m.oR?"focused":"",config:{resolution:Le,resolutions:Ne,showFullTitle:Se,visualizationMode:Ge,sortable:Ye.sortable,hideOpacitySlider:fe,language:Re,currentLocale:Ae,scales:Ie,zoom:Ce,showTitleTooltip:de,showOpacityTooltip:ge,groupOptions:we,layerOptions:tt(tt({},Te),{},{hideLegend:!ve})},onContextMenu:function(e){var t=e.event,n=e.node,r=e.nodeType,o=e.parentId;p(),it({id:null==n?void 0:n.id,node:n,type:r,parentId:o,position:[t.clientX,t.clientY]})},selectedNodes:E,onSelectNode:p,nodeTypes:m.$P,rootGroupId:m.oR,nodeToolItems:Ke,nodeItems:Xe,singleDefaultGroup:Ue}),le?o().createElement(He,{value:ot,show:!!ot,position:null==ot?void 0:ot.position,onClick:function(){return it(null)},onClose:function(){return it(null)},items:Ve,statusTypes:b.Sk,nodeTypes:m.$P,defaultGroupId:m.tE,rootGroupId:m.oR,config:Ye}):null,ct&&o().createElement("div",{className:"toc-empty-message"},o().createElement("div",null,o().createElement(i.gG,{glyph:"1-layer"}),o().createElement("div",null,o().createElement(_.Z,{msgId:"toc.emptyLayerTree"})))))}));const st=(0,y.rx)("TOC",{component:ct,containers:{DrawerMenu:{name:"toc",position:1,glyph:"1-layer",buttonConfig:{buttonClassName:"square-button no-border",tooltip:"toc.layers"},priority:2}},reducers:{toc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We.ok:var n;return Je(Je({},e),{},{config:Je(Je({},null==t||null===(n=t.config)||void 0===n?void 0:n.toc),{},{init:!0})});case se:return Je(Je({},e),{},{config:Je(Je({},null==e?void 0:e.config),t.payload)});default:return e}}}})},788113:(e,t,n)=>{"use strict";n.d(t,{b6:()=>p,PG:()=>y,_x:()=>d,Mm:()=>m,dP:()=>b,SX:()=>v,ZL:()=>O,_S:()=>g,iH:()=>h,R7:()=>E,Q7:()=>S,n7:()=>P,bA:()=>w,hm:()=>j,E2:()=>T,Cb:()=>A,eK:()=>R,Im:()=>I,e8:()=>C,JF:()=>_,kS:()=>x,y:()=>L,l2:()=>N,HN:()=>G,BM:()=>D,O8:()=>M,am:()=>k,LV:()=>Z,CK:()=>F,jU:()=>U,Qg:()=>Y,$c:()=>H});var r=n(22222),o=n(227361),i=n.n(o),l=n(800827),u=n(577215),a=n(274621);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o,i,l;r=e,o=t,i=n[t],l=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==c(l)?l:l+"")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return i()(e,"catalog.services")},y=(0,r.P1)((function(e){return i()(e,"catalog.default.staticServices")}),p,(function(e,t){var n=null==e?void 0:e.default_map_backgrounds;return n?(n.readOnly=!0,f(f({},t),{},{default_map_backgrounds:n})):t})),d=function(e){return i()(e,"catalog.default.tileSizes",[256,512])},m=function(e){return i()(e,"controls.metadataexplorer.group")},b=function(e){return i()(e,"catalog.saving")},v=function(e){return i()(e,"catalog.result")},O=function(e){return i()(e,"catalog.openCatalogServiceList")},g=function(e){return i()(e,"catalog.newService")},h=function(e){return i()(e,"catalog.newService.type","csw")},E=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"]'))},S=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].type'),function(e){return i()(e,'catalog.default.staticServices["'.concat(i()(e,"catalog.selectedService"),'"].type'),"csw")}(e))},P=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].layerOptions'),{})},w=function(e){return i()(e,"catalog.searchOptions")},j=function(e){return i()(e,"catalog.loadingError")},T=function(e){return i()(e,"catalog.loading",!1)},A=function(e){return i()(e,"catalog.selectedService")},R=function(e){return i()(e,"catalog.mode","view")},I=function(e){return i()(e,"catalog.layerError")},C=function(e){return i()(e,"catalog.searchOptions.text","")},_=function(e){return"metadataexplorer"===i()(e,"controls.toolbar.active")||i()(e,"controls.metadataexplorer.enabled")},x=function(e){return(i()(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},L=function(e){return i()(e,"catalog.pageSize",4)},N=function(e){return i()(e,"catalog.delayAutoSearch",1e3)},G=(0,r.zB)({projection:l.uy}),D=function(e){return i()(e,"catalog.formatsLoading",!1)},M=function(e){return i()(e,"catalog.newService.supportedFormats.imageFormats",[])},k=function(e){var t,n;return"edit"===R(e)?M(e):(null===(t=E(e))||void 0===t||null===(n=t.supportedFormats)||void 0===n?void 0:n.imageFormats)||[]},Z=function(e){return i()(e,"catalog.newService.supportedFormats.infoFormats",(0,u.oL)())},F=function(e){return i()(e,"catalog.newService.formatUrlUsed","")},U=function(e){return i()(e,"catalog.isNewServiceAdded",!1)},Y=function(e){return i()(e,"catalog.showFormatError",!1)},H=function(e){var t=function(e){return i()(e,"catalog.editingAllowedRoles",[])}(e),n=function(e){return i()(e,"catalog.editingAllowedGroups",[])}(e);return(0,a.tv)({allowedRoles:t,allowedGroups:n})(e)}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>f,Yf:()=>p,c3:()=>y,fY:()=>d});var r=n(218721),o=n.n(r),i=n(227361),l=n.n(i),u=n(313311),a=n.n(u),c=n(22222),s=n(308316),f=function(e){return o()(e,"localConfig.localizedLayerStyles")},p=function(e){var t=l()(e,"localConfig.plugins.dashboard",[]),n=a()(t,(function(e){return"DashboardEditor"===e.name}))||{};return l()(n,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return l()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},d=(0,c.P1)(f,y,s.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},945177:(e,t,n)=>{"use strict";var r=n(595318);t.__esModule=!0,t.default=void 0;var o,i=r(n(250139)),l="clearTimeout",u=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=a(e,"request");if(t in window)return l=a(e,"cancel"),u=function(e){return window[t](e)}}));var c=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[l]&&"function"==typeof window[l]&&window[l](e)};var s=o;t.default=s,e.exports=t.default},887157:(e,t,n)=>{var r=n(640554),o=n(588958);e.exports=function(e,t,n,i){var l=e.length;for((n=r(n))<0&&(n=-n>l?0:l+n),(i=void 0===i||i>l?l:r(i))<0&&(i+=l),i=n>i?0:o(i);n<i;)e[n++]=t;return e}},441761:(e,t,n)=>{var r=n(644239),o=n(637005);e.exports=function(e){return o(e)&&"[object Date]"==r(e)}},819873:(e,t,n)=>{var r=n(887157),o=n(816612);e.exports=function(e,t,n,i){var l=null==e?0:e.length;return l?(n&&"number"!=typeof n&&o(e,t,n)&&(n=0,i=l),r(e,t,n,i)):[]}},647960:(e,t,n)=>{var r=n(441761),o=n(307518),i=n(531167),l=i&&i.isDate,u=l?o(l):r;e.exports=u},588958:(e,t,n)=>{var r=n(829750),o=n(640554);e.exports=function(e){return e?r(o(e),0,4294967295):0}}}]);