(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[84495],{658918:(e,t,n)=>{"use strict";n.d(t,{F:()=>y});var r=n(375875),o=n.n(r),i=n(986267),a=n(552259);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){return o().get(e).then((function(e){var t,r=e.data;return(t=r,n.e(76180).then(n.bind(n,376180)).then((function(e){var n,r,o,l,u=e,s=void 0!==(null==t||null===(n=t.asset)||void 0===n?void 0:n.version)?t.asset.version:"1.0",p=function(e,t){var n,r,o,l,u,c;if(null!=t&&null!==(n=t.root)&&void 0!==n&&null!==(r=n.boundingVolume)&&void 0!==r&&r.region){var s=f(t.root.boundingVolume.region,4),p=s[0],y=s[1],m=s[2],d=s[3];return{bounds:{minx:(0,i.convertRadianToDegrees)(p),miny:(0,i.convertRadianToDegrees)(y),maxx:(0,i.convertRadianToDegrees)(m),maxy:(0,i.convertRadianToDegrees)(d)},crs:"EPSG:4326"}}var b=e.Matrix4.fromArray(t.root.transform||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(null!=t&&null!==(o=t.root)&&void 0!==o&&null!==(l=o.boundingVolume)&&void 0!==l&&l.box){var v=f(t.root.boundingVolume.box,3),g=v[0],h=v[1],O=v[2],E=e.Matrix4.multiplyByPoint(b,new e.Cartesian3(g,h,O),new e.Cartesian3),S=e.Matrix4.getMatrix3(b,new e.Matrix4),P=e.Matrix3.multiply(S,e.Matrix3.fromArray(t.root.boundingVolume.box,3,new e.Matrix3),new e.Matrix3),w=e.BoundingSphere.fromOrientedBoundingBox(new e.OrientedBoundingBox(E,P)),j=e.Cartographic.fromCartesian(w.center);if(!j)return null;var T=(0,i.convertRadianToDegrees)(j.longitude),C=(0,i.convertRadianToDegrees)(j.latitude),x=w.radius/a.METERS_PER_UNIT.degrees;return{bounds:{minx:T-x,miny:C-x,maxx:T+x,maxy:C+x},crs:"EPSG:4326"}}if(null!=t&&null!==(u=t.root)&&void 0!==u&&null!==(c=u.boundingVolume)&&void 0!==c&&c.sphere){var I=f(t.root.boundingVolume.sphere,4),L=I[0],R=I[1],A=I[2],D=I[3],_=e.Matrix4.multiplyByPoint(b,new e.Cartesian3(L,R,A),new e.Cartesian3),M=e.Matrix4.getScale(b,new e.Matrix4),k=D*e.Cartesian3.maximumComponent(M)/a.METERS_PER_UNIT.degrees,F=e.Cartographic.fromCartesian(_);if(!F)return null;var B=(0,i.convertRadianToDegrees)(F.longitude),N=(0,i.convertRadianToDegrees)(F.latitude);return{bounds:{minx:B-k,miny:N-k,maxx:B+k,maxy:N+k},crs:"EPSG:4326"}}return null}(u,t),y=(l=((null==t||null===(r=t.root)||void 0===r||null===(o=r.content)||void 0===o?void 0:o.uri)||"").split(/\./g))[l.length-1],m=null==t?void 0:t.properties;return c(c({version:s},p&&{bbox:p}),{},{format:y,properties:m})}))).then((function(e){return c({tileset:r},e)}))}))}},501157:(e,t,n)=>{"use strict";n.d(t,{en:()=>R,FU:()=>M,gs:()=>F,tt:()=>B,jY:()=>N,QQ:()=>Z,B8:()=>U,T6:()=>G,ZP:()=>q});var r=n(472500),o=n.n(r),i=n(701469),a=n.n(i),l=n(984596),u=n.n(l),c=n(227361),s=n.n(c),f=n(441609),p=n.n(f),y=n(264721),m=n.n(y),d=n(944908),b=n.n(d),v=n(727418),g=n.n(v),h=n(505055),O=n.n(h),E=n(375875),S=n.n(E),P=n(737275),w=n(986267),j=n(396606);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={},R=function(e){var t=(a()(e)&&e||e.split(","))[0],n=o().parse(t,!0);return o().format(g()({},n,{search:null},{query:g()({service:"WMS",version:"1.3.0",request:"GetCapabilities"},n.query)}))},A=function(e){var t=e&&e.Title,n=e.LogoURL&&x(x({},s()(e,"LogoURL.$")||{}),{},{format:s()(e,"LogoURL.Format")}),r=s()(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:n,imageUrl:s()(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:r}},D=function e(t){return t.Layer?(a()(t.Layer)&&t.Layer||[t.Layer]).reduce((function(t,n){return t.concat(e(n)).concat(n.Layer&&n.Name?[n]:[])}),[]):t.Name&&[t]||[]},_=function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=(o.WMS_Capabilities||o.WMT_MS_Capabilities||{}).Capability,s=(o.WMS_Capabilities||o.WMT_MS_Capabilities||{}).Service,f=(r=c).Request&&r.Request.GetMap&&r.Request.GetMap.DCPType&&r.Request.GetMap.DCPType.HTTP&&r.Request.GetMap.DCPType.HTTP.Get&&r.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&r.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0,p=c.Layer&&(null===(e=c.Layer.SRS||c.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],y=c.Layer&&c.Layer.Attribution&&A(c.Layer.Attribution),m=c.Request&&c.Request.GetMap&&c.Request.GetMap.Format||[],d=D(c),b=(a()(d)?d:[d]).filter((function(e){return!u||-1!==e.Name.toLowerCase().indexOf(u.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(u.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(u.toLowerCase())}));return{numberOfRecordsMatched:b.length,numberOfRecordsReturned:Math.min(l,b.length),nextRecord:i+Math.min(l,b.length)+1,service:s,layerOptions:{version:(null===(t=o.WMS_Capabilities||o.WMT_MS_Capabilities)||void 0===t||null===(n=t.$)||void 0===n?void 0:n.version)||"1.3.0"},records:b.filter((function(e,t){return t>=i-1&&t<i-1+l})).map((function(e){return g()({},e,{formats:m,onlineResource:f,SRS:p,credits:e.Attribution?A(e.Attribution):y})}))}},M=function(e,t){var r=o().parse(e,!0),i=o().format(g()({},r,{query:g()({service:"WMS",version:"1.1.1",request:"GetCapabilities"},r.query)}));return new Promise((function(e){Promise.all([n.e(99942),n.e(67260)]).then(function(){var r=n(967260).unmarshaller;e(S().get(R(i)).then((function(e){var n;if(t)return O().parseString(e.data,{explicitArray:!1},(function(e,t){n=t})),n;var o=r.unmarshalString(e.data);return o&&o.value})))}.bind(null,n)).catch(n.oe)}))},k=function(e,t,n,r){var o=L[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,P.u8)("cacheExpire")||60)?new Promise((function(e){e(_(o.data,t,n,r))})):S().get(R(e)).then((function(o){var i;return O().parseString(o.data,{explicitArray:!1},(function(e,t){i=t})),L[e]={timestamp:(new Date).getTime(),data:i},_(i,t,n,r)}))},F=function(e,t){var n=o().parse(e,!0),r=o().format(g()({},n,{query:g()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},n.query)}));return S().get(R(r)).then((function(e){var t;return O().parseString(e.data,{explicitArray:!1},(function(e,n){t=n&&n.WMS_DescribeLayerResponse&&n.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return x(x({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:x({},e&&e.query&&e.query.$||{})})}))}))},B=function(e,t,n,r){return k(e,t,n,r)},N=function(e,t){for(var n=e,r=n.EX_GeographicBoundingBox||n.exGeographicBoundingBox||(0,w.getWMSBoundingBox)(n.BoundingBox)||n.LatLonBoundingBox&&n.LatLonBoundingBox.$||n.latLonBoundingBox;!r&&n.Layer&&n.Layer.length;)r=(n=n.Layer[0]).EX_GeographicBoundingBox||n.exGeographicBoundingBox||(0,w.getWMSBoundingBox)(n.BoundingBox)||n.LatLonBoundingBox&&n.LatLonBoundingBox.$||n.latLonBoundingBox;r||(r={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[r.westBoundLongitude||r.minx,r.southBoundLatitude||r.miny,r.eastBoundLongitude||r.maxx,r.northBoundLatitude||r.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},Z=[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/vnd.jpeg-png8",value:"image/vnd.jpeg-png8"},{label:"image/gif",value:"image/gif"}],U=function(){return b()(Object.values((0,j.eq)()))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M(e).then((function(e){var n,r,o=s()(e,"capability.request.getMap.format",[]);if(p()(o))n=Z;else{var i=Z.map((function(e){return e.value}));n=(o=o.map((function(e){var t=e.value;return{label:t,value:t}}))).filter((function(e){var t=e.value;return m()(i,t)}))||[]}if(t){var a=s()(e,"capability.request.getFeatureInfo.format",[]),l=U();p()(a)?r=l:(a=a.map((function(e){return e.value})),r=b()(a.filter((function(e){return m()(l,e)})))||[])}return t?{imageFormats:n,infoFormats:r}:n})).catch((function(){return t?{imageFormats:Z,infoFormats:U()}:Z}))};const q={flatLayers:D,parseUrl:R,getDimensions:function(e){return u()(e.Dimension||e.dimension||[]).map((function(t,n){var r=e.Extent&&u()(e.Extent)[n]||e.extent&&u()(e.extent)[n];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||r&&r.$.default,values:t._&&t.split(",")||r&&r._&&r.split(",")}}))},getCapabilities:M,describeLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o().parse(e,!0),a=o().format(g()({},i,{query:g()({service:"WMS",version:"1.1.1",layers:t,request:"DescribeLayer"},i.query,r.query||{})}));return new Promise((function(e){Promise.all([n.e(99942),n.e(67260)]).then(function(){var t=n(967260).unmarshaller;e(S().get(R(a)).then((function(e){var n=t.unmarshalString(e.data);return n&&n.value&&n.value.layerDescription&&n.value.layerDescription[0]})))}.bind(null,n)).catch(n.oe)}))},getRecords:k,describeLayers:F,textSearch:B,parseLayerCapabilities:function e(t,n,r){return u()(r||s()(t,"capability.layer.layer")).reduce((function(r,o){return r||(!o.name&&o.layer?e(t,n,u()(o.layer)):2===n.name.split(":").length&&o.name&&2===o.name.split(":").length?n.name===o.name&&o:o.name&&2===o.name.split(":").length?n.name===o.name.split(":")[1]&&o:2===n.name.split(":").length?n.name.split(":")[1]===o.name&&o:n.name===o.name&&o)}),null)},getBBox:N,reset:function(){Object.keys(L).forEach((function(e){delete L[e]}))},getUniqueInfoFormats:U,getSupportedFormat:G}},490079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(472500),o=n.n(r),i=n(701469),a=n.n(i),l=n(414293),u=n.n(l),c=n(727418),s=n.n(c),f=n(675263),p=n.n(f),y=n(124852),m=n.n(y),d=n(233044),b=n(805346);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,i,l=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(i){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(O(e=l.call.apply(l,[this].concat(n))),"state",{error:!1}),S(O(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),S(O(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var n=e.layer,r=u()(t)?a()(n.url)&&Math.floor(Math.random()*n.url.length):t,i=a()(n.url)?n.url[r]:n.url.replace(/[?].*$/g,""),l=o().parse(i),c=(0,d.clearNilValuesForParams)(n.params),f=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:n.name,style:n.style||null,version:n.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},n.legendParams||{},e.language&&n.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,d.addAuthenticationToSLD)(c||{},e.layer),c&&c.SLD_BODY?{SLD_BODY:c.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,d.addAuthenticationParameter)(i,f),o().format({host:l.host,protocol:l.protocol,pathname:l.pathname,query:f})}return""})),S(O(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=c,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?m().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):m().createElement(b.Z,{msgId:"layerProperties.legenderror"})}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(m().Component);S(w,"propTypes",{layer:p().object,legendHeight:p().number,legendWidth:p().number,legendOptions:p().string,style:p().object,currentZoomLvl:p().number,scales:p().array,scaleDependent:p().bool,language:p().string}),S(w,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const j=w},416919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(124852),o=n.n(r),i=n(732833),a=n(965539),l=n(867076),u=n(480681),c=n(38560),s={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};const f=function(e){var t=e.position,n=void 0===t?"right":t,r=e.onClose,i=e.bsStyle,a=void 0===i?"default":i,l=e.title,f=void 0===l?"":l,p=e.fullscreen,y=void 0!==p&&p,m=e.showFullscreen,d=void 0!==m&&m,b=e.glyph,v=void 0===b?"info-sign":b,g=e.additionalRows,h=e.onFullscreen,O=void 0===h?function(){}:h,E=r?o().createElement(c.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:r,bsStyle:a},o().createElement(u.Glyphicon,{glyph:"1-close"})):null,S=d?o().createElement(c.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:a,onClick:function(){return O(!y)}},o().createElement(u.Glyphicon,{glyph:s[n]&&s[n][y]||"resize-full"})):o().createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+a),style:{display:"flex"}},o().createElement(u.Glyphicon,{glyph:v,className:"".concat("default"===a?"text-primary":"")})),P="left"===n?[E,S]:[S,E];return o().createElement(u.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+a},o().createElement(u.Row,null,o().createElement(u.Col,{xs:2},P[0]),o().createElement(u.Col,{xs:8},o().createElement("h4",null,f)),o().createElement(u.Col,{xs:2},P[1])),g)},p=(0,l.withState)("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,r=void 0===n?"":n,l=e.fullscreen,u=void 0!==l&&l,c=e.position,s=e.open,p=e.size,y=void 0===p?550:p,m=e.style,d=void 0===m?{}:m,b=e.zIndex,v=void 0===b?1030:b,g=e.onClose,h=e.bsStyle,O=e.title,E=e.showFullscreen,S=void 0!==E&&E,P=e.glyph,w=e.header,j=e.footer,T=e.children,C=e.onFullscreen,x=void 0===C?function(){}:C,I=e.fixed,L=void 0!==I&&I,R=e.resizable,A=void 0!==R&&R,D=e.hideHeader;return o().createElement("div",{className:"ms-side-panel "+(L?"":"ms-absolute-dock ")+(A?"":"react-dock-no-resize ")+r},o().createElement(i.default,{fluid:t||u,position:c,dimMode:"none",isVisible:s,size:u?1:y,dockStyle:d,zIndex:v},o().createElement(a.Z,{header:!D&&s&&o().createElement(f,{position:c,onClose:g,bsStyle:h,title:O,fullscreen:u,showFullscreen:S,glyph:P,additionalRows:w,onFullscreen:x}),footer:s&&j},s&&T)))}))},632107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(124852),o=n.n(r),i=n(867076),a=n(965539),l=n(416919),u=n(694745),c=["children","header"];var s=(0,i.renameProps)({open:"show"})((function(e){var t=e.children,n=e.header,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c);return o().createElement(u.Z,r,o().createElement(a.Z,{header:o().createElement("div",{className:"ms-header"},n)},t))}));const f=(0,i.branch)((function(e){return!e.dock}),(function(){return function(e){return o().createElement(s,e)}}))(l.Z)},835420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(124852);const o=(0,n(218291).Z)()((0,r.lazy)((function(){return Promise.all([n.e(72555),n.e(71167),n.e(11915)]).then(n.bind(n,811915))})))},617071:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>dn});var r=n(675263),o=n.n(r),i=n(171703),a=n(867076),l=n(22222),u=n(782904),c=n(690825),s=n(580416),f=n(396909),p=n(487427),y=n(124852),m=n.n(y),d=n(480681),b=n(632107),v=n(80717),g=n(815135),h=n(91175),O=n.n(h),E=n(513218),S=n.n(E),P=n(747037),w=n.n(P),j=n(805346);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function x(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=(0,g.Z)(d.NavItem),R=function(e){var t=e.className,n=void 0===t?"":t,r=e.activeTab,o=void 0===r?"general":r,i=e.currentLocale,a=void 0===i?"en-US":i,l=e.currentLocaleLanguage,u=void 0===l?"en":l,c=e.width,s=void 0===c?500:c,f=e.groups,p=void 0===f?[]:f,y=e.element,g=void 0===y?{}:y,h=e.settings,E=void 0===h?{}:h,P=e.onClose,I=void 0===P?function(){}:P,R=e.onHideSettings,A=void 0===R?function(){}:R,D=e.onSetTab,_=void 0===D?function(){}:D,M=e.onUpdateParams,k=void 0===M?function(){}:M,F=e.onRetrieveLayerData,B=void 0===F?function(){}:F,N=e.realtimeUpdate,Z=void 0===N||N,U=e.dockStyle,G=void 0===U?{}:U,q=e.dock,W=void 0===q||q,z=e.showFullscreen,V=e.draggable,$=e.position,H=void 0===$?"left":$,K=e.tabs,Y=void 0===K?[]:K,J=e.tabsConfig,X=void 0===J?{}:J,Q=e.isLocalizedLayerStylesEnabled,ee=void 0!==Q&&Q,te=O()(Y.filter((function(e){return e.id===o&&e.toolbarComponent})).map((function(e){return e.toolbarComponent}))),ne=Y&&Y.map((function(e){return e&&e.onClose})).filter((function(e){return e}))||[],re=x(O()(Y.filter((function(e){return e.id===o&&e.toolbar})).map((function(e){return e.toolbar})))||[]);return m().createElement("div",null,m().createElement(b.Z,{open:E.expanded,glyph:"wrench",title:g.title&&S()(g.title)&&(g.title[a]||g.title.default)||w()(g.title)&&g.title||"",className:n,onClose:function(){I?I(ne):(ne.forEach((function(e){e()})),A())},size:s,style:G,showFullscreen:z,dock:W,draggable:V,position:H,header:[m().createElement(d.Row,{key:"ms-toc-settings-toolbar",className:"text-center"},m().createElement(d.Col,{xs:12},te?m().createElement(te,{buttons:re}):m().createElement(v.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:re})))].concat(x(Y.length>1?[m().createElement(d.Row,{key:"ms-toc-settings-navbar",className:"ms-row-tab"},m().createElement(d.Col,{xs:12},m().createElement(d.Nav,{bsStyle:"tabs",activeKey:o,justified:!0},Y.map((function(e){return m().createElement(L,{key:"ms-tab-settings-"+e.id,tooltip:m().createElement(j.Z,{msgId:e.tooltipId}),eventKey:e.id,onClick:function(){_(e.id),e.onClick&&e.onClick()}},m().createElement(d.Glyphicon,{glyph:e.glyph}))})))))]:[]))},Y.filter((function(e){return e.id&&e.id===o})).filter((function(e){return e.Component})).map((function(t){return m().createElement(t.Component,C({},e,X[t.id],{key:"ms-tab-settings-body-"+t.id,containerWidth:s,element:g,groups:p,nodeType:E.nodeType,settings:E,retrieveLayerData:B,onChange:function(e,t){return S()(e)?k(e,Z):k(function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t),Z)},isLocalizedLayerStylesEnabled:ee,currentLocaleLanguage:u}))}))))};R.contextTypes={plugins:o().object,pluginsConfig:o().array,loadedPlugins:o().object};const A=R;var D=n(607147),_=n(675110),M=n(308316),k=n(38842),F=n(55105),B=n(274621),N=n(624262),Z=n(322843),U=n(615402),G=n(763105),q=n.n(G),W=n(189734),z=n.n(W),V=n(739980),$=n(529),H=n(468843),K=n(121222),Y=n(93152),J=n(396606),X=n(363209),Q=n(518842),ee=n(185552),te=n.n(ee),ne=n(280798);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function le(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}var ue,ce,se,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(r);if(o){var n=ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){if(this.props.active){var e=this.props.payload;return m().createElement("div",{className:"custom-tooltip"},m().createElement("p",{className:"label"},Math.abs(e[0].value)))}return null}}])&&oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(m().Component);ue=fe,ce="propTypes",se={type:o().string,payload:o().array,label:o().string,active:o().bool},(ce=le(ce))in ue?Object.defineProperty(ue,ce,{value:se,enumerable:!0,configurable:!0,writable:!0}):ue[ce]=se;const pe=fe;function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,he(r.key),r)}}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ge(e,t,n){return(t=he(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ye(t)?t:String(t)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(r);if(o){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(be(e=i.call.apply(i,[this].concat(n))),"renderLineChart",(function(){return m().createElement(ne.wW,{margin:e.props.chartStyle.margin,width:e.props.chartStyle.width,height:e.props.chartStyle.height,data:e.formatData(e.props.elevations.values)},m().createElement(ne.Kc,{hide:!0,dataKey:"name"}),m().createElement(ne.B2,{hide:!0}),m().createElement(ne.u,{content:m().createElement(pe,null)}),m().createElement(ne.q3,{strokeDasharray:"3 3",horizontal:!1}),m().createElement(ne.x1,{isAnimationActive:e.props.animated,type:"monotone",dataKey:"value",stroke:"#82ca9d",activeDot:{r:8}}))})),ge(be(e),"formatData",(function(t){var n=[];return t.map((function(e){n.push({name:this.props.elevations.name,value:parseFloat(this.props.elevations.positive?e:-e)})}),be(e)),n})),e}return t=a,(n=[{key:"render",value:function(){return m().createElement("div",null,this.renderLineChart())}}])&&me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(m().Component);ge(Oe,"propTypes",{elevations:o().object,chartStyle:o().object,animated:o().bool}),ge(Oe,"defaultProps",{elevations:{},chartStyle:{margin:{top:5,right:5,left:5,bottom:45},width:600,height:200},animated:!1});var Ee=n(893379),Se=n.n(Ee),Pe=n(79909);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ae(r.key),r)}}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Re(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===we(t)?t:String(t)}Se()(Pe.Z,{insert:"head",singleton:!1}),Pe.Z.locals;var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(r);if(o){var n=Le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(Ie(e=i.call.apply(i,[this].concat(n))),"renderElevationsChart",(function(t){return e.props.showElevationChart?m().createElement(Oe,{elevations:t,chartStyle:Te({height:200,width:e.props.containerWidth-30},e.props.chartStyle)}):null})),Re(Ie(e),"renderElevationsSlider",(function(t){var n=t.values,r=n.length-1,o=r-0,i=parseFloat(n[0]),a=parseFloat(n[n.length-1]),l=e.props.element&&e.props.element.params&&e.props.element.params[t.name]||n[0];return m().createElement("div",{id:"mapstore-elevation"},m().createElement(te(),{snap:!0,start:[parseFloat(l)]||0,range:e.calculateRange(n,0,r,o,i,a),behaviour:"tap",pips:{mode:"range",stepped:!0,density:10,format:{to:function(e){return parseFloat(e).toFixed(1)}}},tooltips:!e.props.showElevationChart,onChange:function(n){e.props.onChange("params",Object.assign({},Re({},t.name,n[0])))}}))})),Re(Ie(e),"calculateRange",(function(e,t,n,r,o,i){var a=[],l="",u={min:o,max:i};return e.forEach((function(e,n){a[n]=(n-t)/r*100,l=a[n]+"%",u[l]=parseFloat(e)})),u})),e}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e){return this.props.element.id!==e.element.id}},{key:"render",value:function(){var e=this.props.getDimension(this.props.element.dimensions,"elevation");return m().createElement(d.Grid,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},m().createElement("label",{id:"mapstore-elevation-label",key:"elevation-label",className:"control-label",style:this.props.showElevationChart?{marginBottom:"10px"}:{marginBottom:"90px"}},this.props.elevationText,": (",e.units,")"),this.renderElevationsChart(e),m().createElement("div",null,m().createElement("div",{key:"elevation"},this.renderElevationsSlider(e))))}}])&&Ce(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(m().Component);Re(De,"propTypes",{elevationText:o().node,element:o().object,getDimension:o().func,onChange:o().func,chartStyle:o().object,showElevationChart:o().bool,containerWidth:o().number}),Re(De,"defaultProps",{onChange:function(){},showElevationChart:!0,containerWidth:500,elevationText:m().createElement(j.Z,{msgId:"elevation"}),getDimension:N.Fr});var _e=n(835420),Me=n(399534),ke=n(694745);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ze(r.key),r)}}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function We(e,t,n){return(t=ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){var t=function(e,t){if("object"!==Fe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fe(t)?t:String(t)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(r);if(o){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(Ge(e=i.call.apply(i,[this].concat(n))),"state",{template:" "}),We(Ge(e),"close",(function(){e.props.onShowEditor(!e.props.showEditor),e.props.onChange("featureInfo",Ne(Ne({},e.props.element&&e.props.element.featureInfo||{}),{},{template:e.state.template}))})),e}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({template:this.props.element&&this.props.element.featureInfo&&this.props.element.featureInfo.template||" "})}},{key:"render",value:function(){var e=this,t=this.props,n=t.showEditor,r=t.enableIFrameModule,o=void 0===r||r,i=t.onReady,a=void 0===i?function(){}:i;return m().createElement(Me.Z,null,m().createElement(ke.Z,{fade:!0,show:n,title:m().createElement(j.Z,{msgId:"layerProperties.editCustomFormat"}),size:"lg",showFullscreen:!0,clickOutEnabled:!1,onClose:function(){return e.close()},buttons:[{bsStyle:"primary",text:m().createElement(j.Z,{msgId:"close"}),onClick:function(){return e.close()}}]},m().createElement("div",{id:"ms-template-editor",className:"ms-editor"},m().createElement(_e.Z,{bounds:"#ms-template-editor",ref:function(t){t&&(e.quill=t,a(t))},modules:function(e){return o?{resizeModule:{},toolbar:e}:{}},defaultValue:this.state.template,onChange:function(t){return e.setState({template:t})}}))))}}])&&Ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(m().Component);We(Ve,"propTypes",{showEditor:o().bool,element:o().object,onChange:o().func,onShowEditor:o().func,enableIFrameModule:o().bool,onReady:o().func}),We(Ve,"defaultProps",{showEditor:!1,element:{},enableIFrameModule:!1,onChange:function(){},onShowEditor:function(){}});const $e=Ve;var He=n(82110),Ke=n(712485),Ye=n.n(Ke),Je=n(120135),Xe=n.n(Je),Qe=n(769494),et=n.n(Qe),tt=n(944908),nt=n.n(tt),rt=n(471891),ot=n(467057),it=n(40683),at=n(99009),lt=n(166287),ut=n(658918),ct=n(432420);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===st(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt={visual:it.Z,textarea:ot.Z},vt={"3dtiles":function(e){return(0,ut.F)(e.url)},vector:function(e){var t=e.features,n=void 0===t?[]:t,r=(0,lt.flattenFeatures)(n),o=r.reduce((function(e,t){return mt(mt({},e),null==t?void 0:t.properties)}),{}),i=nt()(r.map((function(e){var t;return null==e||null===(t=e.geometry)||void 0===t?void 0:t.type})).filter((function(e){return e})));return Promise.resolve({properties:o,geometryType:1===i.length?(0,at.q9)({localType:i[0]}):"vector"})},wfs:function(e){return e.url?(0,ct.v$)(e.url,e.name).then((function(e){return(0,at.Py)({describeLayer:{owsType:"WFS"},describeFeatureType:e})})):Promise.resolve({})}};var gt=n(800827),ht=n(278720),Ot=n(876424);function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}const St=function(e){var t=e.activePanel,n=e.fillContainer,r=e.className,o=e.onSelect,i=e.panels,a=void 0===i?[]:i,l=n?"ms-fill-container ":"";return m().createElement(d.Accordion,{activeKey:t,className:"ms-accordion "+l+r},a.map((function(e,n){return m().createElement(d.Panel,{key:n,eventKey:e.id,className:t===e.id&&"HIDDEN"!==e.id?"ms-selected":"",header:e.head&&m().createElement("a",{role:"tab"},m().createElement(Ot.Z,Et({},e.head,{selected:t===e.id,onClick:function(){o(e.id)}})))||null,collapsible:!0},e.body)})))};var Pt=n(264721),wt=n.n(Pt),jt=n(441609),Tt=n.n(jt);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Bt(e,t,n){return(t=Nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){var t=function(e,t){if("object"!==Ct(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ct(t)?t:String(t)}var Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ft(r);if(o){var n=Ft(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bt(kt(e=i.call.apply(i,[this].concat(n))),"getInfoFormat",(function(t){return Object.keys(t).map((function(t){var n=e.props.formatCards[t]&&e.props.formatCards[t].body;return{id:t,head:{preview:m().createElement(d.Glyphicon,{glyph:e.props.formatCards[t]&&e.props.formatCards[t].glyph||"ext-empty"}),title:e.props.formatCards[t]&&e.props.formatCards[t].titleId&&m().createElement(j.Z,{msgId:e.props.formatCards[t].titleId})||"",description:e.props.formatCards[t]&&e.props.formatCards[t].descId&&m().createElement(j.Z,{msgId:e.props.formatCards[t].descId})||"",size:"sm"},body:n&&m().createElement(n,Dt({template:e.props.element.featureInfo&&e.props.element.featureInfo.template||""},e.props))||null}}))})),Bt(kt(e),"supportedInfoFormats",(function(){var t,n,r=["TEXT","HTML"],o=(null===(t=e.props.element)||void 0===t?void 0:t.infoFormats)||[],i=Object.fromEntries(Object.entries(e.props.defaultInfoFormat).filter((function(e){var t=Lt(e,1)[0];return!r.includes(t)}))),a="wfs"===e.props.element.type?i:e.props.defaultInfoFormat,l=Object.assign.apply(Object,[{}].concat((n=Object.entries(a).filter((function(e){var t=Lt(e,2)[1];return wt()(o,t)})).map((function(e){var t=Lt(e,2);return Bt({},t[0],t[1])})),function(e){if(Array.isArray(e))return At(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Rt(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())));return Tt()(l)?a:l})),e}return t=a,n=[{key:"render",value:function(){var e=this,t=this.getInfoFormat(this.supportedInfoFormats());return m().createElement("span",null,m().createElement(St,{fillContainer:!0,activePanel:this.props.element.featureInfo&&this.props.element.featureInfo.format,panels:t,onSelect:function(t){var n=e.props.element.featureInfo&&e.props.element.featureInfo.format&&t===e.props.element.featureInfo.format;e.props.onChange("featureInfo",It(It({},e.props.element&&e.props.element.featureInfo||{}),{},{format:n?"":t,viewer:e.props.element.featureInfo?e.props.element.featureInfo.viewer:void 0}))}}))}}],n&&_t(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(m().Component);function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}Bt(Zt,"propTypes",{element:o().object,defaultInfoFormat:o().object,onChange:o().func,formatCards:o().object}),Bt(Zt,"defaultProps",{element:{},defaultInfoFormat:[],onChange:function(){},formatCards:{}});var Gt=["template"],qt=["settings","items","loadedPlugins","onToggleStyleEditor","onUpdateParams","element"],Wt=["showFeatureInfoTab","loadedPlugins","items","onToggleStyleEditor"];function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ut(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt.apply(this,arguments)}function Yt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Jt={html:Ye(),json:JSON.parse(Xe()),text:et()},Xt=(0,a.defaultProps)({readOnly:!0})(ht.tM),Qt=(0,i.connect)((0,l.P1)([gt.Od],(function(e){return{zoom:e.zoom,projection:e.projection}})))(Q.Z),en=(0,i.connect)((0,l.P1)([Y.c0],(function(e){return{enable3dStyleOptions:e}})))((function(e){var t=e.element,n=e.enable3dStyleOptions,r=e.fonts,o=void 0===r?["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"]:r,i=e.onUpdateNode,a=void 0===i?function(){}:i,l=vt[null==t?void 0:t.type],u=ft((0,y.useState)(!1),2),c=u[0],s=u[1],f=(0,y.useRef)(),p=ft((0,y.useState)(),2),d=p[0],b=p[1];function v(){b(null),a(t.id,"layers",{style:(0,at.uo)(t)})}var g=(0,y.useRef)();(0,y.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,y.useEffect)((function(){!c&&l&&(s(!0),(l?l(t):Promise.resolve(t)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.properties,r=e.format,o=e.geometryType;return mt(mt({},t),{},{properties:mt(mt({},n),t.properties),format:r||t.format,geometryType:o||t.geometryType})})).then((function(e){return(0,lt.layerToGeoStylerStyle)(e).then((function(t){return mt(mt({},e),{},{style:t})}))})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.properties,r=e.format,o=e.geometryType,i=e.style;if(g.current){var l=null!=i&&i.body?i:(0,at.uo)(t);f.current=l,b(null),a(t.id,"layers",{properties:n,format:r,geometryType:o,style:l}),s(!1)}})).catch((function(){g.current&&s(!1)})))}),[t.id,l]);var h=f.current||{},O=h.format,E=h.metadata,S=h.body,P=E||{},w=P.editorType,j=P.styleJSON;return m().createElement(rt.T,{canEdit:!0,code:!c&&S,error:d,editorType:w||"textarea",editors:bt,format:O,attributes:(0,at.g5)(t),mode:(0,at.H$)(O),geometryType:(0,at.wc)(t),defaultStyleJSON:j?JSON.parse(j):null,onUpdateMetadata:function(e){var n;f.current=mt(mt({},f.current),{},{metadata:mt(mt({},null===(n=f.current)||void 0===n?void 0:n.metadata),e)}),a(null==t?void 0:t.id,"layers",{style:mt({},f.current)})},onChange:function(e){var n,r=null==f||null===(n=f.current)||void 0===n?void 0:n.format,o=at.Yt[r]&&at.Yt[r](e,t);return o?b(o):(e?(b(null),f.current=mt(mt({},f.current),{},{body:e}),a(null==t?void 0:t.id,"layers",{style:mt({},f.current)})):v(),null)},onError:function(e){null!=e&&e.isEmpty&&v(),"SyntaxError"===e.name&&b(e)},exactMatchGeometrySymbol:!0,enable3dStyleOptions:n,config:{simple:!0,fonts:o}})})),tn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).settings;return"layers"===(void 0===e?{}:e).nodeType},nn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element,t=void 0===e?{}:e;return"wfs"===t.type||"3dtiles"===t.type||"vector"===t.type&&"annotations"!==t.id},rn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element;return"wms"===(void 0===e?{}:e).type},on=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element;return"wfs"===(void 0===e?{}:e).type},an=function(e){return tn(e)&&(rn(e)||nn(e))},ln={HIDDEN:{titleId:"layerProperties.hideFormatTitle",descId:"layerProperties.hideFormatDescription",glyph:"hide-marker"},TEXT:{titleId:"layerProperties.textFormatTitle",descId:"layerProperties.textFormatDescription",glyph:"ext-txt",body:function(){return m().createElement("div",null,m().createElement("div",null,m().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),m().createElement("br",null),m().createElement($.Z,{response:Jt.text}))}},HTML:{titleId:"layerProperties.htmlFormatTitle",descId:"layerProperties.htmlFormatDescription",glyph:"ext-html",body:function(){return m().createElement("div",null,m().createElement("div",null,m().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),m().createElement("br",null),m().createElement(V.Z,{response:Jt.html}))}},PROPERTIES:{titleId:"layerProperties.propertiesFormatTitle",descId:"layerProperties.propertiesFormatDescription",glyph:"ext-json",body:function(){return m().createElement("div",null,m().createElement("div",null,m().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),m().createElement("br",null),m().createElement(H.Z,{response:Jt.json}))}},TEMPLATE:{titleId:"layerProperties.templateFormatTitle",descId:"layerProperties.templateFormatDescription",glyph:"ext-empty",body:function(e){var t=e.template,n=void 0===t?"":t,r=Yt(e,Gt);return m().createElement("div",null,m().createElement("div",null,n&&"<p><br></p>"!==n?m().createElement(j.Z,{msgId:"layerProperties.templatePreview"}):null),m().createElement("br",null),m().createElement("div",null,n&&"<p><br></p>"!==n?m().createElement(K.Z,{html:n}):m().createElement("span",null,m().createElement("p",null,m().createElement(j.Z,{msgId:"layerProperties.templateFormatInfoAlert2",msgParams:{attribute:"{ }"}})),m().createElement("pre",null,m().createElement(U.Z,{msgId:"layerProperties.templateFormatInfoAlertExample"})),m().createElement("p",null,m().createElement("small",null,m().createElement(j.Z,{msgId:"layerProperties.templateFormatInfoAlert1"}))," ( ",m().createElement(d.Glyphicon,{glyph:"pencil"})," )")),m().createElement($e,Kt({template:n},r))))}}},un=(0,a.defaultProps)({formatCards:ln,defaultInfoFormat:Object.assign({HIDDEN:"text/html"},(0,J.eq)())})(Zt),cn={},sn=function(e,t,n){if(e){var r=cn[e.name];return r||(r=(0,Z.KB)(e,t,n))&&r.loaded&&(cn[e.name]=r),r}return e},fn=function(e){var t=e.settings,n=e.items,r=void 0===n?[]:n,o=e.loadedPlugins,i=e.onToggleStyleEditor,l=void 0===i?function(){}:i,u=e.onUpdateParams,c=void 0===u?function(){}:u,s=e.element,f=Yt(e,qt);if(nn({element:s}))return{Component:en};var p,y=z()(q()((p=r,function(e){if(Array.isArray(e))return Ht(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),{target:"style"}),["priority"]).filter((function(e){var t=e.selector;return!t||t(Vt(Vt({},f),{},{element:s}))})),d=O()(q()(y,{name:"ThematicLayer"}));if(d){var b=t&&t.options&&t.options.thematic,v=[{glyph:"list",tooltipId:"toc.thematic.classify",visible:f.isAdmin&&!b||!1,onClick:function(){return c({thematic:{unconfigured:!0}})}},{glyph:"trash",tooltipId:"toc.thematic.remove_thematic",visible:f.isAdmin&&b||!1,onClick:function(){return c({thematic:null})}}];return b?{Component:"style"===f.activeTab&&d.plugin&&sn(d,o,m().createElement(He.Z,{width:100,height:100})),toolbar:v}:{toolbar:v}}var g=O()(y);if(g&&g.plugin){var h=g.cfg||g.plugin.cfg;return{onClose:function(){return l(null,!1)},Component:sn(Vt(Vt({},g),{},{cfg:Vt(Vt({},h||{}),{},{active:!0})}),o,m().createElement(He.Z,{width:100,height:100})),toolbarComponent:g.ToolbarComponent&&(h&&(0,a.defaultProps)(h)(g.ToolbarComponent)||g.ToolbarComponent)}}return{}};const pn=function(e){var t=e.showFeatureInfoTab,n=void 0===t||t,r=e.loadedPlugins,o=e.items,i=e.onToggleStyleEditor,a=Yt(e,Wt);return[{id:"general",titleId:"layerProperties.general",tooltipId:"layerProperties.general",glyph:"wrench",visible:!0,Component:X.Z},{id:"display",titleId:"layerProperties.display",tooltipId:"layerProperties.display",glyph:"eye-open",visible:tn(a),Component:Qt},Vt({id:"style",titleId:"layerProperties.style",tooltipId:"layerProperties.style",glyph:"dropper",visible:an(a),Component:Xt},fn(Vt({items:o,loadedPlugins:r,onToggleStyleEditor:i},a))),{id:"feature",titleId:"layerProperties.featureInfo",tooltipId:"layerProperties.featureInfo",glyph:"map-marker",visible:n&&tn(a)&&(rn(a)||on(a))&&!(a.element.featureInfo&&a.element.featureInfo.viewer),Component:un,toolbar:[{glyph:"pencil",tooltipId:"layerProperties.editCustomFormat",visible:!a.showEditor&&a.element&&a.element.featureInfo&&"TEMPLATE"===a.element.featureInfo.format||!1,onClick:function(){return a.onShowEditor&&a.onShowEditor(!a.showEditor)}}]},{id:"elevation",titleId:"layerProperties.elevation",tooltipId:"layerProperties.elevation",glyph:"1-vector",visible:tn(a)&&rn(a)&&a.element.dimensions&&a.getDimension&&a.getDimension(a.element.dimensions,"elevation"),Component:De}].filter((function(e){return e.visible}))};var yn=(0,l.P1)([_.jN,_.l2,_.Bt,M.Pz,M.KV,function(e){return(0,F.ic)(e,{height:!0})},B.qg,D.Gd,D.tL,D.R4,_.Ci,k.wk,Y.c0],(function(e,t,n,r,o,i,a,l,u,c,s,f,p){return{settings:e,element:s,groups:n,currentLocale:r,currentLocaleLanguage:o,dockStyle:i,isAdmin:a,initialSettings:l,originalSettings:u,activeTab:c,isLocalizedLayerStylesEnabled:f,isCesiumActive:p}})),mn=(0,a.compose)((0,i.connect)(yn,{onHideSettings:s.sF,onUpdateSettings:s.VP,onUpdateNode:s.tV,onRetrieveLayerData:c.k,onUpdateOriginalSettings:u.Xg.bind(null,"layersettings","originalSettings"),onUpdateInitialSettings:u.Xg.bind(null,"layersettings","initialSettings"),onSetTab:u.Xg.bind(null,"layersettings","activeTab"),onUpdateParams:s.Xy,onToggleStyleEditor:f.Wv}),p.bR,(0,a.defaultProps)({getDimension:N.Fr,enableLayerNameEditFeedback:!0}),(0,a.getContext)({loadedPlugins:o().object}),(0,a.withPropsOnChange)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).items;return(void 0===e?[]:e)!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).items}),(function(e){return{tabs:pn(e)}})))(A);const dn=(0,Z.rx)("TOCItemsSettings",{component:mn,containers:{TOC:{doNotHide:!0,name:"TOCItemsSettings"}}})},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>f,Yf:()=>p,c3:()=>y,fY:()=>m});var r=n(218721),o=n.n(r),i=n(227361),a=n.n(i),l=n(313311),u=n.n(l),c=n(22222),s=n(308316),f=function(e){return o()(e,"localConfig.localizedLayerStyles")},p=function(e){var t=a()(e,"localConfig.plugins.dashboard",[]),n=u()(t,(function(e){return"DashboardEditor"===e.name}))||{};return a()(n,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return a()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},m=(0,c.P1)(f,y,s.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},55105:(e,t,n)=>{"use strict";n.d(t,{Ss:()=>m,Nr:()=>d,ic:()=>v,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>E});var r=n(91175),o=n.n(r),i=n(288306),a=n.n(i),l=n(800827),u=n(552259),c=n(737275);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){return e.maplayout&&e.maplayout.layout||{}},d=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},b=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},v=a()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(e),o=b(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},y({},t,n&&null!==(i=o[t])&&void 0!==i?i:r[t]))}),{})||{}}),(function(e,t,n){return JSON.stringify(m(e))+JSON.stringify(b(e))+JSON.stringify(t)+(n?"_isDock":"")})),g=function(e){var t;return!(null===(t=m(e))||void 0===t||!t.rightPanel)},h=function(e){var t,n=c.ZP.getConfigProp("mapLayout")||u.DEFAULT_MAP_LAYOUT;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=m(e);return!!o()(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==n?void 0:n.bottom.sm)&&void 0!==t?t:0,type:"not"}])},O=function(e){var t=(0,l.Od)(e),n=d(e);return n&&t&&t.size&&{left:(0,u.parseLayoutValue)(n.left,t.size.width),bottom:(0,u.parseLayoutValue)(n.bottom,t.size.height),right:(0,u.parseLayoutValue)(n.right,t.size.width),top:(0,u.parseLayoutValue)(n.top,t.size.height)}},E=function(e){var t,n;return null!==(t=null==e||null===(n=e.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==t?t:{left:[],right:[]}}},274621:(e,t,n)=>{"use strict";n.d(t,{np:()=>r,L3:()=>o,jl:()=>i,y8:()=>a,qg:()=>l}),n(727418),n(227361);var r=function(e){return e&&e.security&&e.security.user},o=function(e){return r(e)&&r(e).role},i=function(e){return e&&e.security&&e.security.user},a=function(e){return e.security&&e.security.token},l=function(e){return"ADMIN"===o(e)}},79909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(923645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".msgapi #mapstore-elevation {\n    width: 100%;\n    /*margin-top: -46px;*/\n    height: 80px;\n    padding: 0 5px;\n}\n\n.msgapi label#mapstore-elevation-label {\n    margin-top: 10px;\n}\n\n.msgapi .custom-tooltip {\n    width: auto;\n    margin: 0;\n    line-height: 24px;\n    border: 1px solid #C1C1C1;\n    background-color: rgba(255, 255, 255, 0.8);\n    padding: 5px;\n}\n.msgapi .custom-tooltip  .label {\n  margin: 0;\n  color: #82CA9D;\n  font-weight: bold;\n  font-size: 16px;\n}\n",""]);const i=o},712485:e=>{e.exports='<html>\n  <head>\n    <title>Geoserver GetFeatureInfo output</title>\n  </head>\n    <style type="text/css">\n    \ttable.featureInfo, table.featureInfo td, table.featureInfo th {\n    \t\tborder:1px solid #ddd;\n    \t\tborder-collapse:collapse;\n    \t\tmargin:0;\n    \t\tpadding:0;\n    \t\tfont-size: 90%;\n    \t\tpadding:.2em .1em;\n    \t}\n    \ttable.featureInfo th {\n    \t    padding:.2em .2em;\n    \t\tfont-weight:bold;\n    \t\tbackground:#eee;\n    \t}\n    \ttable.featureInfo td{\n    \t\tbackground:#fff;\n    \t}\n    \ttable.featureInfo tr.odd td{\n    \t\tbackground:#eee;\n    \t}\n    \ttable.featureInfo caption{\n    \t\ttext-align:left;\n    \t\tfont-size:100%;\n    \t\tfont-weight:bold;\n    \t\tpadding:.2em .2em;\n    \t}\n    </style>\n  <body>\n    <table class="featureInfo">\n      <caption class="featureInfo">states</caption>\n      <tr>\n        <th>fid</th>\n          <th >STATE_NAME</th>\n          <th >STATE_FIPS</th>\n          <th >SUB_REGION</th>\n          <th >STATE_ABBR</th>\n          <th >LAND_KM</th>\n      </tr>\n      <tr>\n        <td>states.29</td>\n        <td>Wyoming</td>\n        <td>56</td>\n        <td>Mtn</td>\n        <td>WY</td>\n        <td>251500.801</td>\n      </tr>\n    </table>\n    <br/>\n  </body>\n</html>'},120135:e=>{e.exports='{\n  "type": "FeatureCollection",\n  "totalFeatures": "unknown",\n  "features": [\n      {\n    "type": "Feature",\n    "id": "states.29",\n    "geometry": {\n      "type": "MultiPolygon",\n      "coordinates": [\n        [\n          [\n            [-1.15831389980175E7, 5115884.78673627],\n            [-1.158334883525764E7, 5095927.61163692],\n            [-1.158318319185534E7, 5069757.00399456],\n            [-1.158292671174856E7, 5012817.65726345],\n            [-1.168119588467766E7, 5011501.68893432],\n            [-1.171952218348237E7, 5011805.51696107],\n            [-1.182245230349099E7, 5012358.03633596],\n            [-1.183643948618967E7, 5012535.77548496],\n            [-1.189613934986567E7, 5012118.79424704],\n            [-1.194496385588862E7, 5012366.44384074],\n            [-1.201338092624966E7, 5012844.6510808],\n            [-1.213912753436923E7, 5012116.58180143],\n            [-1.224530617975818E7, 5011994.45558498],\n            [-1.225209889508638E7, 5012037.8190659],\n            [-1.23620611786479E7, 5011845.33978484],\n            [-1.236213086464914E7, 5050542.48847943],\n            [-1.236206540878855E7, 5098070.44035716],\n            [-1.236180135895639E7, 5160419.97558219],\n            [-1.23615872915756E7, 5236675.5279452],\n            [-1.236185657342383E7, 5315010.76063796],\n            [-1.236166543785814E7, 5355424.25785557],\n            [-1.236158395199088E7, 5390784.55533999],\n            [-1.236198815306194E7, 5462754.83859328],\n            [-1.236211728367126E7, 5538995.97145504],\n            [-1.236212318360428E7, 5568867.31982516],\n            [-1.236232444924363E7, 5620854.95417318],\n            [-1.229288824894438E7, 5620316.91583206],\n            [-1.2288781895568E7, 5621314.94100872],\n            [-1.224456390139357E7, 5621970.64383454],\n            [-1.222273014174734E7, 5621455.36603028],\n            [-1.209203215399677E7, 5621150.43241323],\n            [-1.205128866376898E7, 5621546.67495262],\n            [-1.201067341359458E7, 5621492.04691732],\n            [-1.182865814246373E7, 5620919.18090556],\n            [-1.180215653392956E7, 5621084.9446589],\n            [-1.169794913408358E7, 5621495.03806919],\n            [-1.169313957548385E7, 5621693.24344854],\n            [-1.158383374295954E7, 5621104.15015297],\n            [-1.158379210946998E7, 5554761.48947335],\n            [-1.158396710370951E7, 5493626.06569343],\n            [-1.158382183177402E7, 5488039.68771347],\n            [-1.158379377926234E7, 5442710.58976854],\n            [-1.158361967557875E7, 5388962.94229949],\n            [-1.158375815702529E7, 5385191.61647555],\n            [-1.158342865133254E7, 5312442.79715209],\n            [-1.15834303211249E7, 5253508.54391938],\n            [-1.158312797738791E7, 5160957.12459852],\n            [-1.15831389980175E7, 5115884.78673627]\n          ]\n        ]\n      ]\n    },\n    "geometry_name": "the_geom",\n    "properties": {\n      "STATE_NAME": "Wyoming",\n      "STATE_FIPS": "56",\n      "SUB_REGION": "Mtn",\n      "STATE_ABBR": "WY",\n      "LAND_KM": 251500.801,\n      "WATER_KM": 1848.149,\n      "PERSONS": 453588,\n      "FAMILIES": 119825,\n      "HOUSHOLD": 168839,\n      "MALE": 227007,\n      "FEMALE": 226581,\n      "WORKERS": 164561,\n      "DRVALONE": 153679,\n      "CARPOOL": 28109,\n      "PUBTRANS": 2963,\n      "EMPLOYED": 207868,\n      "UNEMPLOY": 13112,\n      "SERVICE": 71419,\n      "MANUAL": 29157,\n      "P_MALE": 0.5,\n      "P_FEMALE": 0.5,\n      "SAMP_POP": 83202,\n      "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\n    }\n  }],\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::3857"\n    }\n  },\n  "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\n}'},769494:e=>{e.exports="Results for FeatureType 'http://www.openplans.org/topp:states':\n--------------------------------------------\nthe_geom = [GEOMETRY (Polygon) with 48 points]\nSTATE_NAME = Wyoming\nSTATE_FIPS = 56\nSUB_REGION = Mtn\nSTATE_ABBR = WY\nLAND_KM = 251500.801\nWATER_KM = 1848.149\nPERSONS = 453588.0\nFAMILIES = 119825.0\nHOUSHOLD = 168839.0\nMALE = 227007.0\nFEMALE = 226581.0\nWORKERS = 164561.0\nDRVALONE = 153679.0\nCARPOOL = 28109.0\nPUBTRANS = 2963.0\nEMPLOYED = 207868.0\nUNEMPLOY = 13112.0\nSERVICE = 71419.0\nMANUAL = 29157.0\nP_MALE = 0.5\nP_FEMALE = 0.5\nSAMP_POP = 83202.0\n--------------------------------------------"}}]);