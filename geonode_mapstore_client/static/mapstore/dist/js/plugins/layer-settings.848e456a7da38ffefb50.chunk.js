(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[43166],{580416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>l,OX:()=>a,sb:()=>u,K$:()=>c,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>y,oE:()=>d,Po:()=>m,qv:()=>v,cI:()=>b,g6:()=>g,I4:()=>h,l$:()=>O,Xv:()=>S,k3:()=>E,CQ:()=>P,R8:()=>j,HN:()=>w,sH:()=>L,c7:()=>A,_7:()=>R,eF:()=>C,O6:()=>T,ED:()=>x,RP:()=>D,sF:()=>I,VP:()=>_,He:()=>k,vO:()=>Z,WO:()=>N,bh:()=>M,MK:()=>B,ZF:()=>$,tV:()=>F,Dv:()=>U,Yz:()=>G,kI:()=>z,XG:()=>Y,A4:()=>H,Rp:()=>W,$o:()=>q,ct:()=>V,oh:()=>J,$h:()=>X,ud:()=>Q,Qr:()=>K,LR:()=>ee,nN:()=>te,UG:()=>re,c9:()=>ne,Xy:()=>oe});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",l="TOGGLE_NODE",a="SORT_NODE",u="REMOVE_NODE",c="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",y="LAYER_ERROR",d="ADD_LAYER",m="ADD_GROUP",v="REMOVE_LAYER",b="SHOW_SETTINGS",g="HIDE_SETTINGS",h="UPDATE_SETTINGS",O="REFRESH_LAYERS",S="LAYERS:UPDATE_LAYERS_DIMENSION",E="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",j="LAYERS:BROWSE_DATA",w="LAYERS:DOWNLOAD",L="LAYERS:CLEAR_LAYERS",A="LAYERS:SELECT_NODE",R="LAYERS:FILTER_LAYERS",C="LAYERS:SHOW_LAYER_METADATA",T="LAYERS:HIDE_LAYER_METADATA",x="LAYERS:UPDATE_SETTINGS_PARAMS";function D(e,t,r){return{type:b,node:e,nodeType:t,options:r}}function I(){return{type:g}}function _(e){return{type:h,options:e}}function k(e,t){return{type:n,newProperties:t,layer:e}}function Z(e,t){return{type:o,layer:e,params:t}}function N(e,t){return{type:i,newProperties:t,group:e}}function M(e,t,r){return{type:l,node:e,nodeType:t,status:!r}}function B(e,t){return{type:a,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function $(e,t){return{type:u,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function F(e,t,r){return{type:c,node:e,nodeType:t,options:r}}function U(e,t,r){return{type:s,node:e,groupId:t,index:r}}function G(e){return{type:f,layerId:e}}function z(e,t){return{type:p,layerId:e,error:t}}function Y(e,t,r){return{type:y,layerId:e,tilesCount:t,tilesErrorCount:r}}function H(e){return{type:d,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function W(e,t,r){return{type:m,group:e,parent:t,options:r,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function q(e){return{type:v,layerId:e}}function V(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function J(e){return{type:E,layers:e}}function X(e,t){return{type:P,layers:e,error:t}}function Q(e,t,r,n){return{type:S,dimension:e,value:t,options:r,layers:n}}function K(e){return{type:j,layer:e}}function ee(e){return{type:w,layer:e}}function te(){return{type:L}}function re(e,t,r){return{type:A,id:e,nodeType:t,ctrlKey:r}}function ne(e,t){return{type:C,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:x,newParams:e,update:t}}},362520:(e,t,r)=>{"use strict";r.d(t,{dn:()=>n,NS:()=>o,Kn:()=>i,FV:()=>l,Vd:()=>a,yS:()=>u});var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT",o="MAP_LAYOUT:UPDATE_DOCK_PANELS",i="MAP_LAYOUT:FORCE_UPDATE_MAP_LAYOUT";function l(e){return{type:n,layout:e}}function a(e){return{type:o,name:e,action:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",location:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right"}}function u(){return{type:i}}},501157:(e,t,r)=>{"use strict";r.d(t,{ID:()=>w,en:()=>L,Xv:()=>R,FU:()=>T,gs:()=>D,tt:()=>I,jY:()=>_,T6:()=>k,ZP:()=>Z});var n=r(472500),o=r.n(n),i=r(701469),l=r.n(i),a=r(984596),u=r.n(a),c=r(227361),s=r.n(c),f=r(505055),p=r.n(f),y=r(375875),d=r.n(y),m=r(737275),v=r(916651),b=r(577215);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==g(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={},j="1.3.0",w="1.1.1",L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{service:"WMS",version:j,request:"GetCapabilities"},r=arguments.length>2?arguments[2]:void 0,n=(l()(e)&&e||e.split(","))[0],i=o().parse(n,!0);return o().format(E(E({},i),{},{search:null,query:E(E(E({},t),i.query),(null==r?void 0:r.query)||{})}))},A=function(e){var t=e&&e.Title,r=e.LogoURL&&E(E({},s()(e,"LogoURL.$")||{}),{},{format:s()(e,"LogoURL.Format")}),n=s()(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:r,imageUrl:s()(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:n}},R=function e(t){var r,n,o=null!==(r=null==t?void 0:t.Layer)&&void 0!==r?r:null==t?void 0:t.layer,i=null!==(n=null==t?void 0:t.Name)&&void 0!==n?n:null==t?void 0:t.name;return o?u()(o).reduce((function(t,r){var n,o,i=null!==(n=r.Layer)&&void 0!==n?n:r.layer,l=null!==(o=r.Name)&&void 0!==o?o:r.name;return[].concat(h(t),h(e(r)),h(i&&l?[r]:[]))}),[]):i&&[t]||[]},C=function(){var e,t,r,n,o,i,a,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0,p=arguments.length>3?arguments[3]:void 0,y=c.Capability,d=c.Service,m=(a=y).Request&&a.Request.GetMap&&a.Request.GetMap.DCPType&&a.Request.GetMap.DCPType.HTTP&&a.Request.GetMap.DCPType.HTTP.Get&&a.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&a.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0,v=y.Layer&&(null===(e=y.Layer.SRS||y.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],b=y.Layer&&y.Layer.Attribution&&A(y.Layer.Attribution),g=u()((null==y||null===(t=y.Request)||void 0===t||null===(r=t.GetMap)||void 0===r?void 0:r.Format)||[]),h=u()((null==y||null===(n=y.Request)||void 0===n||null===(o=n.GetFeatureInfo)||void 0===o?void 0:o.Format)||[]),O=R(y),S=(l()(O)?O:[O]).filter((function(e){return!p||-1!==e.Name.toLowerCase().indexOf(p.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(p.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(p.toLowerCase())}));return{numberOfRecordsMatched:S.length,numberOfRecordsReturned:Math.min(f,S.length),nextRecord:s+Math.min(f,S.length)+1,service:d,layerOptions:{version:(null==c||null===(i=c.$)||void 0===i?void 0:i.version)||j},records:S.filter((function(e,t){return t>=s-1&&t<s-1+f})).map((function(e){return E(E({},e),{},{getMapFormats:g,getFeatureInfoFormats:h,onlineResource:m,SRS:v,credits:e.Attribution?A(e.Attribution):b})}))}},T=function(e){return d().get(L(e,{service:"WMS",version:j,request:"GetCapabilities"})).then((function(e){var t;return p().parseString(e.data,{explicitArray:!1},(function(e,r){t=r})),t.WMS_Capabilities||t.WMT_MS_Capabilities||{}}))},x=function(e,t,r,n){var o=P[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,m.u8)("cacheExpire")||60)?new Promise((function(e){e(C(o.data,t,r,n))})):T(e).then((function(o){return P[e]={timestamp:(new Date).getTime(),data:o},C(o,t,r,n)}))},D=function(e,t){return d().get(L(e,{service:"WMS",version:w,layers:t,request:"DescribeLayer"})).then((function(e){var t;return p().parseString(e.data,{explicitArray:!1},(function(e,r){t=r&&r.WMS_DescribeLayerResponse&&r.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return E(E({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:E({},e&&e.query&&e.query.$||{})})}))}))},I=function(e,t,r,n){return x(e,t,r,n)},_=function(e,t){for(var r=e,n=r.EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,v.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;!n&&r.Layer&&r.Layer.length;)n=(r=r.Layer[0]).EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,v.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;n||(n={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[n.westBoundLongitude||n.minx,n.southBoundLatitude||n.miny,n.eastBoundLongitude||n.maxx,n.northBoundLatitude||n.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return T(e).then((function(e){var r,n,o,i,l=e.Capability,a=u()((null==l||null===(r=l.Request)||void 0===r||null===(n=r.GetMap)||void 0===n?void 0:n.Format)||[]).filter(b.F0);return t?{imageFormats:a,infoFormats:u()((null==l||null===(o=l.Request)||void 0===o||null===(i=o.GetFeatureInfo)||void 0===i?void 0:i.Format)||[]).filter(b.cP)}:a})).catch((function(){return t?{imageFormats:[],infoFormats:[]}:[]}))};const Z={flatLayers:R,parseUrl:L,getDimensions:function(e){return u()(e.Dimension||e.dimension||[]).map((function(t,r){var n=e.Extent&&u()(e.Extent)[r]||e.extent&&u()(e.extent)[r];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||n&&n.$.default,values:t._&&t._.split(",")||n&&n._&&n._.split(",")}}))},getCapabilities:T,describeLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d().get(L(e,{service:"WMS",version:w,layers:t,request:"DescribeLayer"},r)).then((function(e){var t,r,n;p().parseString(e.data,{explicitArray:!1},(function(e,t){n=t}));var o=(null===(t=n)||void 0===t||null===(r=t.WMS_DescribeLayerResponse)||void 0===r?void 0:r.LayerDescription)&&u()(n.WMS_DescribeLayerResponse.LayerDescription)[0];return o&&E(E({},null==o?void 0:o.$),(null==o?void 0:o.Query)&&{query:u()(o.Query).map((function(e){return E({},null==e?void 0:e.$)}))})}))},getRecords:x,describeLayers:D,textSearch:I,parseLayerCapabilities:function(e,t){var r=e.Capability;return R(r).find((function(e){var r=e.Name;return 2===t.name.split(":").length&&r&&2===r.split(":").length?t.name===r&&e:r&&2===r.split(":").length?t.name===r.split(":")[1]&&e:2===t.name.split(":").length?t.name.split(":")[1]===r&&e:t.name===r&&e}))},getBBox:_,reset:function(){Object.keys(P).forEach((function(e){delete P[e]}))},getSupportedFormat:k}},710615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(124852),o=r.n(n),i=r(45697),l=r.n(i),a=r(480681),u=r(807654),c=r.n(u),s=r(414293),f=r.n(s),p=r(743129),y=r(993451),d=r(80717),m=r(145869),v=r(680833),b=r(805346),g=r(552259),h=["labelId"];function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==O(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=(0,y.Z)(["placeholder","noResultsText"])(p.ZP.Creatable),A=(0,y.Z)(["placeholder","noResultsText"])(p.ZP);function R(e){var t,r=e.label,n=e.showArrow,i=e.limitsType;return o().createElement("span",null,(t=r,"scale"===i?"1 : "+Math.round(t):t),n&&o().createElement(o().Fragment,null," ",o().createElement(a.gG,{glyph:"arrow-left"})))}function C(e){var t=e.id,r=e.value,n=e.placeholderId,i=e.noResultsTextId,l=e.createTextId,a=e.options,u=e.isValidNewOption,s=void 0===u?function(){return!0}:u,f=e.onChange,p=void 0===f?function(){}:f,y=e.disabled,d=e.loading;return o().createElement(L,{inputProps:{id:t},placeholder:n,noResultsText:i,value:r,isLoading:d,options:a,disabled:y,optionRenderer:R,valueRenderer:R,promptTextCreator:function(e){return o().createElement(b.Z,{msgId:l,msgParams:{label:e}})},isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!c()(t)&&s(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);p(c()(t)?void 0:w(w({},e),{},{value:t}))}})}function T(e){var t=e.title,r=e.layer,i=e.zoom,l=e.projection,u=e.resolutions,c=void 0===u?(0,g.MR)():u,s=e.defaultLimitsType,p=e.limitsTypesOptions,y=e.dpi,O=e.onChange,j=Math.round(i||0),L=S((0,n.useState)(s||p[0].value),2),R=L[0],T=L[1],x=r.maxResolution,D=r.minResolution,I=r.disableResolutionLimits,_=(0,g.Vj)(y,l);function k(e,t){var r,n=e.map((function(e){return e[R]}));return f()(t[R])||-1!==n.indexOf(t[R])?e:[t].concat((r=e,function(e){if(Array.isArray(e))return P(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||E(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e[R]>t[R]?-1:1}))}function Z(e,t){return(0,g.ed)(e,t,{projection:l,resolutions:c})}var N=S((0,n.useState)([]),2),M=N[0],B=N[1],$=S((0,n.useState)(x&&{resolution:x,scale:x*_,zoom:(0,g.Pl)(x,c)}),2),F=$[0],U=$[1],G=S((0,n.useState)(D&&{resolution:D,scale:D*_,zoom:(0,g.Pl)(D,c)}),2),z=G[0],Y=G[1],H=S((0,n.useState)(!1),2),W=H[0],q=H[1],V=S((0,n.useState)(),2),J=V[0],X=V[1],Q=S((0,n.useState)(),2),K=Q[0],ee=Q[1],te=(0,n.useRef)();function re(){ee(void 0),X(void 0)}(0,n.useEffect)((function(){return te.current=!0,function(){te.current=!1}}),[]);var ne=c.join(",");return(0,n.useEffect)((function(){var e=D&&{resolution:D,scale:D*_,zoom:(0,g.Pl)(D,c)},t=x&&{resolution:x,scale:x*_,zoom:(0,g.Pl)(x,c)},r=[e,t].filter((function(e){return e})).reduce(k,c.map((function(e,t){return{resolution:e,scale:e*_,zoom:t}})));U(t),Y(e),B(r),re()}),[_,ne]),o().createElement("div",{className:"ms-visibility-limits-form"},o().createElement("div",{className:"ms-visibility-limits-form-title",style:{display:"flex",alignItems:"center"}},o().createElement("div",{style:{flex:1}},t),o().createElement(d.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"refresh",disabled:!(!I&&!W),visible:"wms"===r.type,onClick:function(){"wms"!==r.type||W||(q(!0),re(),(0,v.kB)(r).toPromise().then((function(e){if(te.current){var t,r,n=e.MaxScaleDenominator,o=e.MinScaleDenominator,i=!f()(n)&&Z(n,"scale"),l=!f()(o)&&Z(o,"scale");(function(e,t){var r,n,o=(r=e,n=t,f()(r)&&f()(n)?"layerProperties.visibilityLimits.serverValuesUpdateUndefined":f()(r)&&!f()(n)?"layerProperties.visibilityLimits.serverValuesUpdateMinScale":!f()(r)&&f()(n)?"layerProperties.visibilityLimits.serverValuesUpdateMaxScale":"layerProperties.visibilityLimits.serverValuesUpdate");X(o)})(n,o),l&&Y(l),i&&U(i),O(w(w({},i&&{maxResolution:i.resolution}),l&&{minResolution:l.resolution}));var a=(null===(t=l||z)||void 0===t?void 0:t.resolution)||-1/0;((null===(r=i||F)||void 0===r?void 0:r.resolution)||1/0)<a&&ee("layerProperties.visibilityLimits.rangeError"),q(!1)}})).catch((function(){te.current&&(q(!1),ee("layerProperties.visibilityLimits.serverValuesError"))})))},tooltipId:"layerProperties.visibilityLimits.updateWMSCapabilities"},{Element:function(){return o().createElement(m.Z,{checked:!I,onClick:function(){O({disableResolutionLimits:!I}),re()}})}}]})),o().createElement("label",{htmlFor:"ms-visibility-limits-max"},o().createElement(b.Z,{msgId:"layerProperties.visibilityLimits.maxValue"})),o().createElement(C,{id:"ms-visibility-limits-max",value:(null==F?void 0:F[R])&&{value:F[R],label:F[R],zoom:F.zoom,limitsType:R},placeholderId:"layerProperties.visibilityLimits.maxValuePlaceholder",noResultsTextId:"layerProperties.visibilityLimits.valueNoResultsText",createTextId:"layerProperties.visibilityLimits.createOption",loading:W,isValidNewOption:function(e){return e>=((null==z?void 0:z[R])||0)},options:M.map((function(e){return w(w({},e),{},{value:e[R]+(e.delta||0),label:e[R],showArrow:e.zoom===j,disabled:!f()(null==z?void 0:z[R])&&e[R]<=z[R],limitsType:R})})),disabled:I||W,onChange:function(e){var t=void 0===e.value?{}:f()(e.zoom)?Z(e.value,R):{resolution:e.resolution,scale:e.scale,zoom:e.zoom};if(O({maxResolution:t.resolution}),U(t),void 0!==e.value&&f()(e.zoom)){var r=k(M,t);B(r)}re()}}),o().createElement("label",{htmlFor:"ms-visibility-limits-min"},o().createElement(b.Z,{msgId:"layerProperties.visibilityLimits.minValue"})),o().createElement(C,{id:"ms-visibility-limits-min",value:(null==z?void 0:z[R])&&{value:z[R],label:z[R],zoom:z.zoom,limitsType:R},placeholderId:"layerProperties.visibilityLimits.minValuePlaceholder",noResultsTextId:"layerProperties.visibilityLimits.valueNoResultsText",createTextId:"layerProperties.visibilityLimits.createOption",loading:W,isValidNewOption:function(e){return e<=((null==F?void 0:F[R])||1/0)},options:M.map((function(e){return w(w({},e),{},{value:e[R],label:e[R],showArrow:e.zoom===j,disabled:!f()(null==F?void 0:F[R])&&e[R]>=F[R],limitsType:R})})),disabled:I||W,onChange:function(e){var t=void 0===e.value?{}:f()(e.zoom)?Z(e.value,R):{resolution:e.resolution,scale:e.scale,zoom:e.zoom};if(O({minResolution:t.resolution}),Y(t),void 0!==e.value&&f()(e.zoom)){var r=k(M,t);B(r)}re()}}),o().createElement("label",{htmlFor:"ms-visibility-limits-type"},o().createElement(b.Z,{msgId:"layerProperties.visibilityLimits.type"})),o().createElement(A,{inputProps:{id:"ms-visibility-limits-type"},value:R,clearable:!1,options:p.map((function(e){var t=e.labelId;return w(w({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h)),t&&{label:o().createElement(b.Z,{msgId:t})})})),disabled:I||W,onChange:function(e){var t=e.value;T(t),re()}}),J&&o().createElement(a.bZ,{bsStyle:"success"},o().createElement(b.Z,{msgId:J})),K&&o().createElement(a.bZ,{bsStyle:"danger"},o().createElement(b.Z,{msgId:K})))}T.propTypes={layer:l().object,zoom:l().number,onChange:l().func,resolutions:l().array,limitsTypesOptions:l().array,projection:l().string,dpi:l().number,defaultLimitsType:l().string},T.defaultProps={layer:{},onChange:function(){},limitsTypesOptions:[{value:"scale",labelId:"layerProperties.visibilityLimits.scale"},{value:"resolution",labelId:"layerProperties.visibilityLimits.resolution"}],dpi:g.$v};const x=T},352595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(461365).Z)(r(480681).aV)},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(86638),o=r(285547),i=r(45697),l=r.n(i),a=r(984596),u=r.n(a),c=r(701469),s=r.n(c),f=r(414293),p=r.n(f),y=r(747037),d=r.n(y),m=r(867076),v=["messages","locale"];function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){var n;return n=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==b(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"msgId";return(0,m.compose)((0,m.getContext)({messages:l().object,locale:l().string}),(0,m.mapProps)((function(i){var l=i.messages,a=i.locale,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(i,v);return h(h({},c),u()(e).reduce(function(e,t,r){var i=t.messages,l=t.locale,a=t.mode;return function(){var t=arguments.length>1?arguments[1]:void 0;return h(h({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},O({},t,"msgId"===a?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(t))return t.map((function(o){var i=(0,n.S$)(e,o[r]||d()(o)&&o||"");return h(h({},o),{},O({},r,p()(i)?t:i))}));var o=t?(0,n.S$)(e,t):t;return p()(o)?t:o}(i,e[t],r):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(e))return e.map((function(n){var i=(0,o.Z)(n[r]||d()(n)&&n||"",t);return h(h({},n),{},O({},r,p()(i)?e:i))}));var n=(0,o.Z)(e,t);return p()(n)?e:n}(e[t],l,r)))}}(c,{locale:a,messages:l,mode:r},t),{}))})))}},145869:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(124852),o=r.n(n),i=r(45697),l=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t=f(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&u(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);y(m,"propTypes",{disabled:l().bool,className:l().string,checked:l().bool,onChange:l().func,onClick:l().func}),y(m,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const v=m},202576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(124852),o=r.n(n),i=r(180307),l=r.n(i),a=r(45697),u=r.n(a),c=r(480681),s=r(352595),f=r(950966);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t,r){return t=v(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"renderPopover",value:function(){return o().createElement(c.J2,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title,style:this.props.popoverStyle},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(c.gG,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(f.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return l().findDOMNode(e.target)}},this.renderPopover())])}}])&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);g(O,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool]),popoverStyle:u().object}),g(O,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const S=O},680833:(e,t,r)=>{"use strict";r.d(t,{kB:()=>b,HI:()=>g});var n=r(472500),o=r.n(n),i=(r(91175),r(490173)),l=r(49977),a=r(501157),u=r(375875),c=r.n(u),s=(r(916651),r(624262)),f=r(510284),p=r(233044),y=r(611847);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==d(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i.default;var b=function(e){return l.Observable.defer((function(){return a.ZP.getCapabilities((0,s.Fh)(e))})).let(f.oB).map((function(t){return a.ZP.parseLayerCapabilities(t,e)}))},g=function(e){return function(e){return l.Observable.defer((function(){return c().get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,i=e.url,l=o().parse((0,y.eW)(n.url||i),!0);return o().format(v(v({},l),{},{search:void 0,query:v(v({},l.query),{},{service:"WMS",version:a.ID,layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(f.oB)}(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).owsURL;return v(v({},e),{},{params:{},search:t?{type:"wfs",url:(0,p.cleanAuthParamsFromURL)(t)}:void 0})}))}},735563:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var n=r(472500),o=r.n(n),i=r(701469),l=r.n(i),a=r(414293),u=r.n(a),c=r(727418),s=r.n(c),f=r(45697),p=r.n(f),y=r(124852),d=r.n(y),m=r(233044),v=r(805346);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function h(e,t,r){return t=S(t),function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}var w=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return P(e=h(this,t,[].concat(n)),"state",{error:!1}),P(e,"onImgError",(function(){e.setState((function(){return{error:!0}}))})),P(e,"getScale",(function(e){if(e.scales&&void 0!==e.currentZoomLvl&&e.scaleDependent){var t,r=Math.round(e.currentZoomLvl),n=null!==(t=e.scales[r])&&void 0!==t?t:e.scales[e.scales.length-1];return Math.round(n)}return null})),P(e,"getUrl",(function(t,r){if(t.layer&&"wms"===t.layer.type&&t.layer.url){var n=t.layer,i=u()(r)?l()(n.url)&&Math.floor(Math.random()*n.url.length):r,a=l()(n.url)?n.url[i]:n.url.replace(/[?].*$/g,""),c=o().parse(a),f=(0,m.clearNilValuesForParams)(n.params),p=e.getScale(t),y=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:t.legendHeight,width:t.legendWidth,layer:n.name,style:n.style||null,version:n.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:t.legendOptions},n.legendParams||{},t.language&&n.localizedLayerStyles?{LANGUAGE:t.language}:{},(0,m.addAuthenticationToSLD)(f||{},t.layer),f&&f.SLD_BODY?{SLD_BODY:f.SLD_BODY}:{},null!==p?{SCALE:p}:{});return(0,m.addAuthenticationParameter)(a,y),o().format({host:c.host,protocol:c.protocol,pathname:c.pathname,query:y})}return""})),P(e,"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?d().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):d().createElement(v.Z,{msgId:"layerProperties.legenderror"})}}])&&g(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d().Component);P(w,"propTypes",{layer:p().object,legendHeight:p().number,legendWidth:p().number,legendOptions:p().string,style:p().object,currentZoomLvl:p().number,scales:p().array,scaleDependent:p().bool,language:p().string}),P(w,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const L=w},815430:(e,t,r)=>{"use strict";r.d(t,{Sk:()=>v,js:()=>b,gP:()=>g,BC:()=>O,fu:()=>E,EM:()=>j,HC:()=>L});var n=r(513218),o=r.n(n),i=r(227361),l=r.n(i),a=r(414293),u=r.n(a),c=r(624262),s=r(916651),f=r(91175),p=r.n(f);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==y(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={DESELECT:"DESELECT",GROUP:"GROUP",LAYER:"LAYER",BOTH:"BOTH",GROUPS:"GROUPS",LAYERS:"LAYERS"},b=function(e){var t,r,n,o;return!(1!==(null==e?void 0:e.length)||null==e||null===(t=e[0])||void 0===t||!t.nodes||(null==e||null===(r=e[0])||void 0===r?void 0:r.id)!==c.tE||!1===(null==e||null===(n=e[0])||void 0===n?void 0:n.visibility)||!0===(null==e||null===(o=e[0])||void 0===o?void 0:o.nodesMutuallyExclusive))},g=function(e){var t=e.label,r=RegExp("^/|/$|/{2,}");return!(!t||r.test(t))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" - ";switch(e){case"title":return(o()(t.title)?t.title[r]||t.title.default:t.title)||t.name||"";case"description":return t.description||"";case"both":var i=(o()(t.title)?t.title[r]||t.title.default:t.title)||t.nam||"",l=t.description||"";return"".concat(i).concat(n&&l?n:"").concat(l);default:return t[e]}},O=function(e){var t=e.node,r=e.currentLocale,n=e.tooltipOptions,o=void 0===n?{separator:" - ",maxLength:807}:n,i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" - ";return h(e.tooltipOptions,e,t,r)}(t,r,o.separator)||"";return(i=i&&i.substring(0,o.maxLength)).length===o.maxLength&&(i+="..."),{title:h("title",t,r,o.separator),tooltipText:i}},S=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return p()(r.filter((function(e){return e.label===t})))||r.reduce((function(r,n){return r||!!n.nodes&&e(t,n.nodes)}),void 0)},E=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[^\.\/]+/g,(function(t){var r=l()(S(t,e),"label");return e&&r||t}));return(t=t.replace(/\./g,"/")).replace(/\${dot}/g,".")},P=function(e){var t,r;return(null==e||null===(t=e.bbox)||void 0===t?void 0:t.crs)||(null==e||null===(r=e.sourceMetadata)||void 0===r?void 0:r.crs)},j=function(e){return"Error"===e.loadingError?{msgId:"toc.loadingerror"}:function(e){var t=P(e);return!!u()(t)||(0,s.isSRSAllowed)(t)}(e)?null:{msgId:"toc.sourceCRSNotCompatible",msgParams:{sourceCRS:P(e)}}},w=function e(t,r){return(null==r?void 0:r.id)===t?r:null==r?void 0:r.nodes.reduce((function(r,n){return null!==r?r:null!=n&&n.nodes?e(t,n):null}),null)},L=function(e,t,r){return e.map((function(e){var n=t.find((function(t){var r=t.id;return e===r}));if(n){var o=j(n);return{id:e,node:m(m({},n),{},{error:o}),type:c.$P.LAYER}}var i=w(e,{nodes:r});return i?{id:e,node:i,type:c.$P.GROUP}:null})).filter((function(e){return!!e}))}},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>d,Nr:()=>m,QJ:()=>v,ic:()=>b,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>S,Fc:()=>E,gQ:()=>P});var n=r(91175),o=r.n(n),i=r(288306),l=r.n(i),a=r(800827),u=r(552259),c=r(737275);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==s(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e.maplayout&&e.maplayout.layout||{}},m=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},v=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},b=l()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=d(e),o=v(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},y({},t,r&&null!==(i=o[t])&&void 0!==i?i:n[t]))}),{})||{}}),(function(e,t,r){return JSON.stringify(d(e))+JSON.stringify(v(e))+JSON.stringify(t)+(r?"_isDock":"")})),g=function(e){var t;return!(null===(t=d(e))||void 0===t||!t.rightPanel)},h=function(e){var t,r=c.ZP.getConfigProp("mapLayout")||u.Ur;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=d(e);return!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==r?void 0:r.bottom.sm)&&void 0!==t?t:0,type:"not"}])},O=function(e){var t=(0,a.Od)(e),r=m(e);return r&&t&&t.size&&{left:(0,u.pb)(r.left,t.size.width),bottom:(0,u.pb)(r.bottom,t.size.height),right:(0,u.pb)(r.right,t.size.width),top:(0,u.pb)(r.top,t.size.height)}},S=function(e){var t,r;return null!==(t=null==e||null===(r=e.maplayout)||void 0===r?void 0:r.dockPanels)&&void 0!==t?t:{left:[],right:[]}},E=function(e){return b(e,{height:!0,right:!0},!0)},P=function(e){return b(e,{right:!0},!0)}},577215:(e,t,r)=>{"use strict";r.d(t,{VZ:()=>d,oL:()=>m,F0:()=>v,cP:()=>b,Br:()=>g,rD:()=>h});var n=r(944908),o=r.n(n),i=r(513218),l=r.n(i),a=r(984596),u=r.n(a),c=r(945402),s=r(916651);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==f(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=["image/png","image/gif","image/jpeg","image/png8","image/png; mode=8bit","image/png; mode=24bit","image/vnd.jpeg-png","image/vnd.jpeg-png8"],m=function(){return o()(Object.values((0,c.eq)()))},v=function(e){return d.includes(e)},b=function(e){return m().includes(e)},g=function(e){var t,r,n,o,i;return l()(e)?{capabilities:e,description:e.Abstract,boundingBox:null!=e&&e.EX_GeographicBoundingBox?{minx:null===(t=e.EX_GeographicBoundingBox)||void 0===t?void 0:t.westBoundLongitude,miny:null===(r=e.EX_GeographicBoundingBox)||void 0===r?void 0:r.southBoundLatitude,maxx:null===(n=e.EX_GeographicBoundingBox)||void 0===n?void 0:n.eastBoundLongitude,maxy:null===(o=e.EX_GeographicBoundingBox)||void 0===o?void 0:o.northBoundLatitude}:null==e||null===(i=e.LatLonBoundingBox)||void 0===i?void 0:i.$,availableStyles:(null==e?void 0:e.Style)&&u()(e.Style).map((function(e){return y(y(y({name:e.Name},e.Title&&{title:e.Title}),e.Abstract&&{_abstract:e.Abstract}),e.LegendURL&&{legendURL:u()(e.LegendURL).map((function(e){var t,r,n,o,i,l;return y({width:null!=e&&null!==(t=e.$)&&void 0!==t&&t.width?parseFloat(e.$.width):void 0,height:null!=e&&null!==(r=e.$)&&void 0!==r&&r.height?parseFloat(e.$.height):void 0,format:null==e?void 0:e.Format},(null==e||null===(n=e.OnlineResource)||void 0===n||null===(o=n.$)||void 0===o?void 0:o["xlink:type"])&&(null==e||null===(i=e.OnlineResource)||void 0===i||null===(l=i.$)||void 0===l?void 0:l["xlink:href"])&&{onlineResource:{type:e.OnlineResource.$["xlink:type"],href:e.OnlineResource.$["xlink:href"]}})}))})}))}:{}},h=function(e){var t=e.tileGrids,r=void 0===t?[]:t,n=e.projection,o=e.tileSize,i=void 0===o?256:o;return r.find((function(e){var t,r,o;return(0,s.normalizeSRS)(e.crs)===(0,s.normalizeSRS)(n)&&!(((null===(t=e.tileSizes)||void 0===t||null===(r=t[0])||void 0===r?void 0:r[0])||(null===(o=e.tileSize)||void 0===o?void 0:o[0]))!==i)}))}},632247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(124852);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const i=function(e,t){var r,i,l=function(){if("undefined"==typeof window)return t;try{var r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.log("Error to get item key “".concat(e,"”:"),r),t}},a=(r=(0,n.useState)(l),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(r,i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],c=a[1];return(0,n.useEffect)((function(){c(l())}),[]),(0,n.useEffect)((function(){var e=function(){c(l())};return window.addEventListener("localStorage",e),function(){window.removeEventListener("localStorage",e)}}),[]),[u,function(t){try{var r=t instanceof Function?t(u):t;c(r),window.localStorage.setItem(e,JSON.stringify(r)),window.dispatchEvent(new Event("localStorage"))}catch(t){console.log("Error “".concat(e,"”:"),t)}}]}},678833:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(598611),l=r.n(i),a=r(322843);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==u(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e){var t=e.items,r=e.loadedPlugins,i=e.loaderComponent,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=(0,n.useRef)({});c.current={items:t,loadedPlugins:r,loaderComponent:i};var p=l()(Object.keys(r||{}),","),y=(0,n.useMemo)((function(){return function(e){return f(e.items).sort((function(e,t){return e.position>t.position?1:-1})).map((function(t){return s(s({},t),{},{Component:t.Component||(0,a.KB)(t,e.loadedPlugins,e.loaderComponent||o().createElement("div",null))})}))||[]}(c.current)}),[p].concat(f(u)));return y}},720432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Fe});var n=r(124852),o=r.n(n),i=r(322843),l=r(171703),a=r(22222),u=r(441609),c=r.n(u),s=r(480681),f=r(303744),p=r(580416),y=r(675110),d=r(800827),m=r(308316),v=r(805346),b=r(55105),g=r(624262),h=r(45697),O=r.n(h),S=r(747037),E=r.n(S),P=r(513218),j=r.n(P),w=r(545578),L=r.n(w),A=r(743129),R=r(86638),C=r(815430);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){var n;return n=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==T(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t,r,n,i,l=e.node,a=e.allowNew,u=void 0!==a&&a,c=e.groups,s=e.currentLocale,f=e.onChange,p=u?A.ZP.Creatable:A.ZP,y=function(e){return(0,g.YQ)(e,s)},d=function(e,t){return(0,C.fu)(y(e),t)},m=c&&(0,g.yQ)(c),v=(t=c&&(0,g.yQ)(c,0,!0),r=(null==l?void 0:l.group)||"Default",n=t.find((function(e){return e.id===r}))||{},y(n.title));return o().createElement(p,{clearable:!1,key:"group-dropdown",options:L()([{value:"Default",label:"Default"}].concat((i=(m||(null==l?void 0:l.group)||[]).map((function(e){return j()(e)?D(D({},e),{},{label:d(e.label,m)}):{label:d(e,m),value:e}})),function(e){if(Array.isArray(e))return _(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),"value"),isValidNewOption:C.gP,newOptionCreator:function(e){var t=e.valueKey,r=e.label,n=e.labelKey;return I(I(I({},t,r.replace(/\./g,"${dot}").replace(/\//g,".")),n,r),"className","Select-create-option-placeholder")},value:{label:d(v,m),value:v},placeholder:d(v,m),onChange:function(e){var t=e.value;return f({group:t||"Default"})}})}function Z(e,t){var r,n,i=e.node,l=void 0===i?{}:i,a=e.nodeType,u=e.showTooltipOptions,c=void 0===u||u,f=e.onChange,p=void 0===f?function(){}:f,y=e.groups,d=e.currentLocale,m=[{value:"title",label:(0,R.S$)(t.messages,"layerProperties.tooltip.title")},{value:"description",label:(0,R.S$)(t.messages,"layerProperties.tooltip.description")},{value:"both",label:(0,R.S$)(t.messages,"layerProperties.tooltip.both")},{value:"none",label:(0,R.S$)(t.messages,"layerProperties.tooltip.none")}],b=[{value:"top",label:(0,R.S$)(t.messages,"layerProperties.tooltip.top")},{value:"right",label:(0,R.S$)(t.messages,"layerProperties.tooltip.right")},{value:"bottom",label:(0,R.S$)(t.messages,"layerProperties.tooltip.bottom")}],h=l||{},O=h.title,S=h.description,P=void 0===S?"":S,w=h.tooltipOptions,L=void 0===w?"title":w,C=h.tooltipPlacement,T=void 0===C?"top":C,x=E()(O)?O:null!==(r=null!==(n=(0,g.YQ)(O,d))&&void 0!==n?n:null==O?void 0:O.default)&&void 0!==r?r:"";return o().createElement(o().Fragment,null,o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"layerProperties.title"})),o().createElement(s.NI,{defaultValue:x,key:"title",type:"text",onBlur:function(e,t){var r="default"===e&&E()(l.title)?t.target.value:D(D({},j()(l.title)?l.title:{default:l.title||""}),{},I({},e,t.target.value));p({title:r})}.bind(null,"default")})),o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"layerProperties.description"})),o().createElement(s.NI,{defaultValue:P,key:"description",type:"text",onBlur:function(e){return p({description:e.target.value})}})),"layer"===a?o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"layerProperties.group"})),o().createElement(k,{node:l,onChange:p,groups:y,currentLocale:d})):null,c&&o().createElement(o().Fragment,null,o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.nodeTooltipContent"})),o().createElement(A.ZP,{clearable:!1,key:"tooltips-dropdown",options:m,value:m.find((function(e){return e.value===L})),onChange:function(e){var t=e.value;return p({tooltipOptions:t||"title"})}})),o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.nodeTooltipPlacement"})),o().createElement(A.ZP,{clearable:!1,key:"tooltips-placement-dropdown",options:b,value:b.find((function(e){return e.value===T})),onChange:function(e){var t=e.value;return p({tooltipPlacement:t||"top"})}}))))}Z.contextTypes={messages:O().object};const N=Z;function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const B=function(e){var t,r,i=e.expanded,l=e.title,a=e.children,u=e.onChange,c=(t=(0,n.useState)(i),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],p=c[1];return(0,n.useEffect)((function(){u&&u(f)}),[f]),o().createElement(o().Fragment,null,o().createElement("div",{className:"gn-layer-settings-section-title",onClick:function(){return p(!f)}},o().createElement(s.gG,{glyph:"".concat(f?"bottom":"next")})," ",l),f?a:null,o().createElement("hr",null))};var $=r(632247);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){var n;return n=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==F(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=r(974691),W=r.n(H),q=r(710615),V=r(794192);const J=function(e){var t=e.node,r=void 0===t?{}:t,n=e.resolutions,i=e.projection,l=e.onChange,a=void 0===l?function(){}:l,u=e.zoom,c=r.opacity,f=void 0===c?1:c;return o().createElement(o().Fragment,null,o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"opacity"})," %"),o().createElement(V.Z,{type:"number",min:0,max:100,name:"opacity",value:100*f,onChange:function(e){return a({opacity:W()(Math.round(e),0,100)/100})}})),o().createElement(s.cw,null,o().createElement(q.Z,{title:o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"layerProperties.visibilityLimits.title"})),layer:r,onChange:function(e){return a(e)},projection:i,resolutions:n,zoom:u})))};function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){var n;return n=function(e,t){if("object"!=X(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==X(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re=r(281763),ne=r.n(re),oe=r(202576),ie=r(501157),le=r(737275),ae=r(735563),ue=r(577215);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){var n;return n=function(e,t){if("object"!=ce(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ce(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var me=r(535721);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(this,arguments)}function ge(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==ve(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=e.canEdit,r=e.label,n=e.style,i=e.value,l=e.buttons,a=void 0===l?[]:l;return o().createElement("div",{style:Se({display:"flex",width:"100%",alignItems:"center"},n)},o().createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis"}},r),a.map((function(e){var r=e.Component,n=e.name;return o().createElement(r,{key:n,status:"LAYER",btnProps:{variant:"default",className:"",size:""},hide:!t,selectedStyle:i})})))}var Pe=r(678833),je=r(362520),we=r(226735);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=Le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Le(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ce={gnUpdateLayerSettingsMapLayout:function(e,t){return e.ofType(je.dn,p.cI).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.layers)||void 0===r||null===(n=r.settings)||void 0===n?void 0:n.expanded})).filter((function(e){return e.source!==we.O.PANEL})).map((function(e){var r=e.layout,n=(0,le.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}},o=(0,b.QJ)(t.getState()),i=(0,je.FV)(Re(Re(Re({},(0,b.Ss)(t.getState())),r),{},{left:n.left.sm,boundingMapRect:Re(Re({},(null==r?void 0:r.boundingMapRect)||{}),{},{left:n.left.sm}),boundingSideBarReact:Re(Re({},o),r.boundingSidebarRect)}));return Re(Re({},i),{},{source:we.O.PANEL})}))}};var Te=r(815135),xe=r(900012);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}var Ie=["node","onChange","style","selectedNodes","onClose","items"];function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}var Ze=(0,Te.Z)(f.Z),Ne={group:function(e){var t,r,n=e.node,i=e.onChange,l=e.groups,a=e.currentLocale,u=(t=(0,$.Z)("settings-section",{general:!0}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],s=u[1];return o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==c?void 0:c.general,onChange:function(e,t){s(G(G({},c),{},z({},e,t)))}.bind(null,"general")},o().createElement(N,{node:n,onChange:i,nodeType:"group",groups:l,currentLocale:a}))},baseLayer:function(e){var t,r,n=e.node,i=void 0===n?{}:n,l=e.resolutions,a=e.projection,u=e.onChange,c=void 0===u?function(){}:u,s=e.zoom,f=e.groups,p=void 0===f?[]:f,y=e.currentLocale,d=(t=(0,$.Z)("settings-section",{general:!0,visibility:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],b=d[1];function g(e,t){b(K(K({},m),{},ee({},e,t)))}return o().createElement(o().Fragment,null,o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==m?void 0:m.general,onChange:g.bind(null,"general")},o().createElement(N,{node:i,onChange:c,nodeType:"layer",groups:p,currentLocale:y})),o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==m?void 0:m.visibility,onChange:g.bind(null,"visibility")},o().createElement(J,{node:i,resolutions:l,projection:a,onChange:c,zoom:s})))},wms:function(e){var t,r=e.node,i=void 0===r?{}:r,l=e.resolutions,a=e.projection,u=e.onChange,c=void 0===u?function(){}:u,p=e.zoom,y=e.formats,d=e.isLocalizedLayerStylesEnabled,m=e.currentLocaleLanguage,b=e.groups,g=void 0===b?[]:b,h=e.currentLocale,O=e.styleSelectorComponent,S=i.singleTile,E=void 0!==S&&S,P=i.tiled,j=void 0===P||P,w=i.transparent,L=void 0===w||w,R=i.localizedLayerStyles,C=void 0!==R&&R,T=i.imageFormats,x=i.format,D=void 0===x?(0,le.u8)("defaultLayerFormat")||"image/png":x,I=i.url,_=i.legendOptions,k=void 0===_?{legendWidth:12,legendHeight:12}:_,Z=ye((0,n.useState)(),2),M=Z[0],F=Z[1],U=ye((0,$.Z)("settings-section",{general:!0,visibility:!1,style:!1,tiling:!1}),2),G=U[0],z=U[1];function Y(e,t){z(fe(fe({},G),{},pe({},e,t)))}var H=(0,n.useRef)();function q(e){return k&&k[e]&&parseInt(k[e],10)<12?"error":null}function X(){return"error"!==q("legendWidth")&&"error"!==q("legendHeight")&&ne()(k.legendHeight)&&ne()(k.legendWidth)}function Q(e){var t=e.target.value&&Math.round(e.target.value),r=e.target.name;c({legendOptions:fe(fe({},k),{},pe({},r,t>=12?t:""))})}return(0,n.useEffect)((function(){return H.current=!0,function(){H.current=!1}}),[]),o().createElement(o().Fragment,null,o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==G?void 0:G.general,onChange:Y.bind(null,"general")},o().createElement(N,{node:i,onChange:c,nodeType:"layer",groups:g,currentLocale:h})),o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==G?void 0:G.visibility,onChange:Y.bind(null,"visibility")},o().createElement(J,{node:i,resolutions:l,projection:a,onChange:c,zoom:p})),o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.styleSettings"}),expanded:null==G?void 0:G.style,onChange:Y.bind(null,"style")},O,o().createElement(s.cw,{validationState:q("legendWidth")},o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.legendWidth"})),o().createElement(V.Z,{value:k.legendWidth,name:"legendWidth",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:fe(fe({},k),{},{legendWidth:e&&W()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:Q})),o().createElement(s.cw,{validationState:q("legendHeight")},o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.legendHeight"})),o().createElement(V.Z,{value:k.legendHeight,name:"legendHeight",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:fe(fe({},k),{},{legendHeight:e&&W()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:Q})),o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.legendPreview"})),o().createElement("div",{style:{width:"100%",overflow:"auto"}},o().createElement(ae.Z,{style:{maxWidth:"none"},layer:i,legendHeight:X()&&k.legendHeight||void 0,legendWidth:X()&&k.legendWidth||void 0,language:d?m:void 0})))),o().createElement(B,{title:o().createElement(v.Z,{msgId:"gnviewer.tilingSettings"}),expanded:null==G?void 0:G.tiling,onChange:Y.bind(null,"tiling")},o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"layerProperties.format.title"})),o().createElement("div",{className:"ms-format-container"},o().createElement(A.ZP,{className:"format-select",key:"format-dropdown",clearable:!1,noResultsText:o().createElement(v.Z,{msgId:M?"layerProperties.format.loading":"layerProperties.format.noOption"}),isLoading:!!M,options:M?[]:(null!==(t=null!=y?y:T)&&void 0!==t?t:ue.VZ).map((function(e){return null!=e&&e.value?e:{value:e,label:e}})),value:D,onChange:function(e){var t=e.value;return c({format:t})}}),o().createElement(f.Z,{tooltipId:"layerProperties.format.refresh",className:"square-button-md no-border format-refresh",onClick:function(){return e=I,void(M||(F(!0),(0,ie.T6)(e).then((function(e){H.current&&(c({imageFormats:e}),F(!1))})).catch((function(){H.current&&F(!1)}))));var e},key:"format-refresh"},o().createElement(s.gG,{glyph:"refresh"})))),o().createElement(s.cw,null,o().createElement(s.J$,null,"Size"),o().createElement(A.ZP,{key:"wsm-layersize-dropdown",clearable:!1,options:[{value:256,label:256},{value:512,label:512}],value:(null==i?void 0:i.tileSize)||256,onChange:function(e){var t=e.value;return c({tileSize:t})}})),o().createElement(s.cw,null,o().createElement(s.XZ,{key:"transparent",checked:L,onChange:function(e){return c({transparent:e.target.checked})}},o().createElement(v.Z,{msgId:"layerProperties.transparent"})),o().createElement(s.XZ,{value:"tiled",key:"tiled",disabled:!!E,onChange:function(e){return c({tiled:e.target.checked})},checked:j},o().createElement(v.Z,{msgId:"layerProperties.cached"})),o().createElement(s.XZ,{key:"singleTile",value:"singleTile",checked:E,onChange:function(e){return c({singleTile:e.target.checked})}},o().createElement(v.Z,{msgId:"layerProperties.singleTile"})),d?o().createElement(s.XZ,{key:"localizedLayerStyles",value:"localizedLayerStyles","data-qa":"display-lacalized-layer-styles-option",checked:C,onChange:function(e){return c({localizedLayerStyles:e.target.checked})}},o().createElement(v.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.label"})," ",o().createElement(oe.Z,{text:o().createElement(v.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.tooltip"})})):null)))}},Me=(0,l.connect)((0,a.P1)([],(function(){return{}})),{})((function(e){var t,r,n,i,l,a,u,c,f,p,y,d,m,b,g,h=e.node,O=e.onChange,S=e.buttons,E=(d=((null==(r=h)||null===(n=r.extendedParams)||void 0===n||null===(i=n.mapLayer)||void 0===i||null===(l=i.extra_params)||void 0===l?void 0:l.styles)||[]).map((function(e){return Se(Se({},e),{},{canEdit:!0})})),m=(null==r||null===(a=r.extendedParams)||void 0===a||null===(u=a.mapLayer)||void 0===u||null===(c=u.dataset)||void 0===c?void 0:c.styles)||[],b=null==r||null===(f=r.extendedParams)||void 0===f||null===(p=f.mapLayer)||void 0===p||null===(y=p.dataset)||void 0===y?void 0:y.default_style,g=(null==r?void 0:r.availableStyles)||[],(0,me.CF)([].concat(ge(b?[b]:[]),ge(m),ge(d),ge(g))).map((function(e){return{value:e.name,label:e.title,canEdit:e.canEdit}}))),P=E.find((function(e){return e.value===h.style}))||{};return null!=h&&null!==(t=h.extendedParams)&&void 0!==t&&t.mapLayer?o().createElement(s.cw,null,o().createElement(s.J$,null,o().createElement(v.Z,{msgId:"gnviewer.style"})),o().createElement(A.ZP,{key:"style-selector",clearable:!1,options:E.map((function(e){var t=e.value,r=e.label,n=e.canEdit;return{value:t,label:o().createElement(Ee,{value:t,label:r,canEdit:n,buttons:S})}})),value:{value:h.style,label:o().createElement(Ee,be({},P,{style:{width:"calc(100% - 16px)"},buttons:S}))},onChange:function(e){var t=e.value;return O({style:t})}})):null})),Be=(0,l.connect)((0,a.P1)([y.Ci,d.Od,y.Bt,m.Pz,m.KV,function(e){return(0,b.ic)(e,{height:!0})},y.Ci],(function(e,t,r,n,o,i){return{node:e,zoom:null==t?void 0:t.zoom,projection:null==t?void 0:t.projection,groups:r,currentLocale:n,currentLocaleLanguage:o,style:i}})),{onChange:p.tV,onClose:p.sF})((function(e,t){var r=e.node,n=e.onChange,i=e.style,l=(e.selectedNodes,e.onClose),a=e.items,u=void 0===a?[]:a,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ie),p=t.loadedPlugins,y=(0,Pe.Z)({items:u,loadedPlugins:p});if(c()(r))return null;var d=!(null==r||!r.nodes),m=d?Ne.group:Ne[null==r?void 0:r.type]||Ne.baseLayer,v=(null==r?void 0:r.title)&&(0,g.YQ)(r.title,f.currentLocale)||r.name;function b(e){n(r.id,d?"groups":"layers",e)}return o().createElement("div",{className:"gn-layer-settings",style:i},o().createElement("div",{className:"gn-layer-settings-head"},o().createElement("div",{className:"gn-layer-settings-title"},v),o().createElement(Ze,{className:"square-button",onClick:function(){return l()}},o().createElement(s.gG,{glyph:"1-close"}))),o().createElement("div",{className:"gn-layer-settings-body"},o().createElement(m,ke({},f,{node:r,onChange:b,styleSelectorComponent:o().createElement(Me,ke({},f,{node:r,onChange:b,buttons:(y||[]).filter((function(e){return"style-button"===e.target}))}))}))))})),$e=(0,l.connect)((0,a.P1)([],(function(){return{}})),{onSettings:p.RP,onHideSettings:p.sF})((function(e){var t=e.status,r=e.statusTypes,n=e.nodeTypes,i=e.selectedNodes,l=e.onSettings,a=void 0===l?function(){}:l,u=e.onHideSettings,c=void 0===u?function(){}:u,f=((null==i?void 0:i[0])||{}).node;return t!==r.LAYER&&t!==r.GROUP||t===r.LAYER&&(0,xe.cO)(f)?null:o().createElement(Ze,{variant:"primary",className:"toc-toolbar-button",onClick:function(){return t===r.LAYER?a(f.id,n.LAYER,{opacity:parseFloat(void 0!==f.opacity?f.opacity:1)}):t===r.GROUP?a(f.id,n.GROUP,{}):c()},tooltipId:o().createElement(v.Z,{msgId:"toc.toolLayerSettingsTooltip"})},o().createElement(s.gG,{glyph:"wrench"}))}));const Fe=(0,i.rx)("LayerSettings",{component:Be,containers:{TOC:{target:"toolbar",Component:$e,position:5}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){var n,o,i,l;n=e,o=t,i=r[t],l=function(e,t){if("object"!=De(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==De(l)?l:l+"")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Ce),reducers:{}})},226735:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={PANEL:"PANEL"}},923645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},974691:(e,t,r)=>{var n=r(829750),o=r(14841);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=o(r))==r?r:0),void 0!==t&&(t=(t=o(t))==t?t:0),n(o(e),t,r)}},819081:(e,t,r)=>{"use strict";e.exports=r(1174)},893379:(e,t,r)=>{"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function l(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function a(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],c=r[u]||0,s="".concat(u," ").concat(c);r[u]=c+1;var f=l(s),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:m(p,t),references:1}),n.push(s)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var c,s=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var i=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function p(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var y=null,d=0;function m(e,t){var r,n,o;if(t.singleton){var i=d++;r=y||(y=u(t)),n=f.bind(null,r,i,!1),o=f.bind(null,r,i,!0)}else r=u(t),n=p.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=l(r[n]);i[o].references--}for(var u=a(e,t),c=0;c<r.length;c++){var s=l(r[c]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}r=u}}}}}]);