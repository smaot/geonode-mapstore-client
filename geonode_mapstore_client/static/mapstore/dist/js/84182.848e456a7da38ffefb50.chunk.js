(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[84182,82582,65417],{894417:(t,r,i)=>{"use strict";i.d(r,{Z:()=>s});var n=i(640271),e=i(583996);function a(t,r,i){if(void 0===i&&(i={}),!0===i.final)return function(t,r){var i=a(r,t);return(i+180)%360}(t,r);var o=(0,e.c9)(t),h=(0,e.c9)(r),s=(0,n.Ht)(o[0]),u=(0,n.Ht)(h[0]),c=(0,n.Ht)(o[1]),l=(0,n.Ht)(h[1]),f=Math.sin(u-s)*Math.cos(l),m=Math.cos(c)*Math.sin(l)-Math.sin(c)*Math.cos(l)*Math.cos(u-s);return(0,n.vi)(Math.atan2(f,m))}function o(t,r,i,a){void 0===a&&(a={});var o=(0,e.c9)(t),h=(0,n.Ht)(o[0]),s=(0,n.Ht)(o[1]),u=(0,n.Ht)(i),c=(0,n.lF)(r,a.units),l=Math.asin(Math.sin(s)*Math.cos(c)+Math.cos(s)*Math.sin(c)*Math.cos(u)),f=h+Math.atan2(Math.sin(u)*Math.sin(c)*Math.cos(s),Math.cos(c)-Math.sin(s)*Math.sin(l)),m=(0,n.vi)(f),p=(0,n.vi)(l);return(0,n.xm)([m,p],a.properties)}var h=i(779928);function s(t,r,i){void 0===i&&(i={});for(var s=(0,e.wA)(t).coordinates,u=0,c=0;c<s.length&&!(r>=u&&c===s.length-1);c++){if(u>=r){var l=r-u;if(l){var f=a(s[c],s[c-1])-180;return o(s[c],l,f,i)}return(0,n.xm)(s[c])}u+=(0,h.Z)(s[c],s[c+1],i)}return(0,n.xm)(s[s.length-1])}},779928:(t,r,i)=>{"use strict";i.d(r,{Z:()=>a});var n=i(583996),e=i(640271);const a=function(t,r,i){void 0===i&&(i={});var a=(0,n.c9)(t),o=(0,n.c9)(r),h=(0,e.Ht)(o[1]-a[1]),s=(0,e.Ht)(o[0]-a[0]),u=(0,e.Ht)(a[1]),c=(0,e.Ht)(o[1]),l=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(c);return(0,e.DL)(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),i.units)}},583996:(t,r,i)=>{"use strict";function n(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function e(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function a(t){return"Feature"===t.type?t.geometry:t}i.d(r,{c9:()=>n,r7:()=>e,wA:()=>a}),i(640271)},664632:(t,r,i)=>{"use strict";i.d(r,{Z:()=>a});var n=i(779928),e=i(892322);function a(t,r){return void 0===r&&(r={}),(0,e.hE)(t,(function(t,i){var e=i.geometry.coordinates;return t+(0,n.Z)(e[0],e[1],r)}),0)}},540098:t=>{var r=Math.ceil,i=Math.max;t.exports=function(t,n,e,a){for(var o=-1,h=i(r((n-t)/(e||1)),0),s=Array(h);h--;)s[a?h:++o]=t,t+=e;return s}},747445:(t,r,i)=>{var n=i(540098),e=i(816612),a=i(418601);t.exports=function(t){return function(r,i,o){return o&&"number"!=typeof o&&e(r,i,o)&&(i=o=void 0),r=a(r),void 0===i?(i=r,r=0):i=a(i),o=void 0===o?r<i?1:-1:a(o),n(r,i,o,t)}}},396026:(t,r,i)=>{var n=i(747445)();t.exports=n},382582:function(t){t.exports=function(){"use strict";function t(t,n,e,a,o){!function t(i,n,e,a,o){for(;a>e;){if(a-e>600){var h=a-e+1,s=n-e+1,u=Math.log(h),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(h-c)/h)*(s-h/2<0?-1:1);t(i,n,Math.max(e,Math.floor(n-s*c/h+l)),Math.min(a,Math.floor(n+(h-s)*c/h+l)),o)}var f=i[n],m=e,p=a;for(r(i,e,n),o(i[a],f)>0&&r(i,e,a);m<p;){for(r(i,m,p),m++,p--;o(i[m],f)<0;)m++;for(;o(i[p],f)>0;)p--}0===o(i[e],f)?r(i,e,p):r(i,++p,a),p<=n&&(e=p+1),n<=p&&(a=p-1)}}(t,n,e||0,a||t.length-1,o||i)}function r(t,r,i){var n=t[r];t[r]=t[i],t[i]=n}function i(t,r){return t<r?-1:t>r?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,r,i){if(!i)return r.indexOf(t);for(var n=0;n<r.length;n++)if(i(t,r[n]))return n;return-1}function a(t,r){o(t,0,t.children.length,r,t)}function o(t,r,i,n,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=r;a<i;a++){var o=t.children[a];h(e,t.leaf?n(o):o)}return e}function h(t,r){return t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY),t}function s(t,r){return t.minX-r.minX}function u(t,r){return t.minY-r.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function m(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(r,i,n,e,a){for(var o=[i,n];o.length;)if(!((n=o.pop())-(i=o.pop())<=e)){var h=i+Math.ceil((n-i)/e/2)*e;t(r,h,i,n,a),o.push(i,h,h,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var r=this.data,i=[];if(!m(t,r))return i;for(var n=this.toBBox,e=[];r;){for(var a=0;a<r.children.length;a++){var o=r.children[a],h=r.leaf?n(o):o;m(t,h)&&(r.leaf?i.push(o):f(t,h)?this._all(o,i):e.push(o))}r=e.pop()}return i},n.prototype.collides=function(t){var r=this.data;if(!m(t,r))return!1;for(var i=[];r;){for(var n=0;n<r.children.length;n++){var e=r.children[n],a=r.leaf?this.toBBox(e):e;if(m(t,a)){if(r.leaf||f(t,a))return!0;i.push(e)}}r=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var r=0;r<t.length;r++)this.insert(t[r]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=p([]),this},n.prototype.remove=function(t,r){if(!t)return this;for(var i,n,a,o=this.data,h=this.toBBox(t),s=[],u=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],i=u.pop(),a=!0),o.leaf){var c=e(t,o.children,r);if(-1!==c)return o.children.splice(c,1),s.push(o),this._condense(s),this}a||o.leaf||!f(o,h)?n?(i++,o=n.children[i],a=!1):o=null:(s.push(o),u.push(i),i=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,r){return t.minX-r.minX},n.prototype.compareMinY=function(t,r){return t.minY-r.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,r){for(var i=[];t;)t.leaf?r.push.apply(r,t.children):i.push.apply(i,t.children),t=i.pop();return r},n.prototype._build=function(t,r,i,n){var e,o=i-r+1,h=this._maxEntries;if(o<=h)return a(e=p(t.slice(r,i+1)),this.toBBox),e;n||(n=Math.ceil(Math.log(o)/Math.log(h)),h=Math.ceil(o/Math.pow(h,n-1))),(e=p([])).leaf=!1,e.height=n;var s=Math.ceil(o/h),u=s*Math.ceil(Math.sqrt(h));d(t,r,i,u,this.compareMinX);for(var c=r;c<=i;c+=u){var l=Math.min(c+u-1,i);d(t,c,l,s,this.compareMinY);for(var f=c;f<=l;f+=s){var m=Math.min(f+s-1,l);e.children.push(this._build(t,f,m,n-1))}}return a(e,this.toBBox),e},n.prototype._chooseSubtree=function(t,r,i,n){for(;n.push(r),!r.leaf&&n.length-1!==i;){for(var e=1/0,a=1/0,o=void 0,h=0;h<r.children.length;h++){var s=r.children[h],u=c(s),l=(f=t,m=s,(Math.max(m.maxX,f.maxX)-Math.min(m.minX,f.minX))*(Math.max(m.maxY,f.maxY)-Math.min(m.minY,f.minY))-u);l<a?(a=l,e=u<e?u:e,o=s):l===a&&u<e&&(e=u,o=s)}r=o||r.children[0]}var f,m;return r},n.prototype._insert=function(t,r,i){var n=i?t:this.toBBox(t),e=[],a=this._chooseSubtree(n,this.data,r,e);for(a.children.push(t),h(a,n);r>=0&&e[r].children.length>this._maxEntries;)this._split(e,r),r--;this._adjustParentBBoxes(n,e,r)},n.prototype._split=function(t,r){var i=t[r],n=i.children.length,e=this._minEntries;this._chooseSplitAxis(i,e,n);var o=this._chooseSplitIndex(i,e,n),h=p(i.children.splice(o,i.children.length-o));h.height=i.height,h.leaf=i.leaf,a(i,this.toBBox),a(h,this.toBBox),r?t[r-1].children.push(h):this._splitRoot(i,h)},n.prototype._splitRoot=function(t,r){this.data=p([t,r]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,r,i){for(var n,e,a,h,s,u,l,f=1/0,m=1/0,p=r;p<=i-r;p++){var d=o(t,0,p,this.toBBox),v=o(t,p,i,this.toBBox),x=(e=d,a=v,void 0,void 0,void 0,void 0,h=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),u=Math.min(e.maxX,a.maxX),l=Math.min(e.maxY,a.maxY),Math.max(0,u-h)*Math.max(0,l-s)),M=c(d)+c(v);x<f?(f=x,n=p,m=M<m?M:m):x===f&&M<m&&(m=M,n=p)}return n||i-r},n.prototype._chooseSplitAxis=function(t,r,i){var n=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:u;this._allDistMargin(t,r,i,n)<this._allDistMargin(t,r,i,e)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,r,i,n){t.children.sort(n);for(var e=this.toBBox,a=o(t,0,r,e),s=o(t,i-r,i,e),u=l(a)+l(s),c=r;c<i-r;c++){var f=t.children[c];h(a,t.leaf?e(f):f),u+=l(a)}for(var m=i-r-1;m>=r;m--){var p=t.children[m];h(s,t.leaf?e(p):p),u+=l(s)}return u},n.prototype._adjustParentBBoxes=function(t,r,i){for(var n=i;n>=0;n--)h(r[n],t)},n.prototype._condense=function(t){for(var r=t.length-1,i=void 0;r>=0;r--)0===t[r].children.length?r>0?(i=t[r-1].children).splice(i.indexOf(t[r]),1):this.clear():a(t[r],this.toBBox)},n}()}}]);