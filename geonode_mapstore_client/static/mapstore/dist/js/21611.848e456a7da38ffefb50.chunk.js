(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[21611],{718369:(t,i,e)=>{"use strict";e.d(i,{Z:()=>a});var n=e(247588),s=e(30006);class o extends n.ZP{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let i=!1;if(t.type==s.Z.DBLCLICK){const e=t.originalEvent,s=t.map,o=t.coordinate,a=e.shiftKey?-this.delta_:this.delta_,r=s.getView();(0,n.FW)(r,a,o,this.duration_),e.preventDefault(),i=!0}return!i}}const a=o},843033:(t,i,e)=>{"use strict";e.d(i,{Z:()=>_});var n=e(9520),s=e(938024),o=e(580967),a=e(15265);class r extends o.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,i=this.endPixel_,e="px",n=this.element_.style;n.left=Math.min(t[0],i[0])+e,n.top=Math.min(t[1],i[1])+e,n.width=Math.abs(i[0]-t[0])+e,n.height=Math.abs(i[1]-t[1])+e}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,i=this.endPixel_,e=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);e[4]=e[0].slice(),this.geometry_?this.geometry_.setCoordinates([e]):this.geometry_=new a.ZP([e])}getGeometry(){return this.geometry_}}const h=r;var l=e(436403);class d extends n.ZP{constructor(t,i,e){super(t),this.coordinate=i,this.mapBrowserEvent=e}}class c extends s.Z{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new h(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:l.v8,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,i,e){const n=e[0]-i[0],s=e[1]-i[1];return n*n+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new d("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new d(i?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new d("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}}const _=c},573800:(t,i,e)=>{"use strict";e.d(i,{Z:()=>l});var n=e(938024),s=e(864011),o=e(436403),a=e(286320),r=e(690728);class h extends n.Z{constructor(t){super({stopDown:s.Dv}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const i=t.condition?t.condition:(0,o.$6)(o.rM,o.Xp);this.condition_=t.onFocusOnly?(0,o.$6)(o.yZ,i):i,this.noKinetic_=!1}handleDragEvent(t){const i=t.map;this.panning_||(this.panning_=!0,i.getView().beginInteraction());const e=this.targetPointers,s=i.getEventPixel((0,n.S)(e));if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const i=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],e=t.map.getView();(0,r.bA)(i,e.getResolution()),(0,r.U1)(i,e.getRotation()),e.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()}handleUpEvent(t){const i=t.map,e=i.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),s=e.getCenterInternal(),o=i.getPixelFromCoordinateInternal(s),r=i.getCoordinateFromPixelInternal([o[0]-t*Math.cos(n),o[1]-t*Math.sin(n)]);e.animateInternal({center:e.getConstrainedCenter(r),duration:500,easing:a.Vv})}return this.panning_&&(this.panning_=!1,e.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const l=h},497950:(t,i,e)=>{"use strict";e.d(i,{Z:()=>h});var n=e(938024),s=e(864011),o=e(436403),a=e(938642);class r extends n.Z{constructor(t){t=t||{},super({stopDown:s.Dv}),this.condition_=t.condition?t.condition:o.aj,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,o.QL)(t))return;const i=t.map,e=i.getView();if(e.getConstraints().rotation===a.h$)return;const n=i.getSize(),s=t.pixel,r=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;e.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){return!(0,o.QL)(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!(0,o.QL)(t)&&(!(!(0,o.v8)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}const h=r},878516:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});var n=e(843033),s=e(286320),o=e(436403);class a extends n.Z{constructor(t){super({condition:(t=t||{}).condition?t.condition:o.vY,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const i=this.getMap().getView();let e=this.getGeometry();if(this.out_){const t=i.rotatedExtentForGeometry(e),n=i.getResolutionForExtentInternal(t),s=i.getResolution()/n;e=e.clone(),e.scale(s*s)}i.fitInternal(e,{duration:this.duration_,easing:s.Vv})}}const r=a},249663:(t,i,e)=>{"use strict";e.d(i,{Z:()=>c});var n=e(173381),s=e(247588);const o="ArrowLeft",a="ArrowRight",r="ArrowDown";var h=e(436403),l=e(690728);class d extends s.ZP{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,h.rM)(t)&&(0,h.TN)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let i=!1;if(t.type==n.Z.KEYDOWN){const e=t.originalEvent,n=e.key;if(this.condition_(t)&&(n==r||n==o||n==a||"ArrowUp"==n)){const h=t.map.getView(),d=h.getResolution()*this.pixelDelta_;let c=0,_=0;n==r?_=-d:n==o?c=-d:n==a?c=d:_=d;const u=[c,_];(0,l.U1)(u,h.getRotation()),(0,s.Cv)(h,u,this.duration_),e.preventDefault(),i=!0}}return!i}}const c=d},500052:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});var n=e(173381),s=e(247588),o=e(436403);class a extends s.ZP{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:o.TN,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let i=!1;if(t.type==n.Z.KEYDOWN||t.type==n.Z.KEYPRESS){const e=t.originalEvent,n=e.key;if(this.condition_(t)&&("+"===n||"-"===n)){const o=t.map,a="+"===n?this.delta_:-this.delta_,r=o.getView();(0,s.FW)(r,a,void 0,this.duration_),e.preventDefault(),i=!0}}return!i}}const r=a},386306:(t,i,e)=>{"use strict";e.d(i,{Z:()=>l});var n=e(173381),s=e(247588),o=e(591358),a=e(436403),r=e(921882);class h extends s.ZP{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const i=t.condition?t.condition:a.Bx;this.condition_=t.onFocusOnly?(0,a.$6)(a.yZ,i):i,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==n.Z.WHEEL)return!0;const i=t.map,e=t.originalEvent;let s;if(e.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==n.Z.WHEEL&&(s=e.deltaY,o.V&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=o.MP),e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const r=i.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;const h=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),h),!1}handleWheelZoom_(t){const i=t.getView();i.getAnimating()&&i.cancelAnimations();let e=-(0,r.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(e=e?e>0?1:-1:0),(0,s.FW)(i,e,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}const l=h},978653:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});var n=e(938024),s=e(864011),o=e(938642);class a extends n.Z{constructor(t){const i=t=t||{};i.stopDown||(i.stopDown=s.Dv),super(i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let i=0;const e=this.targetPointers[0],s=this.targetPointers[1],a=Math.atan2(s.clientY-e.clientY,s.clientX-e.clientX);if(void 0!==this.lastAngle_){const t=a-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=t}this.lastAngle_=a;const r=t.map,h=r.getView();h.getConstraints().rotation!==o.h$&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel((0,n.S)(this.targetPointers))),this.rotating_&&(r.render(),h.adjustRotationInternal(i,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}const r=a},848041:(t,i,e)=>{"use strict";e.d(i,{Z:()=>a});var n=e(938024),s=e(864011);class o extends n.Z{constructor(t){const i=t=t||{};i.stopDown||(i.stopDown=s.Dv),super(i),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let i=1;const e=this.targetPointers[0],s=this.targetPointers[1],o=e.clientX-s.clientX,a=e.clientY-s.clientY,r=Math.sqrt(o*o+a*a);void 0!==this.lastDistance_&&(i=this.lastDistance_/r),this.lastDistance_=r;const h=t.map,l=h.getView();1!=i&&(this.lastScaleDelta_=i),this.anchor_=h.getCoordinateFromPixelInternal(h.getEventPixel((0,n.S)(this.targetPointers))),h.render(),l.adjustResolutionInternal(i,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),e=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,e),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}}const a=o}}]);