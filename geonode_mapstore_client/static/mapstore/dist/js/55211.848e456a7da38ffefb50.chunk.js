(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[55211],{791133:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(923645),s=i.n(n)()((function(e){return e[1]}));s.push([e.id,':root,\n.msgapi :host {\n  --ol-background-color: white;\n  --ol-accent-background-color: #F5F5F5;\n  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);\n  --ol-partial-background-color: rgba(255, 255, 255, 0.75);\n  --ol-foreground-color: #333333;\n  --ol-subtle-foreground-color: #666666;\n  --ol-brand-color: #00AAFF;\n}\n\n.msgapi .ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid var(--ol-background-color);\n  background-color: var(--ol-partial-background-color);\n}\n\n.msgapi .ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.msgapi .ol-scale-line {\n  background: var(--ol-partial-background-color);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.msgapi .ol-scale-line-inner {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  border-top: none;\n  color: var(--ol-foreground-color);\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n\n.msgapi .ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.msgapi .ol-scale-bar-inner {\n  display: flex;\n}\n\n.msgapi .ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: var(--ol-foreground-color);\n  float: right;\n  z-index: 10;\n}\n\n.msgapi .ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 10px;\n  z-index: 11;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.msgapi .ol-scale-text {\n  position: absolute;\n  font-size: 12px;\n  text-align: center;\n  bottom: 25px;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.msgapi .ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid var(--ol-foreground-color);\n}\n\n.msgapi .ol-scale-singlebar-even {\n  background-color: var(--ol-subtle-foreground-color);\n}\n\n.msgapi .ol-scale-singlebar-odd {\n  background-color: var(--ol-background-color);\n}\n\n.msgapi .ol-unsupported {\n  display: none;\n}\n\n.msgapi .ol-viewport,\n.msgapi .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.msgapi .ol-viewport canvas {\n  all: unset;\n}\n\n.msgapi .ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.msgapi .ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n\n.msgapi .ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n\n.msgapi .ol-control {\n  position: absolute;\n  background-color: var(--ol-subtle-background-color);\n  border-radius: 4px;\n}\n\n.msgapi .ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.msgapi .ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.msgapi .ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.msgapi .ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.msgapi .ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.msgapi .ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: var(--ol-subtle-foreground-color);\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: var(--ol-background-color);\n  border: none;\n  border-radius: 2px;\n}\n\n.msgapi .ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.msgapi .ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.msgapi .ol-compass {\n  display: block;\n  font-weight: normal;\n  will-change: transform;\n}\n\n.msgapi .ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.msgapi .ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.msgapi .ol-control button:hover,\n.msgapi .ol-control button:focus {\n  text-decoration: none;\n  outline: 1px solid var(--ol-subtle-foreground-color);\n  color: var(--ol-foreground-color);\n}\n\n.msgapi .ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.msgapi .ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.msgapi .ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n\n.msgapi .ol-attribution a {\n  color: var(--ol-subtle-foreground-color);\n  text-decoration: none;\n}\n\n.msgapi .ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: var(--ol-foreground-color);\n  text-shadow: 0 0 2px var(--ol-background-color);\n  font-size: 12px;\n}\n\n.msgapi .ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n\n.msgapi .ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.msgapi .ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.msgapi .ol-attribution button {\n  flex-shrink: 0;\n}\n\n.msgapi .ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.msgapi .ol-attribution:not(.ol-collapsed) {\n  background: var(--ol-partial-background-color);\n}\n\n.msgapi .ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n\n.msgapi .ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.msgapi .ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.msgapi .ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.msgapi .ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.msgapi .ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.msgapi .ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.msgapi .ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.msgapi .ol-overviewmap .ol-overviewmap-map,\n.msgapi .ol-overviewmap button {\n  display: block;\n}\n\n.msgapi .ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  height: 150px;\n  width: 150px;\n}\n\n.msgapi .ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n}\n\n.msgapi .ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.msgapi .ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.msgapi .ol-overviewmap:not(.ol-collapsed) {\n  background: var(--ol-subtle-background-color);\n}\n\n.msgapi .ol-overviewmap-box {\n  border: 1.5px dotted var(--ol-subtle-foreground-color);\n}\n\n.msgapi .ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""]);const o=s},797398:(e,t,i)=>{var n=i(555639).isFinite;e.exports=function(e){return"number"==typeof e&&n(e)}},352353:e=>{e.exports=function(e){return void 0===e}},823493:(e,t,i)=>{var n=i(23279),s=i(513218);e.exports=function(e,t,i){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s(i)&&(o="leading"in i?!!i.leading:o,r="trailing"in i?!!i.trailing:r),n(e,t,{leading:o,maxWait:t,trailing:r})}},768179:(e,t,i)=>{"use strict";i.d(t,{Z:()=>oe});var n=i(558493),s=i(378426),o=i(919629),r=i(580967),a=i(864011),l=i(949179),h=i(782359),d=i(421915),c=i(516250),p=i(677701),u=i(690728);class g extends r.Z{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){(0,l.O3)()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;(0,h.qC)(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),(0,h.nb)(n,i)}forEachFeatureAtCoordinate(e,t,i,n,s,o,r,a){let l;const h=t.viewState;function c(e,t,i,n){return s.call(o,t,e?i:null,n)}const g=h.projection,_=(0,u.Cf)(e.slice(),g),m=[[0,0]];if(g.canWrapX()&&n){const e=g.getExtent(),t=(0,d.dz)(e);m.push([-t,0],[t,0])}const v=t.layerStatesArray,y=v.length,b=[],E=[];for(let n=0;n<m.length;n++)for(let s=y-1;s>=0;--s){const o=v[s],d=o.layer;if(d.hasRenderer()&&(0,p.j)(o,h)&&r.call(a,d)){const s=d.getRenderer(),r=d.getSource();if(s&&r){const a=r.getWrapX()?_:e,h=c.bind(null,o.managed);E[0]=a[0]+m[n][0],E[1]=a[1]+m[n][1],l=s.forEachFeatureAtCoordinate(E,t,i,h,b)}if(l)return l}}if(0===b.length)return;const f=1/b.length;return b.forEach(((e,t)=>e.distanceSq+=t*f)),b.sort(((e,t)=>e.distanceSq-t.distanceSq)),b.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}hasFeatureAtCoordinate(e,t,i,n,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,i,n,a.uX,this,s,o)}getMap(){return this.map_}renderFrame(e){(0,l.O3)()}scheduleExpireIconCache(e){c.c.canExpireCache()&&e.postRenderFunctions.push(_)}}function _(e,t){c.c.expire()}const m=g;var v=i(713910),y=i(941173),b=i(397208),E=i(267644),f=i(968509),w=i(613002),x=i(85386);const L=class extends m{constructor(e){super(e),this.fontChangeListenerKey_=(0,w.oL)(f.sG,v.Z.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=E.XV+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const n=new y.Z(e,void 0,t);i.dispatchEvent(n)}}disposeInternal(){(0,w.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(b.Z.PRECOMPOSE,e);const t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),i=e.viewState;this.children_.length=0;const n=[];let s=null;for(let o=0,r=t.length;o<r;++o){const r=t[o];e.layerIndex=o;const a=r.layer,l=a.getSourceState();if(!(0,p.j)(r,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const h=a.render(e,s);h&&(h!==s&&(this.children_.push(h),s=h),"getDeclutter"in a&&n.push(a))}for(let t=n.length-1;t>=0;--t)n[t].renderDeclutter(e);(0,x.hF)(this.element_,this.children_),this.dispatchRenderEvent(b.Z.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};var C=i(173381),T=i(910410),Z=i(9520),R=i(438906),S=i(913580);class N extends Z.ZP{constructor(e,t){super(e),this.layer=t}}const I="layers";class P extends T.Z{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(I,this.handleLayersChanged_),i?Array.isArray(i)?i=new s.Z(i.slice(),{unique:!0}):(0,R.h)("function"==typeof i.getArray,43):i=new s.Z(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(w.bN),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push((0,w.oL)(e,o.Z.ADD,this.handleLayersAdd_,this),(0,w.oL)(e,o.Z.REMOVE,this.handleLayersRemove_,this));for(const e in this.listenerKeys_)this.listenerKeys_[e].forEach(w.bN);(0,S.Z)(this.listenerKeys_);const t=e.getArray();for(let e=0,i=t.length;e<i;e++){const i=t[e];this.registerLayerListeners_(i),this.dispatchEvent(new N("addlayer",i))}this.changed()}registerLayerListeners_(e){const t=[(0,w.oL)(e,v.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,w.oL)(e,C.Z.CHANGE,this.handleLayerChange_,this)];e instanceof P&&t.push((0,w.oL)(e,"addlayer",this.handleLayerGroupAdd_,this),(0,w.oL)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,l.sq)(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new N("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new N("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new N("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=(0,l.sq)(t);this.listenerKeys_[i].forEach(w.bN),delete this.listenerKeys_[i],this.dispatchEvent(new N("removelayer",t)),this.changed()}getLayers(){return this.get(I)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,i=e.length;t<i;++t)this.dispatchEvent(new N("removelayer",e[t]))}this.set(I,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],i=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));const n=this.getLayerState();let s=n.zIndex;e||void 0!==n.zIndex||(s=0);for(let e=i,o=t.length;e<o;e++){const i=t[e];i.opacity*=n.opacity,i.visible=i.visible&&n.visible,i.maxResolution=Math.min(i.maxResolution,n.maxResolution),i.minResolution=Math.max(i.minResolution,n.minResolution),i.minZoom=Math.max(i.minZoom,n.minZoom),i.maxZoom=Math.min(i.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==i.extent?i.extent=(0,d.Ed)(i.extent,n.extent):i.extent=n.extent),void 0===i.zIndex&&(i.zIndex=s)}return t}getSourceState(){return"ready"}}const A=P;var O=i(232062),M=i(30006);const V="pointerdown";var k=i(66575),z=i(591358);class K extends k.Z{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=(0,w.oL)(i,V,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,w.oL)(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(C.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!z.bM&&{passive:!1})}emulateClick_(e){let t=new O.Z(M.Z.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new O.Z(M.Z.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const t=new O.Z(M.Z.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==M.Z.POINTERUP||t.type==M.Z.POINTERCANCEL){delete this.trackedTouches_[i];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=M.Z.POINTERDOWN&&t.type!=M.Z.POINTERMOVE||(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new O.Z(M.Z.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(w.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new O.Z(M.Z.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,w.oL)(e,M.Z.POINTERMOVE,this.handlePointerMove_,this),(0,w.oL)(e,M.Z.POINTERUP,this.handlePointerUp_,this),(0,w.oL)(this.element_,M.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push((0,w.oL)(this.element_.getRootNode(),M.Z.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new O.Z(M.Z.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new O.Z(M.Z.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,w.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(C.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,w.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(w.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const D=K;var F=i(110255),H=i(540188),B=i(739850);const G=1/0,W=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,S.Z)(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(e){(0,R.h)(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=G&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,n=t.length,s=t[e],o=i[e],r=e;for(;e<n>>1;){const s=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),r=o<n&&i[o]<i[s]?o:s;t[e]=t[r],i[e]=i[r],e=r}t[e]=s,i[e]=o,this.siftDown_(r,e)}siftDown_(e,t){const i=this.elements_,n=this.priorities_,s=i[t],o=n[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(n[e]>o))break;i[t]=i[e],n[t]=n[e],t=e}i[t]=s,n[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let n=0;const s=t.length;let o,r,a;for(r=0;r<s;++r)o=t[r],a=e(o),a==G?delete this.queuedElements_[this.keyFunction_(o)]:(i[n]=a,t[n++]=o);t.length=n,i.length=n,this.heapify_()}};var U=i(859900);const q=class extends W{constructor(e,t){super((function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(C.Z.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===U.Z.LOADED||i===U.Z.ERROR||i===U.Z.EMPTY){i!==U.Z.ERROR&&t.removeEventListener(C.Z.CHANGE,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i,n,s,o=0;for(;this.tilesLoading_<e&&o<t&&this.getCount()>0;)n=this.dequeue()[0],s=n.getKey(),i=n.getState(),i!==U.Z.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++o,n.load())}};var Y=i(276773),j=i(706908),X=i(357467),$=i(903998),Q=i(179682),J=i(218672),ee=i(450596),te=i(995607);function ie(e){e instanceof p.Z?e.setMapInternal(null):e instanceof A&&e.getLayers().forEach(ie)}function ne(e,t){if(e instanceof p.Z)e.setMapInternal(t);else if(e instanceof A){const i=e.getLayers().getArray();for(let e=0,n=i.length;e<n;++e)ne(i[e],t)}}class se extends n.Z{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const i={},n=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new A({layers:e.layers});let o,r,a;return i[B.Z.LAYERGROUP]=n,i[B.Z.TARGET]=e.target,i[B.Z.VIEW]=e.view instanceof Y.ZP?e.view:new Y.ZP,void 0!==e.controls&&(Array.isArray(e.controls)?o=new s.Z(e.controls.slice()):((0,R.h)("function"==typeof e.controls.getArray,47),o=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?r=new s.Z(e.interactions.slice()):((0,R.h)("function"==typeof e.interactions.getArray,48),r=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?a=new s.Z(e.overlays.slice()):((0,R.h)("function"==typeof e.overlays.getArray,49),a=e.overlays):a=new s.Z,{controls:o,interactions:r,keyboardEventTarget:t,overlays:a,values:i}}(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:z.MP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,h.Ue)(),this.pixelToCoordinateTransform_=(0,h.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=t.controls||(0,X.c)(),this.interactions=t.interactions||(0,$.c)({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new q(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(B.Z.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(B.Z.VIEW,this.handleViewChanged_),this.addChangeListener(B.Z.SIZE,this.handleSizeChanged_),this.addChangeListener(B.Z.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;!e.view||e.view instanceof Y.ZP||e.view.then((function(e){i.setView(new Y.ZP(e))})),this.controls.addEventListener(o.Z.ADD,(e=>{e.element.setMap(this)})),this.controls.addEventListener(o.Z.REMOVE,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(o.Z.ADD,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(o.Z.REMOVE,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(o.Z.ADD,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(o.Z.REMOVE,(e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){ne(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e),s=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,o=void 0!==i.layerFilter?i.layerFilter:a.uX,r=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,s,r,t,null,o,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,(function(e){i.push(e)}),t),i}getAllLayers(){const e=[];return function t(i){i.forEach((function(i){i instanceof A?t(i.getLayers()):e.push(i)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:a.uX,s=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=t.width/i[0],s=t.height/i[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/n,(o.clientY-t.top)/s]}getTarget(){return this.get(B.Z.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return(0,J.lO)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?(0,h.nn)(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(B.Z.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof s.Z)return void t.setLayers(e);const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const t=(0,J.Vs)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?(0,h.nn)(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(B.Z.SIZE)}getView(){return this.get(B.Z.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,n){return function(e,t,i,n,s){if(!e||!(i in e.wantedTiles))return G;if(!e.wantedTiles[i][t.getKey()])return G;const o=e.viewState.center,r=n[0]-o[0],a=n[1]-o[1];return 65536*Math.log(s)+Math.sqrt(r*r+a*a)/s}(this.frameState_,e,t,i,n)}handleBrowserEvent(e,t){t=t||e.type;const i=new O.Z(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===V||i===C.Z.WHEEL||i===C.Z.KEYDOWN){const e=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():e,n=t.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===e?e.documentElement:i).contains(n))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let i=t.length-1;i>=0;i--){const n=t[i];if(n.getMap()===this&&n.getActive()&&this.getTargetElement()&&(!n.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let i=this.maxTilesLoading_,n=i;if(e){const t=e.viewHints;if(t[j.Z.ANIMATING]||t[j.Z.INTERACTING]){const t=Date.now()-e.time>8;i=t?0:8,n=t?0:2}}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,n))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(b.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(b.Z.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new F.Z(H.Z.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new F.Z(H.Z.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let t=0,n=i.length;t<n;++t)i[t](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)(0,w.bN)(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(C.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(C.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,x.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new L(this)),this.mapBrowserEventHandler_=new D(this,this.moveTolerance_);for(const e in M.Z)this.mapBrowserEventHandler_.addEventListener(M.Z[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(C.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(C.Z.WHEEL,this.boundHandleBrowserEvent_,!!z.bM&&{passive:!1});const e=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[(0,w.oL)(e,C.Z.KEYDOWN,this.handleBrowserEvent,this),(0,w.oL)(e,C.Z.KEYPRESS,this.handleBrowserEvent,this)];const i=t.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,w.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,w.oL)(e,v.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.oL)(e,C.Z.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.bN),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new N("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,w.oL)(e,v.Z.PROPERTYCHANGE,this.render,this),(0,w.oL)(e,C.Z.CHANGE,this.render,this),(0,w.oL)(e,"addlayer",this.handleLayerAdd_,this),(0,w.oL)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){ie(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),n=this.frameState_;let s=null;if(void 0!==t&&(0,ee.py)(t)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,d.p8)(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:n,wantedTiles:{},mapId:(0,l.sq)(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;s.nextExtent=(0,d.p8)(o.nextCenter,o.nextResolution,e,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),n&&(!this.previousExtent_||!(0,d.xb)(this.previousExtent_)&&!(0,d.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new F.Z(H.Z.MOVESTART,this,n)),this.previousExtent_=(0,d.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[j.Z.ANIMATING]&&!s.viewHints[j.Z.INTERACTING]&&!(0,d.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new F.Z(H.Z.MOVEEND,this,s)),(0,d.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new F.Z(H.Z.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(H.Z.LOADSTART)||this.hasListener(H.Z.LOADEND)||this.hasListener(b.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new N("removelayer",t)),this.set(B.Z.LAYERGROUP,e)}setSize(e){this.set(B.Z.SIZE,e)}setTarget(e){this.set(B.Z.TARGET,e)}setView(e){if(!e||e instanceof Y.ZP)return void this.set(B.Z.VIEW,e);this.set(B.Z.VIEW,new Y.ZP);const t=this;e.then((function(e){t.setView(new Y.ZP(e))}))}updateSize(){const e=this.getTargetElement();let t;if(e){const i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(s)||(t=[n,s],!(0,ee.py)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&(0,te.ZK)("No map visible because the map container's width or height are 0."))}const i=this.getSize();!t||i&&(0,Q.fS)(t,i)||(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}}const oe=se},739850:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},819530:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(558493),s=i(540188),o=i(864011),r=i(613002),a=i(85386);class l extends n.Z{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){(0,a.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&(0,a.ZF)(this.element);for(let e=0,t=this.listenerKeys.length;e<t;++e)(0,r.bN)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.Zn&&this.listenerKeys.push((0,r.oL)(e,s.Z.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}const h=l},203728:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var n=i(378426),s=i(819530),o=i(173381),r=i(768179),a=i(540188),l=i(739850),h=i(713910),d=i(193409),c=i(276773),p=i(86340),u=i(267644),g=i(421915),_=i(613002),m=i(15265),v=i(85386);class y extends s.Z{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=void 0!==e.rotateWithView&&e.rotateWithView,this.viewExtent_=void 0;const t=void 0!==e.className?e.className:"ol-overviewmap",i=void 0!==e.tipLabel?e.tipLabel:"Overview map",s=void 0!==e.collapseLabel?e.collapseLabel:"‹";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;const a=void 0!==e.label?e.label:"›";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=i,h.appendChild(l),h.addEventListener(o.Z.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const c=new r.Z({view:e.view,controls:new n.Z,interactions:new n.Z});this.ovmap_=c,e.layers&&e.layers.forEach((function(e){c.addLayer(e)}));const p=document.createElement("div");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",this.boxOverlay_=new d.Z({position:[0,0],positioning:"center-center",element:p}),this.ovmap_.addOverlay(this.boxOverlay_);const g=t+" "+u.XV+" "+u.hg+(this.collapsed_&&this.collapsible_?" "+u.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=g,_.appendChild(this.ovmapDiv_),_.appendChild(h);const m=this,v=this.boxOverlay_,y=this.boxOverlay_.getElement(),b=function(e){const t={clientX:(i=e).clientX,clientY:i.clientY};var i;const n=c.getEventCoordinateInternal(t);v.setPosition(n)},E=function(e){const t=c.getEventCoordinateInternal(e);m.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",E)};y.addEventListener("mousedown",(function(){window.addEventListener("mousemove",b),window.addEventListener("mouseup",E)}))}setMap(e){const t=this.getMap();if(e!==t){if(t){const e=t.getView();e&&this.unbindView_(e),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,_.oL)(e,h.Z.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const t=e.getView();t&&(this.bindView_(t),t.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===l.Z.VIEW){const t=e.oldValue;t&&this.unbindView_(t);const i=this.getMap().getView();this.bindView_(i)}else this.ovmap_.isRendered()||e.key!==l.Z.TARGET&&e.key!==l.Z.SIZE||this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const t=new c.ZP({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(p.Z.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(e){e.removeChangeListener(p.Z.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView().calculateExtentInternal(i);if(this.viewExtent_&&(0,g.fS)(n,this.viewExtent_))return;this.viewExtent_=n;const s=t.getSize(),o=t.getView().calculateExtentInternal(s),r=t.getPixelFromCoordinateInternal((0,g.rL)(n)),a=t.getPixelFromCoordinateInternal((0,g.w$)(n)),l=Math.abs(r[0]-a[0]),h=Math.abs(r[1]-a[1]),d=s[0],c=s[1];l<.1*d||h<.1*c||l>.75*d||h>.75*c?this.resetExtent_():(0,g.r4)(o,n)||this.recenter_()}resetExtent_(){const e=this.getMap(),t=this.ovmap_,i=e.getSize(),n=e.getView().calculateExtentInternal(i),s=t.getView(),o=Math.log(7.5)/Math.LN2,r=1/(.1*Math.pow(2,o/2));(0,g.H9)(n,r),s.fitInternal((0,m.oJ)(n))}recenter_(){const e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView(),s=t.getView(),o=this.rotateWithView_?0:-n.getRotation(),r=this.boxOverlay_,a=this.boxOverlay_.getElement(),l=n.getCenterInternal(),h=n.getResolution(),d=s.getResolution(),c=i[0]*h/d,p=i[1]*h/d;if(r.setPosition(l),a){a.style.width=c+"px",a.style.height=p+"px";const e="rotate("+o+"rad)";a.style.transform=e}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=(0,_.Vx)(this.ovmap_,a.Z.POSTRENDER,(function(e){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(u.hN),this.collapsed_?(0,v.$H)(this.collapseLabel_,this.label_):(0,v.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}}const b=y},225303:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(819530),s=i(267644),o=i(218672),r=i(438906);const a="units",l=[1,2,5],h=25.4/.28;class d extends n.Z{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+s.XV,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(a,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(a)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(a,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,i=e.projection,n=this.getUnits(),s="degrees"==n?"degrees":"m";let a=(0,o._Q)(i,e.resolution,t,s);const d=this.minWidth_*(this.dpi_||h)/h,c=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||h)/h:void 0;let p=d*a,u="";if("degrees"==n){const e=o.Wm.degrees;p*=e,p<e/60?(u="″",a*=3600):p<e?(u="′",a*=60):u="°"}else"imperial"==n?p<.9144?(u="in",a/=.0254):p<1609.344?(u="ft",a/=.3048):(u="mi",a/=1609.344):"nautical"==n?(a/=1852,u="NM"):"metric"==n?p<.001?(u="μm",a*=1e6):p<1?(u="mm",a*=1e3):p<1e3?u="m":(u="km",a/=1e3):"us"==n?p<.9144?(u="in",a*=39.37):p<1609.344?(u="ft",a/=.30480061):(u="mi",a/=1609.3472):(0,r.h)(!1,33);let g,_,m,v,y,b,E=3*Math.floor(Math.log(d*a)/Math.log(10));for(;;){m=Math.floor(E/3);const e=Math.pow(10,m);if(g=l[(E%3+3)%3]*e,_=Math.round(g/a),isNaN(_))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==c&&_>=c){g=v,_=y,m=b;break}if(_>=d)break;v=g,y=_,b=m,++E}const f=this.scaleBar_?this.createScaleBar(_,g,u):g.toFixed(m<0?-m:0)+" "+u;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=_&&(this.innerElement_.style.width=_+"px",this.renderedWidth_=_),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const n=this.getScaleForResolution(),s=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),o=this.scaleBarSteps_,r=e/o,a=[this.createMarker("absolute")];for(let n=0;n<o;++n){const s=n%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${s}" style="width: ${r}px;"></div>`+this.createMarker("relative")+(n%2==0||2===o?this.createStepText(n,e,!1,t,i):"")+"</div>")}return a.push(this.createStepText(o,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,i,n,s){const o=(0===e?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+s);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${i?t+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return(0,o._Q)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||h)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}}const c=d},99937:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(819530),s=i(173381),o=i(267644),r=i(286320);class a extends n.Z{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,n=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",r=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",a=void 0!==e.zoomInLabel?e.zoomInLabel:"+",l=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",h=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",d=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n,c.setAttribute("type","button"),c.title=h,c.appendChild("string"==typeof a?document.createTextNode(a):a),c.addEventListener(s.Z.CLICK,this.handleClick_.bind(this,i),!1);const p=document.createElement("button");p.className=r,p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(s.Z.CLICK,this.handleClick_.bind(this,-i),!1);const u=t+" "+o.XV+" "+o.hg,g=this.element;g.className=u,g.appendChild(c),g.appendChild(p),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const i=t.getZoom();if(void 0!==i){const n=t.getConstrainedZoom(i+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:r.Vv})):t.setZoom(n)}}}const l=a},357467:(e,t,i)=>{"use strict";i.d(t,{c:()=>_});var n=i(819530),s=i(173381),o=i(267644),r=i(179682),a=i(85386);class l extends n.Z{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",n=void 0!==e.expandClassName?e.expandClassName:t+"-expand",r=void 0!==e.collapseLabel?e.collapseLabel:"›",a=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=a):this.collapseLabel_=r;const l=void 0!==e.label?e.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=n):this.label_=l;const h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(h),this.toggleButton_.addEventListener(s.Z.CLICK,this.handleClick_.bind(this),!1);const d=t+" "+o.XV+" "+o.hg+(this.collapsed_&&this.collapsible_?" "+o.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=d,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap((t=>t.getAttributions(e))))),i=!this.getMap().getAllLayers().some((e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,r.fS)(t,this.renderedAttributions_)){(0,a.ep)(this.ulElement_);for(let e=0,i=t.length;e<i;++e){const i=document.createElement("li");i.innerHTML=t[e],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(o.hN),this.collapsed_?(0,a.$H)(this.collapseLabel_,this.label_):(0,a.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const h=l;var d=i(378426),c=i(286320);class p extends n.Z{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"⇧",n=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const r=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=t+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),a.addEventListener(s.Z.CLICK,this.handleClick_.bind(this),!1);const l=t+" "+o.XV+" "+o.hg,h=this.element;h.className=l,h.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(o.oj)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:c.Vv}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const e="rotate("+i+"rad)";if(this.autoHide_){const e=this.element.classList.contains(o.oj);e||0!==i?e&&0!==i&&this.element.classList.remove(o.oj):this.element.classList.add(o.oj)}this.label_.style.transform=e}this.rotation_=i}}const u=p;var g=i(99937);function _(e){e=e||{};const t=new d.Z;return(void 0===e.zoom||e.zoom)&&t.push(new g.Z(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new u(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new h(e.attributionOptions)),t}},903998:(e,t,i)=>{"use strict";i.d(t,{c:()=>g});var n=i(378426),s=i(718369),o=i(573800),r=i(497950),a=i(878516),l=i(249663),h=i(500052);const d=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const n=this.points_[t+2]-this.points_[i+2];if(n<1e3/60)return!1;const s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};var c=i(386306),p=i(978653),u=i(848041);function g(e){e=e||{};const t=new n.Z,i=new d(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new r.Z),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new s.Z({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new o.Z({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new p.Z),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new u.Z({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new l.Z),t.push(new h.Z({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new c.Z({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new a.Z({duration:e.zoomDuration})),t}},301908:(e,t,i)=>{"use strict";i.d(t,{z2:()=>a});var n=i(444183),s=i(218672),o=i(884110);let r=null;function a(e){r=e;const t=Object.keys(e.defs),i=t.length;let a,l;for(a=0;a<i;++a){const i=t[a];if(!(0,s.U2)(i)){const t=e.defs(i);let o=t.units;o||"longlat"!==t.projName||(o="degrees"),(0,s.Sx)(new n.Z({code:i,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:o}))}}for(a=0;a<i;++a){const n=t[a],r=(0,s.U2)(n);for(l=0;l<i;++l){const i=t[l],a=(0,s.U2)(i);if(!(0,o.U2)(n,i))if(e.defs[n]===e.defs[i])(0,s.rM)([r,a]);else{const t=e(n,i);(0,s.zY)(r,a,(0,s.uA)(r,a,t.forward),(0,s.uA)(a,r,t.inverse))}}}}},745902:(e,t,i)=>{"use strict";var n=i(893379),s=i.n(n),o=i(791133);s()(o.Z,{insert:"head",singleton:!1}),o.Z.locals}}]);