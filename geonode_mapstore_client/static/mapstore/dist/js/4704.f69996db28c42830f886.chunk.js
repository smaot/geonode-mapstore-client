(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4704],{55237:(t,e,n)=>{"use strict";n.d(e,{tr:()=>_,jb:()=>g,Xu:()=>R,un:()=>T,Qn:()=>h,_q:()=>N,og:()=>C,$4:()=>U,kN:()=>I,oD:()=>G,V$:()=>w,uH:()=>A,pC:()=>b,tz:()=>M,p:()=>P});var r=n(747037),o=n.n(r),i=n(647960),u=n.n(i),a=n(227361),c=n.n(a),E=n(984596),s=n.n(E),d=n(730381),f=n.n(d),l=n(86638);function O(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,E=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){E=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(E)throw o}}return a}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=/PT?[\d\.]+[YMWDHMS]/,m=function(t){return t?o()(t)?new Date(t).getTime():(u()(t)&&t.getTime(),t):null},D=function(t){var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds();return(new Date(n).getTime()-new Date(e).getTime())/o},_=function(t){for(var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds(),i=[],u=new Date(e),a=new Date(n);u<=a;)i.push(new Date(u).toISOString()),u.setTime(u.getTime()+o);return i},g=function(t){var e=t.start,n=t.end,r=t.duration;return _({start:e,end:n,duration:r}).map((function(t){return{start:new Date(t),end:new Date(new Date(t).getTime()+f().duration(r).asMilliseconds())}}))},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=t.duration,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.start,u=o.end;if(!i||!u)return{count:D({start:e,end:n,duration:r}),start:e,end:n};var a=f().duration(r).asMilliseconds(),c=new Date(e).getTime(),E=new Date(n).getTime(),s=new Date(i).getTime(),d=new Date(u).getTime(),l=Math.ceil((s-c)/a),O=Math.floor((d-c)/a),p=Math.floor((E-c)/a);if(l>=0&&O<=p){var y=O-l;return{start:new Date(c+Math.max(0,l)*a),end:new Date(c+Math.min(p,O)*a),count:y}}return{count:D({start:e,end:n,duration:r}),start:e,end:n}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=arguments.length>1?arguments[1]:void 0,o=new Date(e),i=new Date(n),u=Math.floor(i.getTime()-o.getTime())/r;return{range:{start:e,end:n},resolution:f().duration(u).toISOString().match(v)[0]}},h=function(){var t,e,n=arguments.length>1?arguments[1]:void 0,r=(t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],(e=arguments.length>2?arguments[2]:void 0)?t.map((function(t){var n=p(t.split("/"),2);return{start:n[0],end:n[1]}[e]})):t);return r[function(t,e){var n=m(e),r=1/0,o=-1;return t.forEach((function(t,e){var i=m(t),u=Math.abs(i-n);u<r&&(r=u,o=e)})),o}(r,n)]},N=function(t){return t&&t.indexOf&&t.indexOf("--")>0},C=function(t,e){var n=f()(t).diff(e);return{start:n>=0?e:t,end:n>=0?t:e}},U=function(t){return 6e4*t.getTimezoneOffset()},I=function(t){var e=t;!u()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCHours();n=n<10?"0"+n:n;var r=e.getUTCMinutes();r=r<10?"0"+r:r;var i=e.getUTCSeconds();return i=i<10?"0"+i:i,"".concat(n,":").concat(r,":").concat(i)},G=function(t){var e=t;!u()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCMonth()+1,r=e.getUTCDate();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,"".concat(e.getUTCFullYear(),"-").concat(n,"-").concat(r)},w=function(t,e){var n=(0,l.mh)(t),r="HH:mm:SS";switch(e){case"time":return r;case"date":return n;default:return n+" "+r}},A=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Domains,e=void 0===t?{}:t,n=arguments.length>1?arguments[1]:void 0,r=s()(e.DimensionDomain||[]).concat(),o=e["@version"]||e.version,i=c()(e,"SpaceDomain.BoundingBox");return i&&r.push({Identifier:"space",Domain:i}),r.map((function(t){var e=t.Identifier,r=t.Domain;return{source:{type:"multidim-extension",version:o,url:n},name:e,domain:r}}))},b=function(t,e,n){var r=m(e),o=m(n);return t.reduce((function(t,e){var n=m(e);return m(r)<n&&m(o)>n?[].concat(O(t),[e]):O(t)}),[])},M=function(t){var e=t.reduce((function(t,e){if(-1!==e.indexOf("/")){var n=p(e.split("/"),2),r=n[0],o=n[1];return[].concat(O(t),[r,o])}return[].concat(O(t),[e])}),[]).sort();return[e[0],e[e.length-1]]},P=function(t,e,n){var r=f()(t);return("add"===n?r.add(e,"seconds"):r.subtract(e,"seconds")).toISOString()}},643892:(t,e,n)=>{"use strict";n.d(e,{W:()=>r,Zf:()=>o,Eu:()=>i,Vy:()=>u,YB:()=>a,xm:()=>c,_f:()=>E,ek:()=>s,cd:()=>d,pt:()=>f,ww:()=>l,tR:()=>O,Js:()=>p,p2:()=>y,ZH:()=>S,eQ:()=>v,ql:()=>m,$X:()=>D,nS:()=>_,ih:()=>g,J5:()=>R,uA:()=>T,Pv:()=>h,_Z:()=>N,dh:()=>C,IH:()=>U,e3:()=>I,Oq:()=>G,Q$:()=>w,DF:()=>A,id:()=>b,Br:()=>M,bI:()=>P,U5:()=>F,e5:()=>L,b3:()=>B,mN:()=>H,QN:()=>x,HV:()=>j,xe:()=>k,vA:()=>Q,gw:()=>W,qs:()=>V,CB:()=>Z,vg:()=>$,Z0:()=>q,lf:()=>Y,jQ:()=>J,nk:()=>X,X7:()=>z,nO:()=>K,F4:()=>tt,EU:()=>et,Rk:()=>nt,V1:()=>rt});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",i="GEONODE:RESOURCE_ERROR",u="GEONODE:UPDATE_RESOURCE_PROPERTIES",a="GEONODE:SET_RESOURCE_TYPE",c="GEONODE:SET_NEW_RESOURCE",E="GEONODE:SET_RESOURCE_ID",s="GEONODE:SET_RESOURCE_PERMISSIONS",d="GEONODE:EDIT_TITLE_RESOURCE",f="GEONODE:EDIT_ABSTRACT_RESOURCE",l="GEONODE:EDIT_THUMBNAIL_RESOURCE",O="GEONODE:SET_FAVORITE_RESOURCE",p="GEONODE:SET_MAP_THUMBNAIL",y="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",S="GEONODE:REQUEST_RESOURCE_CONFIG",v="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",m="GEONODE:LOADING_RESOURCE_CONFIG",D="GEONODE:RESET_RESOURCE_STATE",_="GEONODE:RESOURCE_CONFIG_ERROR",g="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",R="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",T="GEONODE:RESET_GEO_LIMITS",h="GEONODE:PROCESS_RESOURCES",N="GEONODE_SET_RESOURCE_THUMBNAIL",C="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",U="GEONODE_DOWNLOAD_RESOURCE",I="GEONODE_DOWNLOAD_COMPLETE",G="GEONODE_UPDATE_SINGLE_RESOURCE";function w(){return{type:r}}function A(t,e){return{type:o,data:t,pending:e}}function b(t){return{type:G,data:t}}function M(t){return{type:d,title:t}}function P(t){return{type:f,abstract:t}}function F(t){return{type:l,thumbnailUrl:t,thumbnailChanged:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"}}function L(){return{type:N}}function B(t){return{type:a,resourceType:t}}function H(t){return{type:i,error:t}}function x(t){return{type:u,properties:t}}function j(){return{type:c}}function k(t){return{type:E,id:t}}function Q(t){return{type:y,permissions:t}}function W(t){return{type:O,favorite:t}}function V(t){return{type:C,enabled:t}}function Z(t){return{type:p,bbox:t}}function $(t,e,n){return{type:S,resourceType:t,pk:e,options:n}}function q(t){return{type:v,resourceType:t}}function Y(t){return{type:m,loading:t}}function J(t){return{type:_,message:t}}function X(){return{type:D}}function z(t){return{type:g,compactPermissions:t}}function K(t){return{type:R,compactPermissions:t}}function tt(){return{type:T}}function et(t,e,n){return{type:h,processType:t,resources:e,redirectTo:n}}function nt(t){return{type:U,resource:t}}function rt(t){return{type:I,resource:t}}},489514:(t,e,n)=>{"use strict";n.d(e,{B9:()=>d,dl:()=>f,jg:()=>l});var r=n(375875),o=n.n(r),i=n(686),u=n(169141),a=n(455877),c=n.n(a),E=new i.Z,s=new u.Z,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().get("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return function(t){try{var e,n,r=E.readFeatures(t),o=JSON.parse(s.writeFeatures(r)),i=null==o||null===(e=o.features)||void 0===e?void 0:e[0];return{type:"FeatureCollection",features:((null==i||null===(n=i.geometry)||void 0===n?void 0:n.coordinates)||[]).map((function(t){var e=c()();return{type:"Feature",properties:{id:e},id:e,geometry:{type:"Polygon",coordinates:t}}}))}}catch(t){return{type:"FeatureCollection",features:[]}}}(t.data)}))},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",r=function(t){try{var e=t.features.reduce((function(t,e){var n;return"Polygon"===(null==e||null===(n=e.geometry)||void 0===n?void 0:n.type)&&t.geometry.coordinates.push(e.geometry.coordinates),t}),{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:[]}}),n=s.readFeatures(e);return E.writeFeatures(n)}catch(t){return{}}}(arguments.length>3?arguments[3]:void 0);return o().post("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e),r).then((function(t){return t.data}))},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().delete("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return t.data}))}}}]);