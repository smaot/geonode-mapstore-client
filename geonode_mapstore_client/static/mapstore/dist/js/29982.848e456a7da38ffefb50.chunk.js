(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[29982],{729982:(t,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>o});var e=r(640271),i=r(892322),a=r(572273);function o(t,n){void 0===n&&(n={}),n.concavity=n.concavity||1/0;var r=[];if((0,i.pZ)(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var o=a(r,n.concavity);return o.length>3?(0,e.yu)([o]):null}},572273:(t,n,r)=>{"use strict";var e=r(382582),i=r(643842),a=r(326960),o=r(988639).orient2d;function u(t,n,r){n=Math.max(0,void 0===n?2:n),r=r||0;var i=function(t){for(var n=t[0],r=t[0],e=t[0],i=t[0],o=0;o<t.length;o++){var u=t[o];u[0]<n[0]&&(n=u),u[0]>e[0]&&(e=u),u[1]<r[1]&&(r=u),u[1]>i[1]&&(i=u)}var h=[n,r,e,i],s=h.slice();for(o=0;o<t.length;o++)a(t[o],h)||s.push(t[o]);return function(t){t.sort(X);for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}for(var e=[],i=t.length-1;i>=0;i--){for(;e.length>=2&&p(e[e.length-2],e[e.length-1],t[i])<=0;)e.pop();e.push(t[i])}return e.pop(),n.pop(),n.concat(e)}(s)}(t),o=new e(16);o.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},o.compareMinX=function(t,n){return t[0]-n[0]},o.compareMinY=function(t,n){return t[1]-n[1]},o.load(t);for(var u,s=[],f=0;f<i.length;f++){var c=i[f];o.remove(c),u=m(c,u),s.push(u)}var l=new e(16);for(f=0;f<s.length;f++)l.insert(v(s[f]));for(var x=n*n,g=r*r;s.length;){var Y=s.shift(),M=Y.p,_=Y.next.p,w=d(M,_);if(!(w<g)){var b=w/x;(c=h(o,Y.prev.p,M,_,Y.next.next.p,b,l))&&Math.min(d(c,M),d(c,_))<=b&&(s.push(Y),s.push(m(c,Y)),o.remove(c),l.remove(Y),l.insert(v(Y)),l.insert(v(Y.next)))}}Y=u;var k=[];do{k.push(Y.p),Y=Y.next}while(Y!==u);return k.push(Y.p),k}function h(t,n,r,e,a,o,u){for(var h=new i([],s),c=t.data;c;){for(var p=0;p<c.children.length;p++){var v=c.children[p],m=c.leaf?x(v,r,e):f(r,e,v);m>o||h.push({node:v,dist:m})}for(;h.length&&!h.peek().node.children;){var d=h.pop(),g=d.node,X=x(g,n,r),Y=x(g,e,a);if(d.dist<X&&d.dist<Y&&l(r,g,u)&&l(e,g,u))return g}(c=h.pop())&&(c=c.node)}return null}function s(t,n){return t.dist-n.dist}function f(t,n,r){if(c(t,r)||c(n,r))return 0;var e=g(t[0],t[1],n[0],n[1],r.minX,r.minY,r.maxX,r.minY);if(0===e)return 0;var i=g(t[0],t[1],n[0],n[1],r.minX,r.minY,r.minX,r.maxY);if(0===i)return 0;var a=g(t[0],t[1],n[0],n[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===a)return 0;var o=g(t[0],t[1],n[0],n[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===o?0:Math.min(e,i,a,o)}function c(t,n){return t[0]>=n.minX&&t[0]<=n.maxX&&t[1]>=n.minY&&t[1]<=n.maxY}function l(t,n,r){for(var e,i,a,o,u=Math.min(t[0],n[0]),h=Math.min(t[1],n[1]),s=Math.max(t[0],n[0]),f=Math.max(t[1],n[1]),c=r.search({minX:u,minY:h,maxX:s,maxY:f}),l=0;l<c.length;l++)if(e=c[l].p,i=c[l].next.p,a=t,e!==(o=n)&&i!==a&&p(e,i,a)>0!=p(e,i,o)>0&&p(a,o,e)>0!=p(a,o,i)>0)return!1;return!0}function p(t,n,r){return o(t[0],t[1],n[0],n[1],r[0],r[1])}function v(t){var n=t.p,r=t.next.p;return t.minX=Math.min(n[0],r[0]),t.minY=Math.min(n[1],r[1]),t.maxX=Math.max(n[0],r[0]),t.maxY=Math.max(n[1],r[1]),t}function m(t,n){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function d(t,n){var r=t[0]-n[0],e=t[1]-n[1];return r*r+e*e}function x(t,n,r){var e=n[0],i=n[1],a=r[0]-e,o=r[1]-i;if(0!==a||0!==o){var u=((t[0]-e)*a+(t[1]-i)*o)/(a*a+o*o);u>1?(e=r[0],i=r[1]):u>0&&(e+=a*u,i+=o*u)}return(a=t[0]-e)*a+(o=t[1]-i)*o}function g(t,n,r,e,i,a,o,u){var h,s,f,c,l=r-t,p=e-n,v=o-i,m=u-a,d=t-i,x=n-a,g=l*l+p*p,X=l*v+p*m,Y=v*v+m*m,M=l*d+p*x,_=v*d+m*x,w=g*Y-X*X,b=w,k=w;0===w?(s=0,b=1,c=_,k=Y):(c=g*_-X*M,(s=X*_-Y*M)<0?(s=0,c=_,k=Y):s>b&&(s=b,c=_+X,k=Y)),c<0?(c=0,-M<0?s=0:-M>g?s=b:(s=-M,b=g)):c>k&&(c=k,-M+X<0?s=0:-M+X>g?s=b:(s=-M+X,b=g));var y=(1-(f=0===c?0:c/k))*i+f*o-((1-(h=0===s?0:s/b))*t+h*r),A=(1-f)*a+f*u-((1-h)*n+h*e);return y*y+A*A}function X(t,n){return t[0]===n[0]?t[1]-n[1]:t[0]-n[0]}i.default&&(i=i.default),t.exports=u,t.exports.default=u},911895:t=>{t.exports=function(t,n,r,e){var i=t[0],a=t[1],o=!1;void 0===r&&(r=0),void 0===e&&(e=n.length);for(var u=(e-r)/2,h=0,s=u-1;h<u;s=h++){var f=n[r+2*h+0],c=n[r+2*h+1],l=n[r+2*s+0],p=n[r+2*s+1];c>a!=p>a&&i<(l-f)*(a-c)/(p-c)+f&&(o=!o)}return o}},326960:(t,n,r)=>{var e=r(911895),i=r(488139);t.exports=function(t,n,r,a){return n.length>0&&Array.isArray(n[0])?i(t,n,r,a):e(t,n,r,a)},t.exports.nested=i,t.exports.flat=e},488139:t=>{t.exports=function(t,n,r,e){var i=t[0],a=t[1],o=!1;void 0===r&&(r=0),void 0===e&&(e=n.length);for(var u=e-r,h=0,s=u-1;h<u;s=h++){var f=n[h+r][0],c=n[h+r][1],l=n[s+r][0],p=n[s+r][1];c>a!=p>a&&i<(l-f)*(a-c)/(p-c)+f&&(o=!o)}return o}},988639:function(t,n){!function(t){"use strict";const n=134217729;function r(t,n,r,e,i){let a,o,u,h,s=n[0],f=e[0],c=0,l=0;f>s==f>-s?(a=s,s=n[++c]):(a=f,f=e[++l]);let p=0;if(c<t&&l<r)for(f>s==f>-s?(u=a-((o=s+a)-s),s=n[++c]):(u=a-((o=f+a)-f),f=e[++l]),a=o,0!==u&&(i[p++]=u);c<t&&l<r;)f>s==f>-s?(u=a-((o=a+s)-(h=o-a))+(s-h),s=n[++c]):(u=a-((o=a+f)-(h=o-a))+(f-h),f=e[++l]),a=o,0!==u&&(i[p++]=u);for(;c<t;)u=a-((o=a+s)-(h=o-a))+(s-h),s=n[++c],a=o,0!==u&&(i[p++]=u);for(;l<r;)u=a-((o=a+f)-(h=o-a))+(f-h),f=e[++l],a=o,0!==u&&(i[p++]=u);return 0===a&&0!==p||(i[p++]=a),p}function e(t){return new Float64Array(t)}const i=e(4),a=e(8),o=e(12),u=e(16),h=e(4);t.orient2d=function(t,e,s,f,c,l){const p=(e-l)*(s-c),v=(t-c)*(f-l),m=p-v;if(0===p||0===v||p>0!=v>0)return m;const d=Math.abs(p+v);return Math.abs(m)>=33306690738754716e-32*d?m:-function(t,e,s,f,c,l,p){let v,m,d,x,g,X,Y,M,_,w,b,k,y,A,B,C,j,F;const O=t-c,P=s-c,Z=e-l,q=f-l;g=(B=(M=O-(Y=(X=n*O)-(X-O)))*(w=q-(_=(X=n*q)-(X-q)))-((A=O*q)-Y*_-M*_-Y*w))-(b=B-(j=(M=Z-(Y=(X=n*Z)-(X-Z)))*(w=P-(_=(X=n*P)-(X-P)))-((C=Z*P)-Y*_-M*_-Y*w))),i[0]=B-(b+g)+(g-j),g=(y=A-((k=A+b)-(g=k-A))+(b-g))-(b=y-C),i[1]=y-(b+g)+(g-C),g=(F=k+b)-k,i[2]=k-(F-g)+(b-g),i[3]=F;let z=function(t,n){let r=n[0];for(let t=1;t<4;t++)r+=n[t];return r}(0,i),D=22204460492503146e-32*p;if(z>=D||-z>=D)return z;if(v=t-(O+(g=t-O))+(g-c),d=s-(P+(g=s-P))+(g-c),m=e-(Z+(g=e-Z))+(g-l),x=f-(q+(g=f-q))+(g-l),0===v&&0===m&&0===d&&0===x)return z;if(D=11093356479670487e-47*p+33306690738754706e-32*Math.abs(z),(z+=O*x+q*v-(Z*d+P*m))>=D||-z>=D)return z;g=(B=(M=v-(Y=(X=n*v)-(X-v)))*(w=q-(_=(X=n*q)-(X-q)))-((A=v*q)-Y*_-M*_-Y*w))-(b=B-(j=(M=m-(Y=(X=n*m)-(X-m)))*(w=P-(_=(X=n*P)-(X-P)))-((C=m*P)-Y*_-M*_-Y*w))),h[0]=B-(b+g)+(g-j),g=(y=A-((k=A+b)-(g=k-A))+(b-g))-(b=y-C),h[1]=y-(b+g)+(g-C),g=(F=k+b)-k,h[2]=k-(F-g)+(b-g),h[3]=F;const E=r(4,i,4,h,a);g=(B=(M=O-(Y=(X=n*O)-(X-O)))*(w=x-(_=(X=n*x)-(X-x)))-((A=O*x)-Y*_-M*_-Y*w))-(b=B-(j=(M=Z-(Y=(X=n*Z)-(X-Z)))*(w=d-(_=(X=n*d)-(X-d)))-((C=Z*d)-Y*_-M*_-Y*w))),h[0]=B-(b+g)+(g-j),g=(y=A-((k=A+b)-(g=k-A))+(b-g))-(b=y-C),h[1]=y-(b+g)+(g-C),g=(F=k+b)-k,h[2]=k-(F-g)+(b-g),h[3]=F;const G=r(E,a,4,h,o);g=(B=(M=v-(Y=(X=n*v)-(X-v)))*(w=x-(_=(X=n*x)-(X-x)))-((A=v*x)-Y*_-M*_-Y*w))-(b=B-(j=(M=m-(Y=(X=n*m)-(X-m)))*(w=d-(_=(X=n*d)-(X-d)))-((C=m*d)-Y*_-M*_-Y*w))),h[0]=B-(b+g)+(g-j),g=(y=A-((k=A+b)-(g=k-A))+(b-g))-(b=y-C),h[1]=y-(b+g)+(g-C),g=(F=k+b)-k,h[2]=k-(F-g)+(b-g),h[3]=F;const H=r(G,o,4,h,u);return u[H-1]}(t,e,s,f,c,l,d)},t.orient2dfast=function(t,n,r,e,i,a){return(n-a)*(r-i)-(t-i)*(e-a)},Object.defineProperty(t,"__esModule",{value:!0})}(n)},643842:(t,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>e});class e{constructor(t=[],n=i){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:r}=this,e=n[t];for(;t>0;){const i=t-1>>1,a=n[i];if(r(e,a)>=0)break;n[t]=a,t=i}n[t]=e}_down(t){const{data:n,compare:r}=this,e=this.length>>1,i=n[t];for(;t<e;){let e=1+(t<<1),a=n[e];const o=e+1;if(o<this.length&&r(n[o],a)<0&&(e=o,a=n[o]),r(a,i)>=0)break;n[t]=a,t=e}n[t]=i}}function i(t,n){return t<n?-1:t>n?1:0}}}]);